<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 11 Data Wrangling in tidyr | Data Analytics in Audit, using R</title>
  <meta name="description" content="This book is intended for auditors performing exploratory data analytics using R programming language, mainly baseR and Tidyverse." />
  <meta name="generator" content="bookdown 0.39 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 11 Data Wrangling in tidyr | Data Analytics in Audit, using R" />
  <meta property="og:type" content="book" />
  
  <meta property="og:description" content="This book is intended for auditors performing exploratory data analytics using R programming language, mainly baseR and Tidyverse." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 11 Data Wrangling in tidyr | Data Analytics in Audit, using R" />
  
  <meta name="twitter:description" content="This book is intended for auditors performing exploratory data analytics using R programming language, mainly baseR and Tidyverse." />
  

<meta name="author" content="Anil Goyal" />


<meta name="date" content="2024-04-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="combining-tablestabular-data.html"/>
<link rel="next" href="part-iii-statistics-with-r.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
  
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
</style>
<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Data Analytics in Audit using R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#acknowledgments"><i class="fa fa-check"></i>Acknowledgments</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#r-not-just-a-letter"><i class="fa fa-check"></i>R, not just a letter</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#why-r"><i class="fa fa-check"></i>Why R?</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="about-author.html"><a href="about-author.html"><i class="fa fa-check"></i>About author</a></li>
<li class="chapter" data-level="" data-path="gearing-up.html"><a href="gearing-up.html"><i class="fa fa-check"></i>Gearing up</a>
<ul>
<li class="chapter" data-level="0.1" data-path="gearing-up.html"><a href="gearing-up.html#download-and-installation"><i class="fa fa-check"></i><b>0.1</b> Download and installation</a></li>
<li class="chapter" data-level="0.2" data-path="gearing-up.html"><a href="gearing-up.html#writing-your-first-code"><i class="fa fa-check"></i><b>0.2</b> Writing your first code</a></li>
<li class="chapter" data-level="0.3" data-path="gearing-up.html"><a href="gearing-up.html#remember"><i class="fa fa-check"></i><b>0.3</b> Remember</a></li>
<li class="chapter" data-level="0.4" data-path="gearing-up.html"><a href="gearing-up.html#r-studio-ide"><i class="fa fa-check"></i><b>0.4</b> R studio IDE</a></li>
<li class="chapter" data-level="0.5" data-path="gearing-up.html"><a href="gearing-up.html#packages-and-libraries"><i class="fa fa-check"></i><b>0.5</b> Packages and libraries</a>
<ul>
<li class="chapter" data-level="0.5.1" data-path="gearing-up.html"><a href="gearing-up.html#double-colon-operator"><i class="fa fa-check"></i><b>0.5.1</b> Double Colon operator <code>::</code></a></li>
</ul></li>
<li class="chapter" data-level="0.6" data-path="gearing-up.html"><a href="gearing-up.html#help"><i class="fa fa-check"></i><b>0.6</b> Getting Help within R</a></li>
<li class="chapter" data-level="0.7" data-path="gearing-up.html"><a href="gearing-up.html#tidyverse"><i class="fa fa-check"></i><b>0.7</b> tidyverse</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="part-i-basic-r-programming-concepts.html"><a href="part-i-basic-r-programming-concepts.html"><i class="fa fa-check"></i>Part-I: Basic R Programming Concepts</a></li>
<li class="chapter" data-level="1" data-path="r-programming-language.html"><a href="r-programming-language.html"><i class="fa fa-check"></i><b>1</b> R Programming Language</a>
<ul>
<li class="chapter" data-level="1.1" data-path="r-programming-language.html"><a href="r-programming-language.html#calculator"><i class="fa fa-check"></i><b>1.1</b> Use R as a calculator</a></li>
<li class="chapter" data-level="1.2" data-path="r-programming-language.html"><a href="r-programming-language.html#basic-concepts"><i class="fa fa-check"></i><b>1.2</b> Basic Concepts</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="r-programming-language.html"><a href="r-programming-language.html#object-assignment"><i class="fa fa-check"></i><b>1.2.1</b> Object Assignment</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="r-programming-language.html"><a href="r-programming-language.html#atomic-data-types-in-r"><i class="fa fa-check"></i><b>1.3</b> Atomic data types in R</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="r-programming-language.html"><a href="r-programming-language.html#logical"><i class="fa fa-check"></i><b>1.3.1</b> Logical</a></li>
<li class="chapter" data-level="1.3.2" data-path="r-programming-language.html"><a href="r-programming-language.html#integer"><i class="fa fa-check"></i><b>1.3.2</b> Integer</a></li>
<li class="chapter" data-level="1.3.3" data-path="r-programming-language.html"><a href="r-programming-language.html#double"><i class="fa fa-check"></i><b>1.3.3</b> Double</a></li>
<li class="chapter" data-level="1.3.4" data-path="r-programming-language.html"><a href="r-programming-language.html#string"><i class="fa fa-check"></i><b>1.3.4</b> Character</a></li>
<li class="chapter" data-level="1.3.5" data-path="r-programming-language.html"><a href="r-programming-language.html#null"><i class="fa fa-check"></i><b>1.3.5</b> NULL</a></li>
<li class="chapter" data-level="1.3.6" data-path="r-programming-language.html"><a href="r-programming-language.html#complex"><i class="fa fa-check"></i><b>1.3.6</b> Complex</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="r-programming-language.html"><a href="r-programming-language.html#data-structuresobject-types-in-r"><i class="fa fa-check"></i><b>1.4</b> Data structures/Object Types in R</a>
<ul>
<li class="chapter" data-level="" data-path="r-programming-language.html"><a href="r-programming-language.html#homogeneous-objects"><i class="fa fa-check"></i>Homogeneous objects</a></li>
<li class="chapter" data-level="1.4.1" data-path="r-programming-language.html"><a href="r-programming-language.html#vectors"><i class="fa fa-check"></i><b>1.4.1</b> Vectors</a></li>
<li class="chapter" data-level="1.4.2" data-path="r-programming-language.html"><a href="r-programming-language.html#matrix-matrices"><i class="fa fa-check"></i><b>1.4.2</b> Matrix (Matrices)</a></li>
<li class="chapter" data-level="1.4.3" data-path="r-programming-language.html"><a href="r-programming-language.html#arrays"><i class="fa fa-check"></i><b>1.4.3</b> Arrays</a></li>
<li class="chapter" data-level="" data-path="r-programming-language.html"><a href="r-programming-language.html#heterogeneous-objects"><i class="fa fa-check"></i>Heterogeneous objects</a></li>
<li class="chapter" data-level="1.4.4" data-path="r-programming-language.html"><a href="r-programming-language.html#lists"><i class="fa fa-check"></i><b>1.4.4</b> Lists</a></li>
<li class="chapter" data-level="1.4.5" data-path="r-programming-language.html"><a href="r-programming-language.html#data-frame"><i class="fa fa-check"></i><b>1.4.5</b> Data Frame</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="r-programming-language.html"><a href="r-programming-language.html#other-data-types"><i class="fa fa-check"></i><b>1.5</b> Other Data types</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="r-programming-language.html"><a href="r-programming-language.html#factors"><i class="fa fa-check"></i><b>1.5.1</b> Factors</a></li>
<li class="chapter" data-level="1.5.2" data-path="r-programming-language.html"><a href="r-programming-language.html#date"><i class="fa fa-check"></i><b>1.5.2</b> Date</a></li>
<li class="chapter" data-level="1.5.3" data-path="r-programming-language.html"><a href="r-programming-language.html#date-time-posixct"><i class="fa fa-check"></i><b>1.5.3</b> Date-time (<code>POSIXct</code>)</a></li>
<li class="chapter" data-level="1.5.4" data-path="r-programming-language.html"><a href="r-programming-language.html#duration-difftime"><i class="fa fa-check"></i><b>1.5.4</b> Duration (<code>difftime</code>)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="subset.html"><a href="subset.html"><i class="fa fa-check"></i><b>2</b> Subsetting R objects or accesing specific elements</a>
<ul>
<li class="chapter" data-level="2.1" data-path="subset.html"><a href="subset.html#subsetting-vectors"><i class="fa fa-check"></i><b>2.1</b> Subsetting vectors</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="subset.html"><a href="subset.html#subsetting-through-a-vector-of-positive-integers"><i class="fa fa-check"></i><b>2.1.1</b> Subsetting through a vector of positive integers</a></li>
<li class="chapter" data-level="2.1.2" data-path="subset.html"><a href="subset.html#subsetting-through-a-vector-of-negative-integers"><i class="fa fa-check"></i><b>2.1.2</b> Subsetting through a vector of negative integers</a></li>
<li class="chapter" data-level="2.1.3" data-path="subset.html"><a href="subset.html#subsetting-through-a-logical-vector"><i class="fa fa-check"></i><b>2.1.3</b> Subsetting through a logical vector</a></li>
<li class="chapter" data-level="2.1.4" data-path="subset.html"><a href="subset.html#subsetting-through-a-character-vector"><i class="fa fa-check"></i><b>2.1.4</b> Subsetting through a character vector</a></li>
<li class="chapter" data-level="2.1.5" data-path="subset.html"><a href="subset.html#subsetting-through-nothing"><i class="fa fa-check"></i><b>2.1.5</b> Subsetting through nothing</a></li>
<li class="chapter" data-level="2.1.6" data-path="subset.html"><a href="subset.html#subsetting-through-zero"><i class="fa fa-check"></i><b>2.1.6</b> Subsetting through Zero</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="subset.html"><a href="subset.html#subsetting-matrices-and-arrays"><i class="fa fa-check"></i><b>2.2</b> Subsetting Matrices and arrays</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="subset.html"><a href="subset.html#indexing-through-multiple-vectors"><i class="fa fa-check"></i><b>2.2.1</b> Indexing through Multiple vectors</a></li>
<li class="chapter" data-level="2.2.2" data-path="subset.html"><a href="subset.html#subsetting-through-one-vector"><i class="fa fa-check"></i><b>2.2.2</b> Subsetting through one vector</a></li>
<li class="chapter" data-level="2.2.3" data-path="subset.html"><a href="subset.html#subsetting-through-a-matrix"><i class="fa fa-check"></i><b>2.2.3</b> Subsetting through a matrix</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="subset.html"><a href="subset.html#subsetting-lists"><i class="fa fa-check"></i><b>2.3</b> Subsetting lists</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="subset.html"><a href="subset.html#subsetting-lists-with"><i class="fa fa-check"></i><b>2.3.1</b> Subsetting lists with <code>[]</code></a></li>
<li class="chapter" data-level="2.3.2" data-path="subset.html"><a href="subset.html#subsetting-lists-with-1"><i class="fa fa-check"></i><b>2.3.2</b> Subsetting lists with <code>[[]]</code></a></li>
<li class="chapter" data-level="2.3.3" data-path="subset.html"><a href="subset.html#chaining-or-multiple-subsetting"><i class="fa fa-check"></i><b>2.3.3</b> Chaining or multiple subsetting</a></li>
<li class="chapter" data-level="2.3.4" data-path="subset.html"><a href="subset.html#subsetting-with"><i class="fa fa-check"></i><b>2.3.4</b> Subsetting with <code>$</code></a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="subset.html"><a href="subset.html#data-frames"><i class="fa fa-check"></i><b>2.4</b> Data frames</a></li>
<li class="chapter" data-level="2.5" data-path="subset.html"><a href="subset.html#subsetting-and-assignment"><i class="fa fa-check"></i><b>2.5</b> Subsetting and assignment</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="func.html"><a href="func.html"><i class="fa fa-check"></i><b>3</b> Functions and operations in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="func.html"><a href="func.html#cust"><i class="fa fa-check"></i><b>3.1</b> Custom Functions</a>
<ul>
<li class="chapter" data-level="" data-path="func.html"><a href="func.html#special-argument-ellipsis-..."><i class="fa fa-check"></i>Special argument ellipsis <code>...</code></a></li>
<li class="chapter" data-level="" data-path="func.html"><a href="func.html#environment-issues"><i class="fa fa-check"></i>Environment issues</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="func.html"><a href="func.html#existing-and-useful-functions-in-base-r"><i class="fa fa-check"></i><b>3.2</b> Existing and useful functions in base R</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="func.html"><a href="func.html#conditions-and-logical-operatorsoperands"><i class="fa fa-check"></i><b>3.2.1</b> Conditions and logical operators/operands</a></li>
<li class="chapter" data-level="" data-path="func.html"><a href="func.html#vectorisation-of-operations-and-functions"><i class="fa fa-check"></i>Vectorisation of operations and functions</a></li>
<li class="chapter" data-level="" data-path="func.html"><a href="func.html#recycling"><i class="fa fa-check"></i>Recycling</a></li>
<li class="chapter" data-level="" data-path="func.html"><a href="func.html#handling-missing-values-na-in-these-operations"><i class="fa fa-check"></i>Handling Missing values <code>NA</code> in these operations</a></li>
<li class="chapter" data-level="" data-path="func.html"><a href="func.html#use-of-above-logical-operators-for-subsetting"><i class="fa fa-check"></i>Use of above logical operators for subsetting</a></li>
<li class="chapter" data-level="" data-path="func.html"><a href="func.html#conditions-with-ifelse"><i class="fa fa-check"></i>Conditions with <code>ifelse</code></a></li>
<li class="chapter" data-level="" data-path="func.html"><a href="func.html#functions-all-and-any"><i class="fa fa-check"></i>Functions <code>all()</code> and <code>any()</code></a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="func.html"><a href="func.html#common-arithmetical-functions"><i class="fa fa-check"></i><b>3.3</b> Common arithmetical Functions</a>
<ul>
<li class="chapter" data-level="" data-path="func.html"><a href="func.html#missing-values"><i class="fa fa-check"></i>Missing values</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="func.html"><a href="func.html#some-statistical-functions"><i class="fa fa-check"></i><b>3.4</b> Some Statistical functions</a></li>
<li class="chapter" data-level="3.5" data-path="func.html"><a href="func.html#prob"><i class="fa fa-check"></i><b>3.5</b> Functions related to sampling and probability distributions</a></li>
<li class="chapter" data-level="3.6" data-path="func.html"><a href="func.html#other-mathematical-functions"><i class="fa fa-check"></i><b>3.6</b> Other Mathematical functions</a></li>
<li class="chapter" data-level="3.7" data-path="func.html"><a href="func.html#string-manipulation-functions"><i class="fa fa-check"></i><b>3.7</b> String Manipulation functions</a></li>
<li class="chapter" data-level="3.8" data-path="func.html"><a href="func.html#other-functions"><i class="fa fa-check"></i><b>3.8</b> Other functions</a></li>
<li class="chapter" data-level="3.9" data-path="func.html"><a href="func.html#pipes"><i class="fa fa-check"></i><b>3.9</b> Pipes</a>
<ul>
<li class="chapter" data-level="3.9.1" data-path="func.html"><a href="func.html#magrittrdplyr-pipe"><i class="fa fa-check"></i><b>3.9.1</b> Magrittr/Dplyr pipe <code>%&gt;%</code></a></li>
<li class="chapter" data-level="3.9.2" data-path="func.html"><a href="func.html#base-r-pipe-version-4.2.0"><i class="fa fa-check"></i><b>3.9.2</b> Base R pipe <code>|&gt;</code> (Version 4.2.0 +)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="control-statements.html"><a href="control-statements.html"><i class="fa fa-check"></i><b>4</b> Control statements</a>
<ul>
<li class="chapter" data-level="4.1" data-path="control-statements.html"><a href="control-statements.html#control-flowloops"><i class="fa fa-check"></i><b>4.1</b> Control flow/Loops</a>
<ul>
<li class="chapter" data-level="" data-path="control-statements.html"><a href="control-statements.html#if-else"><i class="fa fa-check"></i><code>if else</code></a></li>
<li class="chapter" data-level="" data-path="control-statements.html"><a href="control-statements.html#for-loop"><i class="fa fa-check"></i><code>for</code> loop</a></li>
<li class="chapter" data-level="" data-path="control-statements.html"><a href="control-statements.html#while-loop"><i class="fa fa-check"></i><code>while</code> loop</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="functional-programming.html"><a href="functional-programming.html"><i class="fa fa-check"></i><b>5</b> Functional Programming</a>
<ul>
<li class="chapter" data-level="5.1" data-path="functional-programming.html"><a href="functional-programming.html#what-is-functional-programming"><i class="fa fa-check"></i><b>5.1</b> What is functional programming?</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="functional-programming.html"><a href="functional-programming.html#usage-of-functional-programming-in-r"><i class="fa fa-check"></i><b>5.1.1</b> Usage of functional programming in R</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="functional-programming.html"><a href="functional-programming.html#apply-family-of-functions"><i class="fa fa-check"></i><b>5.2</b> <code>apply</code> family of functions</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="functional-programming.html"><a href="functional-programming.html#function-apply"><i class="fa fa-check"></i><b>5.2.1</b> Function <code>apply()</code></a></li>
<li class="chapter" data-level="5.2.2" data-path="functional-programming.html"><a href="functional-programming.html#function-lapply"><i class="fa fa-check"></i><b>5.2.2</b> Function <code>lapply()</code></a></li>
<li class="chapter" data-level="5.2.3" data-path="functional-programming.html"><a href="functional-programming.html#function-sapply"><i class="fa fa-check"></i><b>5.2.3</b> Function <code>sapply()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="functional-programming.html"><a href="functional-programming.html#other-loop-functions"><i class="fa fa-check"></i><b>5.3</b> Other loop functions</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="functional-programming.html"><a href="functional-programming.html#function-replicate"><i class="fa fa-check"></i><b>5.3.1</b> Function <code>replicate()</code></a></li>
<li class="chapter" data-level="5.3.2" data-path="functional-programming.html"><a href="functional-programming.html#function-split"><i class="fa fa-check"></i><b>5.3.2</b> Function <code>split()</code></a></li>
<li class="chapter" data-level="5.3.3" data-path="functional-programming.html"><a href="functional-programming.html#tapply"><i class="fa fa-check"></i><b>5.3.3</b> <code>tapply()</code></a></li>
<li class="chapter" data-level="5.3.4" data-path="functional-programming.html"><a href="functional-programming.html#by-function"><i class="fa fa-check"></i><b>5.3.4</b> <code>by()</code> function</a></li>
<li class="chapter" data-level="5.3.5" data-path="functional-programming.html"><a href="functional-programming.html#specifying-the-output-type-with-vapply"><i class="fa fa-check"></i><b>5.3.5</b> Specifying the output type with <code>vapply()</code></a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="functional-programming.html"><a href="functional-programming.html#purrr"><i class="fa fa-check"></i><b>5.4</b> Functional Programming in <code>purrr</code></a>
<ul>
<li class="chapter" data-level="5.4.1" data-path="functional-programming.html"><a href="functional-programming.html#iterate-over-single-listvector-with-map_-family-of-functions"><i class="fa fa-check"></i><b>5.4.1</b> Iterate over single list/vector with <code>map_*()</code> family of functions</a></li>
<li class="chapter" data-level="5.4.2" data-path="functional-programming.html"><a href="functional-programming.html#iterate-over-two-or-more-listsvectors-using-map2_-pmap_-family"><i class="fa fa-check"></i><b>5.4.2</b> Iterate over two or more lists/vectors using <code>map2_*()</code>/ <code>pmap_*()</code> family</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="visualisations-in-base-r.html"><a href="visualisations-in-base-r.html"><i class="fa fa-check"></i><b>6</b> Visualisations in Base R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="visualisations-in-base-r.html"><a href="visualisations-in-base-r.html#using-plot"><i class="fa fa-check"></i><b>6.1</b> Using <code>plot()</code></a></li>
<li class="chapter" data-level="6.2" data-path="visualisations-in-base-r.html"><a href="visualisations-in-base-r.html#bar-plots-using-barplot"><i class="fa fa-check"></i><b>6.2</b> Bar plots using <code>barplot()</code></a></li>
<li class="chapter" data-level="6.3" data-path="visualisations-in-base-r.html"><a href="visualisations-in-base-r.html#histograms-using-hist"><i class="fa fa-check"></i><b>6.3</b> Histograms using <code>hist()</code></a></li>
<li class="chapter" data-level="6.4" data-path="visualisations-in-base-r.html"><a href="visualisations-in-base-r.html#boxplots-and-variants-using-boxplot"><i class="fa fa-check"></i><b>6.4</b> Boxplot(s) and variants using <code>boxplot()</code></a></li>
<li class="chapter" data-level="6.5" data-path="visualisations-in-base-r.html"><a href="visualisations-in-base-r.html#saving-and-exporting-charts"><i class="fa fa-check"></i><b>6.5</b> Saving and exporting charts</a></li>
<li class="chapter" data-level="6.6" data-path="visualisations-in-base-r.html"><a href="visualisations-in-base-r.html#use-of-par"><i class="fa fa-check"></i><b>6.6</b> Use of <code>par()</code></a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="visualisation-with-ggplot2.html"><a href="visualisation-with-ggplot2.html"><i class="fa fa-check"></i><b>7</b> Visualisation with <code>ggplot2</code></a>
<ul>
<li class="chapter" data-level="7.1" data-path="visualisation-with-ggplot2.html"><a href="visualisation-with-ggplot2.html#core-concepts-of-grammar-of-graphics"><i class="fa fa-check"></i><b>7.1</b> Core concepts of <strong>grammar of graphics</strong></a></li>
<li class="chapter" data-level="7.2" data-path="visualisation-with-ggplot2.html"><a href="visualisation-with-ggplot2.html#prerequisites"><i class="fa fa-check"></i><b>7.2</b> Prerequisites:</a></li>
<li class="chapter" data-level="7.3" data-path="visualisation-with-ggplot2.html"><a href="visualisation-with-ggplot2.html#ggplot2-in-action"><i class="fa fa-check"></i><b>7.3</b> GGPLOT2 in action</a>
<ul>
<li class="chapter" data-level="7.3.1" data-path="visualisation-with-ggplot2.html"><a href="visualisation-with-ggplot2.html#building-a-basic-plot"><i class="fa fa-check"></i><b>7.3.1</b> Building a basic plot</a></li>
<li class="chapter" data-level="7.3.2" data-path="visualisation-with-ggplot2.html"><a href="visualisation-with-ggplot2.html#more-on-aesthetics"><i class="fa fa-check"></i><b>7.3.2</b> More on Aesthetics</a></li>
<li class="chapter" data-level="7.3.3" data-path="visualisation-with-ggplot2.html"><a href="visualisation-with-ggplot2.html#geoms"><i class="fa fa-check"></i><b>7.3.3</b> More on Geoms</a></li>
<li class="chapter" data-level="7.3.4" data-path="visualisation-with-ggplot2.html"><a href="visualisation-with-ggplot2.html#faceting"><i class="fa fa-check"></i><b>7.3.4</b> Faceting</a></li>
<li class="chapter" data-level="7.3.5" data-path="visualisation-with-ggplot2.html"><a href="visualisation-with-ggplot2.html#labels"><i class="fa fa-check"></i><b>7.3.5</b> Labels</a></li>
<li class="chapter" data-level="7.3.6" data-path="visualisation-with-ggplot2.html"><a href="visualisation-with-ggplot2.html#modifying-scales"><i class="fa fa-check"></i><b>7.3.6</b> Modifying scales</a></li>
<li class="chapter" data-level="7.3.7" data-path="visualisation-with-ggplot2.html"><a href="visualisation-with-ggplot2.html#themes"><i class="fa fa-check"></i><b>7.3.7</b> Themes</a></li>
<li class="chapter" data-level="7.3.8" data-path="visualisation-with-ggplot2.html"><a href="visualisation-with-ggplot2.html#savingexporting-plots"><i class="fa fa-check"></i><b>7.3.8</b> Saving/exporting plots</a></li>
<li class="chapter" data-level="7.3.9" data-path="visualisation-with-ggplot2.html"><a href="visualisation-with-ggplot2.html#ggplot2-tips-and-other-extensionssupporting-libraries"><i class="fa fa-check"></i><b>7.3.9</b> GGPLOT2 Tips and other extensions/supporting libraries</a></li>
<li class="chapter" data-level="7.3.10" data-path="visualisation-with-ggplot2.html"><a href="visualisation-with-ggplot2.html#more-to-read"><i class="fa fa-check"></i><b>7.3.10</b> More to read</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="part-ii-dealing-with-tabular-data.html"><a href="part-ii-dealing-with-tabular-data.html"><i class="fa fa-check"></i>Part-II: Dealing with tabular data</a></li>
<li class="chapter" data-level="8" data-path="read.html"><a href="read.html"><i class="fa fa-check"></i><b>8</b> Getting data in and out of R</a>
<ul>
<li class="chapter" data-level="8.1" data-path="read.html"><a href="read.html#importing-external-data-in-r---base-r-methods"><i class="fa fa-check"></i><b>8.1</b> Importing external data in R - Base R methods</a>
<ul>
<li class="chapter" data-level="" data-path="read.html"><a href="read.html#reading-tables-through-read.table-andor-read.csv"><i class="fa fa-check"></i>Reading tables through <code>read.table()</code> and/or <code>read.csv()</code></a></li>
<li class="chapter" data-level="" data-path="read.html"><a href="read.html#read-data-into-a-vector-through-scan-or-readline"><i class="fa fa-check"></i>Read data into a vector through <code>scan()</code> or <code>readline()</code></a></li>
<li class="chapter" data-level="" data-path="read.html"><a href="read.html#reading-text-files-through-readlines"><i class="fa fa-check"></i>Reading text files through <code>readLines()</code></a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="read.html"><a href="read.html#exporting-data-out-of-r---base-r-methods"><i class="fa fa-check"></i><b>8.2</b> Exporting data out of R - Base R methods</a>
<ul>
<li class="chapter" data-level="" data-path="read.html"><a href="read.html#writing-tabular-data-through-write.table-andor-write.csv"><i class="fa fa-check"></i>Writing tabular data through <code>write.table()</code> and/or <code>write.csv()</code></a></li>
<li class="chapter" data-level="" data-path="read.html"><a href="read.html#writing-character-data-line-by-line-to-a-file-through-writelines"><i class="fa fa-check"></i>Writing character data line by line to a file through <code>writeLines()</code></a></li>
<li class="chapter" data-level="" data-path="read.html"><a href="read.html#using-dput-to-get-a-code-representation-of-r-object"><i class="fa fa-check"></i>Using <code>dput()</code> to get a code representation of R object</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="read.html"><a href="read.html#using-external-packages-for-readingwriting-data"><i class="fa fa-check"></i><b>8.3</b> Using external packages for reading/writing data</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="read.html"><a href="read.html#package-readr"><i class="fa fa-check"></i><b>8.3.1</b> Package <code>readr</code></a></li>
<li class="chapter" data-level="8.3.2" data-path="read.html"><a href="read.html#package-readxl"><i class="fa fa-check"></i><b>8.3.2</b> Package <code>readxl</code></a></li>
<li class="chapter" data-level="8.3.3" data-path="read.html"><a href="read.html#reprex"><i class="fa fa-check"></i><b>8.3.3</b> Package <code>reprex</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html"><i class="fa fa-check"></i><b>9</b> Data Transformation in <code>dplyr</code></a>
<ul>
<li class="chapter" data-level="9.1" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#prerequisites-1"><i class="fa fa-check"></i><b>9.1</b> Prerequisites</a></li>
<li class="chapter" data-level="9.2" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#column-verbs"><i class="fa fa-check"></i><b>9.2</b> Column verbs</a>
<ul>
<li class="chapter" data-level="9.2.1" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#select"><i class="fa fa-check"></i><b>9.2.1</b> <code>select()</code></a></li>
<li class="chapter" data-level="9.2.2" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#mutate"><i class="fa fa-check"></i><b>9.2.2</b> <code>mutate()</code></a></li>
<li class="chapter" data-level="9.2.3" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#rename"><i class="fa fa-check"></i><b>9.2.3</b> <code>rename()</code></a></li>
<li class="chapter" data-level="9.2.4" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#relocate"><i class="fa fa-check"></i><b>9.2.4</b> <code>relocate()</code></a></li>
</ul></li>
<li class="chapter" data-level="9.3" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#row-verbs"><i class="fa fa-check"></i><b>9.3</b> Row verbs</a>
<ul>
<li class="chapter" data-level="9.3.1" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#filter"><i class="fa fa-check"></i><b>9.3.1</b> <code>filter</code></a></li>
<li class="chapter" data-level="9.3.2" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#slice_func"><i class="fa fa-check"></i><b>9.3.2</b> <code>slice()</code> / <code>slice_*()</code></a></li>
<li class="chapter" data-level="9.3.3" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#arrange"><i class="fa fa-check"></i><b>9.3.3</b> <code>arrange()</code></a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#group-verbs"><i class="fa fa-check"></i><b>9.4</b> Group verbs</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#group_by"><i class="fa fa-check"></i><b>9.4.1</b> <code>group_by()</code></a></li>
<li class="chapter" data-level="9.4.2" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#summarise"><i class="fa fa-check"></i><b>9.4.2</b> <code>summarise()</code></a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#other-useful-functions-in-dplyr"><i class="fa fa-check"></i><b>9.5</b> Other Useful functions in <code>dplyr</code></a>
<ul>
<li class="chapter" data-level="" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#if_else"><i class="fa fa-check"></i><code>if_else()</code></a></li>
<li class="chapter" data-level="" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#case_when"><i class="fa fa-check"></i><code>case_when()</code></a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="data-transformation-in-dplyr.html"><a href="data-transformation-in-dplyr.html#window-functionsoperations"><i class="fa fa-check"></i><b>9.6</b> Window functions/operations</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html"><i class="fa fa-check"></i><b>10</b> Combining Tables/tabular data</a>
<ul>
<li class="chapter" data-level="10.1" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#simple-joinsconcatenation"><i class="fa fa-check"></i><b>10.1</b> Simple joins/concatenation</a>
<ul>
<li class="chapter" data-level="10.1.1" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#column-binding"><i class="fa fa-check"></i><b>10.1.1</b> Column binding</a></li>
<li class="chapter" data-level="10.1.2" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#row-binding"><i class="fa fa-check"></i><b>10.1.2</b> Row binding</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#relational-joins"><i class="fa fa-check"></i><b>10.2</b> Relational joins</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#inner-joins"><i class="fa fa-check"></i><b>10.2.1</b> Inner Joins</a></li>
<li class="chapter" data-level="10.2.2" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#left-joins"><i class="fa fa-check"></i><b>10.2.2</b> Left Joins</a></li>
<li class="chapter" data-level="10.2.3" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#right-joins"><i class="fa fa-check"></i><b>10.2.3</b> Right Joins</a></li>
<li class="chapter" data-level="10.2.4" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#full-joins"><i class="fa fa-check"></i><b>10.2.4</b> Full Joins</a></li>
<li class="chapter" data-level="" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#many-to-many-joins"><i class="fa fa-check"></i>Many-to-many Joins</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#filtering-joins"><i class="fa fa-check"></i><b>10.3</b> Filtering Joins</a>
<ul>
<li class="chapter" data-level="10.3.1" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#semi-joins"><i class="fa fa-check"></i><b>10.3.1</b> Semi Joins</a></li>
<li class="chapter" data-level="10.3.2" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#anti-joins"><i class="fa fa-check"></i><b>10.3.2</b> Anti Joins</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#relational-but-non-equi-joins"><i class="fa fa-check"></i><b>10.4</b> Relational, but non-equi joins</a>
<ul>
<li class="chapter" data-level="10.4.1" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#inequality-joins"><i class="fa fa-check"></i><b>10.4.1</b> Inequality Joins</a></li>
<li class="chapter" data-level="10.4.2" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#rolling-joins"><i class="fa fa-check"></i><b>10.4.2</b> Rolling Joins</a></li>
<li class="chapter" data-level="10.4.3" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#overlap-joins"><i class="fa fa-check"></i><b>10.4.3</b> Overlap Joins</a></li>
<li class="chapter" data-level="10.4.4" data-path="combining-tablestabular-data.html"><a href="combining-tablestabular-data.html#cross-joins"><i class="fa fa-check"></i><b>10.4.4</b> Cross Joins</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-wrangling-in-tidyr.html"><a href="data-wrangling-in-tidyr.html"><i class="fa fa-check"></i><b>11</b> Data Wrangling in <code>tidyr</code></a>
<ul>
<li class="chapter" data-level="11.1" data-path="data-wrangling-in-tidyr.html"><a href="data-wrangling-in-tidyr.html#prerequisites-2"><i class="fa fa-check"></i><b>11.1</b> Prerequisites</a></li>
<li class="chapter" data-level="11.2" data-path="data-wrangling-in-tidyr.html"><a href="data-wrangling-in-tidyr.html#concepts-of-tidy-data"><i class="fa fa-check"></i><b>11.2</b> Concepts of tidy data</a></li>
<li class="chapter" data-level="11.3" data-path="data-wrangling-in-tidyr.html"><a href="data-wrangling-in-tidyr.html#reshaping-data"><i class="fa fa-check"></i><b>11.3</b> Reshaping data</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="data-wrangling-in-tidyr.html"><a href="data-wrangling-in-tidyr.html#longer-format-through-function-pivot_longer"><i class="fa fa-check"></i><b>11.3.1</b> LONGER format through function <code>pivot_longer()</code></a></li>
<li class="chapter" data-level="11.3.2" data-path="data-wrangling-in-tidyr.html"><a href="data-wrangling-in-tidyr.html#wider-format-through-pivot_wider"><i class="fa fa-check"></i><b>11.3.2</b> WIDER format through <code>pivot_wider()</code></a></li>
<li class="chapter" data-level="11.3.3" data-path="data-wrangling-in-tidyr.html"><a href="data-wrangling-in-tidyr.html#separate-columns-into-multiple-columns-join-columns-into-one-column"><i class="fa fa-check"></i><b>11.3.3</b> Separate Column(s) into multiple columns/ Join columns into one column</a></li>
<li class="chapter" data-level="11.3.4" data-path="data-wrangling-in-tidyr.html"><a href="data-wrangling-in-tidyr.html#separate-rows-into-multiple-rows"><i class="fa fa-check"></i><b>11.3.4</b> Separate row(s) into multiple rows</a></li>
<li class="chapter" data-level="11.3.5" data-path="data-wrangling-in-tidyr.html"><a href="data-wrangling-in-tidyr.html#expand-table-to-handle-missing-rowsvalues"><i class="fa fa-check"></i><b>11.3.5</b> Expand table to handle missing rows/values</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="part-iii-statistics-with-r.html"><a href="part-iii-statistics-with-r.html"><i class="fa fa-check"></i>Part-III: Statistics with R</a></li>
<li class="chapter" data-level="12" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html"><i class="fa fa-check"></i><b>12</b> Descriptive statistics</a>
<ul>
<li class="chapter" data-level="12.1" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#using-base-r"><i class="fa fa-check"></i><b>12.1</b> Using base R</a></li>
<li class="chapter" data-level="12.2" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#dplyr-functions"><i class="fa fa-check"></i><b>12.2</b> Dplyr functions</a></li>
<li class="chapter" data-level="12.3" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#using-another-package-psych"><i class="fa fa-check"></i><b>12.3</b> Using another package <code>psych</code></a></li>
<li class="chapter" data-level="12.4" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#using-skimr"><i class="fa fa-check"></i><b>12.4</b> Using <code>skimr</code></a></li>
<li class="chapter" data-level="12.5" data-path="descriptive-statistics.html"><a href="descriptive-statistics.html#viewing-relationships-between-different-variables"><i class="fa fa-check"></i><b>12.5</b> Viewing relationships between different variables</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="probability-in-r.html"><a href="probability-in-r.html"><i class="fa fa-check"></i><b>13</b> Probability in R</a>
<ul>
<li class="chapter" data-level="13.1" data-path="probability-in-r.html"><a href="probability-in-r.html#p-set-of-functions"><i class="fa fa-check"></i><b>13.1</b> <code>p*()</code> set of functions</a></li>
<li class="chapter" data-level="13.2" data-path="probability-in-r.html"><a href="probability-in-r.html#q-set-of-functions"><i class="fa fa-check"></i><b>13.2</b> <code>q*()</code> set of functions</a></li>
<li class="chapter" data-level="13.3" data-path="probability-in-r.html"><a href="probability-in-r.html#d-set-of-functions"><i class="fa fa-check"></i><b>13.3</b> <code>d*()</code> set of functions</a></li>
<li class="chapter" data-level="13.4" data-path="probability-in-r.html"><a href="probability-in-r.html#r-set-of-functions"><i class="fa fa-check"></i><b>13.4</b> <code>r*()</code> set of functions</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="linear-regression.html"><a href="linear-regression.html"><i class="fa fa-check"></i><b>14</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="14.1" data-path="linear-regression.html"><a href="linear-regression.html#basic-concepts-1"><i class="fa fa-check"></i><b>14.1</b> Basic concepts</a></li>
<li class="chapter" data-level="14.2" data-path="linear-regression.html"><a href="linear-regression.html#simple-linear-regression-in-r"><i class="fa fa-check"></i><b>14.2</b> Simple Linear Regression in R</a></li>
<li class="chapter" data-level="14.3" data-path="linear-regression.html"><a href="linear-regression.html#assumptions-of-linear-regression"><i class="fa fa-check"></i><b>14.3</b> Assumptions of Linear Regression</a></li>
<li class="chapter" data-level="14.4" data-path="linear-regression.html"><a href="linear-regression.html#interpreting-the-output-of-lm"><i class="fa fa-check"></i><b>14.4</b> Interpreting the output of <code>lm</code></a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="linear-regression.html"><a href="linear-regression.html#call"><i class="fa fa-check"></i><b>14.4.1</b> <code>call</code></a></li>
<li class="chapter" data-level="14.4.2" data-path="linear-regression.html"><a href="linear-regression.html#residuals"><i class="fa fa-check"></i><b>14.4.2</b> <code>Residuals</code></a></li>
<li class="chapter" data-level="14.4.3" data-path="linear-regression.html"><a href="linear-regression.html#coefficients"><i class="fa fa-check"></i><b>14.4.3</b> <code>Coefficients</code></a></li>
<li class="chapter" data-level="14.4.4" data-path="linear-regression.html"><a href="linear-regression.html#signif.-codes"><i class="fa fa-check"></i><b>14.4.4</b> <code>Signif. codes</code></a></li>
<li class="chapter" data-level="14.4.5" data-path="linear-regression.html"><a href="linear-regression.html#residual-standard-error"><i class="fa fa-check"></i><b>14.4.5</b> <code>Residual standard error</code></a></li>
<li class="chapter" data-level="14.4.6" data-path="linear-regression.html"><a href="linear-regression.html#r-squared-both-multiple-and-adjusted"><i class="fa fa-check"></i><b>14.4.6</b> <code>R-Squared</code> both Multiple and Adjusted</a></li>
<li class="chapter" data-level="14.4.7" data-path="linear-regression.html"><a href="linear-regression.html#f-statistic-and-p-value"><i class="fa fa-check"></i><b>14.4.7</b> <code>F-Statistic</code> and <code>p-value</code></a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="linear-regression.html"><a href="linear-regression.html#model-evaluation-metrics"><i class="fa fa-check"></i><b>14.5</b> Model Evaluation Metrics</a>
<ul>
<li class="chapter" data-level="14.5.1" data-path="linear-regression.html"><a href="linear-regression.html#mae---mean-absolute-error"><i class="fa fa-check"></i><b>14.5.1</b> MAE - Mean Absolute Error</a></li>
<li class="chapter" data-level="14.5.2" data-path="linear-regression.html"><a href="linear-regression.html#mse---mean-square-error-and-rmse---root-mean-square-error"><i class="fa fa-check"></i><b>14.5.2</b> MSE - Mean Square Error and RMSE - Root Mean Square Error</a></li>
<li class="chapter" data-level="14.5.3" data-path="linear-regression.html"><a href="linear-regression.html#mape---mean-absolute-percentage-error"><i class="fa fa-check"></i><b>14.5.3</b> MAPE - Mean Absolute Percentage Error</a></li>
<li class="chapter" data-level="14.5.4" data-path="linear-regression.html"><a href="linear-regression.html#r---squared-and-adjusted-r-squared"><i class="fa fa-check"></i><b>14.5.4</b> R - Squared and adjusted R-squared</a></li>
</ul></li>
<li class="chapter" data-level="14.6" data-path="linear-regression.html"><a href="linear-regression.html#plotting-the-results-and-their-interpretion"><i class="fa fa-check"></i><b>14.6</b> Plotting the results and their interpretion</a></li>
<li class="chapter" data-level="14.7" data-path="linear-regression.html"><a href="linear-regression.html#using-lm-for-predictions"><i class="fa fa-check"></i><b>14.7</b> Using <code>lm</code> for predictions</a></li>
<li class="chapter" data-level="14.8" data-path="linear-regression.html"><a href="linear-regression.html#multiple-linear-regression"><i class="fa fa-check"></i><b>14.8</b> Multiple Linear Regression</a></li>
<li class="chapter" data-level="14.9" data-path="linear-regression.html"><a href="linear-regression.html#including-categorical-or-factor-variables-in-lm"><i class="fa fa-check"></i><b>14.9</b> Including categorical or factor variables in <code>lm</code></a>
<ul>
<li class="chapter" data-level="14.9.1" data-path="linear-regression.html"><a href="linear-regression.html#parallel-slopes-regression"><i class="fa fa-check"></i><b>14.9.1</b> Parallel slopes regression</a></li>
<li class="chapter" data-level="14.9.2" data-path="linear-regression.html"><a href="linear-regression.html#extending-multiple-linear-regression-by-including-interactions"><i class="fa fa-check"></i><b>14.9.2</b> Extending multiple linear regression by including <code>interactions</code></a></li>
</ul></li>
<li class="chapter" data-level="14.10" data-path="linear-regression.html"><a href="linear-regression.html#multi-collinearity-and-variance-inflation-factor-vif"><i class="fa fa-check"></i><b>14.10</b> Multi-collinearity and Variance Inflation Factor (VIF)</a></li>
<li class="chapter" data-level="14.11" data-path="linear-regression.html"><a href="linear-regression.html#one-complete-example"><i class="fa fa-check"></i><b>14.11</b> One Complete Example</a></li>
<li class="chapter" data-level="14.12" data-path="linear-regression.html"><a href="linear-regression.html#simpsons-paradox"><i class="fa fa-check"></i><b>14.12</b> Simpsons paradox</a></li>
<li class="chapter" data-level="14.13" data-path="linear-regression.html"><a href="linear-regression.html#conclusion-and-final-thoughts"><i class="fa fa-check"></i><b>14.13</b> Conclusion and Final thoughts</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="time-series-analysis.html"><a href="time-series-analysis.html"><i class="fa fa-check"></i><b>15</b> Time Series Analysis</a>
<ul>
<li class="chapter" data-level="15.1" data-path="time-series-analysis.html"><a href="time-series-analysis.html#components-of-time-series"><i class="fa fa-check"></i><b>15.1</b> Components of Time series</a></li>
<li class="chapter" data-level="15.2" data-path="time-series-analysis.html"><a href="time-series-analysis.html#additive-or-multiplicative-components"><i class="fa fa-check"></i><b>15.2</b> Additive or multiplicative components</a></li>
<li class="chapter" data-level="15.3" data-path="time-series-analysis.html"><a href="time-series-analysis.html#practical-examples-in-r"><i class="fa fa-check"></i><b>15.3</b> Practical examples in R</a>
<ul>
<li class="chapter" data-level="" data-path="time-series-analysis.html"><a href="time-series-analysis.html#pre-requisites"><i class="fa fa-check"></i>Pre-requisites</a></li>
<li class="chapter" data-level="15.3.1" data-path="time-series-analysis.html"><a href="time-series-analysis.html#creating-a-time-series-object-in-r"><i class="fa fa-check"></i><b>15.3.1</b> Creating a time series object in R</a></li>
<li class="chapter" data-level="15.3.2" data-path="time-series-analysis.html"><a href="time-series-analysis.html#plotting-time-series-objects"><i class="fa fa-check"></i><b>15.3.2</b> Plotting Time Series Objects</a></li>
</ul></li>
<li class="chapter" data-level="15.4" data-path="time-series-analysis.html"><a href="time-series-analysis.html#time-series-modelling-and-forecasting"><i class="fa fa-check"></i><b>15.4</b> Time series modelling and forecasting</a>
<ul>
<li class="chapter" data-level="" data-path="time-series-analysis.html"><a href="time-series-analysis.html#data-based-techniques"><i class="fa fa-check"></i>Data-based techniques</a></li>
<li class="chapter" data-level="15.4.1" data-path="time-series-analysis.html"><a href="time-series-analysis.html#naive-method"><i class="fa fa-check"></i><b>15.4.1</b> Naive method</a></li>
<li class="chapter" data-level="15.4.2" data-path="time-series-analysis.html"><a href="time-series-analysis.html#moving-averages"><i class="fa fa-check"></i><b>15.4.2</b> Moving averages</a></li>
<li class="chapter" data-level="15.4.3" data-path="time-series-analysis.html"><a href="time-series-analysis.html#exponential-smoothing"><i class="fa fa-check"></i><b>15.4.3</b> Exponential smoothing</a></li>
<li class="chapter" data-level="" data-path="time-series-analysis.html"><a href="time-series-analysis.html#seasonal-decomposition-methods"><i class="fa fa-check"></i>Seasonal decomposition methods</a></li>
<li class="chapter" data-level="15.4.4" data-path="time-series-analysis.html"><a href="time-series-analysis.html#classical-seasonal-decomposition"><i class="fa fa-check"></i><b>15.4.4</b> Classical seasonal decomposition</a></li>
<li class="chapter" data-level="15.4.5" data-path="time-series-analysis.html"><a href="time-series-analysis.html#seasonal-and-trend-decomposition-using-loess."><i class="fa fa-check"></i><b>15.4.5</b> Seasonal and Trend decomposition using Loess.</a></li>
<li class="chapter" data-level="" data-path="time-series-analysis.html"><a href="time-series-analysis.html#model-based-techniques"><i class="fa fa-check"></i>Model-based techniques</a></li>
</ul></li>
<li class="chapter" data-level="15.5" data-path="time-series-analysis.html"><a href="time-series-analysis.html#plotting-different-elements-of-time-series"><i class="fa fa-check"></i><b>15.5</b> Plotting different elements of time series</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="part-iv-techniques-for-auditfraud-detection.html"><a href="part-iv-techniques-for-auditfraud-detection.html"><i class="fa fa-check"></i>Part IV: Techniques for Audit/Fraud detection</a></li>
<li class="chapter" data-level="16" data-path="data-cleaning-in-r.html"><a href="data-cleaning-in-r.html"><i class="fa fa-check"></i><b>16</b> Data Cleaning in R</a>
<ul>
<li class="chapter" data-level="16.1" data-path="data-cleaning-in-r.html"><a href="data-cleaning-in-r.html#cleaning-column-names."><i class="fa fa-check"></i><b>16.1</b> Cleaning Column names.</a></li>
<li class="chapter" data-level="16.2" data-path="data-cleaning-in-r.html"><a href="data-cleaning-in-r.html#handling-duplicate-records"><i class="fa fa-check"></i><b>16.2</b> Handling duplicate records</a></li>
<li class="chapter" data-level="16.3" data-path="data-cleaning-in-r.html"><a href="data-cleaning-in-r.html#remove-constant-redundant-columns"><i class="fa fa-check"></i><b>16.3</b> Remove Constant (Redundant) columns</a></li>
<li class="chapter" data-level="16.4" data-path="data-cleaning-in-r.html"><a href="data-cleaning-in-r.html#remove-empty-rows-andor-columns"><i class="fa fa-check"></i><b>16.4</b> Remove empty rows and/or columns</a></li>
<li class="chapter" data-level="16.5" data-path="data-cleaning-in-r.html"><a href="data-cleaning-in-r.html#fix-excel-dates-stored-as-serial-numbers"><i class="fa fa-check"></i><b>16.5</b> Fix excel dates stored as serial numbers</a></li>
<li class="chapter" data-level="16.6" data-path="data-cleaning-in-r.html"><a href="data-cleaning-in-r.html#convert-a-mix-of-date-and-datetime-formats-to-date"><i class="fa fa-check"></i><b>16.6</b> Convert a mix of date and datetime formats to date</a></li>
</ul></li>
<li class="chapter" data-level="17" data-path="random-sampling-in-r.html"><a href="random-sampling-in-r.html"><i class="fa fa-check"></i><b>17</b> Random sampling in R</a>
<ul>
<li class="chapter" data-level="" data-path="random-sampling-in-r.html"><a href="random-sampling-in-r.html#prerequisites-3"><i class="fa fa-check"></i>Prerequisites</a></li>
<li class="chapter" data-level="17.1" data-path="random-sampling-in-r.html"><a href="random-sampling-in-r.html#simple-random-sampling-with-and-without-replacement"><i class="fa fa-check"></i><b>17.1</b> Simple Random Sampling (With and without replacement)</a></li>
<li class="chapter" data-level="17.2" data-path="random-sampling-in-r.html"><a href="random-sampling-in-r.html#srs"><i class="fa fa-check"></i><b>17.2</b> Systematic random sampling</a></li>
<li class="chapter" data-level="17.3" data-path="random-sampling-in-r.html"><a href="random-sampling-in-r.html#probability-proportionate-to-size-with-or-without-replacement-a.k.a-monetary-unit-sampling"><i class="fa fa-check"></i><b>17.3</b> Probability Proportionate to size (with or without replacement) a.k.a monetary unit sampling</a></li>
<li class="chapter" data-level="17.4" data-path="random-sampling-in-r.html"><a href="random-sampling-in-r.html#stratified-random-sampling"><i class="fa fa-check"></i><b>17.4</b> Stratified random sampling</a></li>
<li class="chapter" data-level="17.5" data-path="random-sampling-in-r.html"><a href="random-sampling-in-r.html#cluster-sampling"><i class="fa fa-check"></i><b>17.5</b> Cluster sampling</a></li>
</ul></li>
<li class="chapter" data-level="18" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html"><i class="fa fa-check"></i><b>18</b> Benford Tests/Analysis</a>
<ul>
<li class="chapter" data-level="18.1" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#introduction-and-historical-context"><i class="fa fa-check"></i><b>18.1</b> Introduction and Historical context</a></li>
<li class="chapter" data-level="18.2" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#benfords-law-properties-and-extensions"><i class="fa fa-check"></i><b>18.2</b> Benfords Law, properties and extensions</a>
<ul>
<li class="chapter" data-level="18.2.1" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#law-of-first-digit"><i class="fa fa-check"></i><b>18.2.1</b> Law of first digit</a></li>
<li class="chapter" data-level="18.2.2" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#scale-invariance"><i class="fa fa-check"></i><b>18.2.2</b> Scale Invariance</a></li>
<li class="chapter" data-level="18.2.3" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#first-two-digits"><i class="fa fa-check"></i><b>18.2.3</b> First two digits</a></li>
<li class="chapter" data-level="18.2.4" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#second-order-test"><i class="fa fa-check"></i><b>18.2.4</b> Second order test</a></li>
<li class="chapter" data-level="18.2.5" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#summation-test"><i class="fa fa-check"></i><b>18.2.5</b> Summation Test</a></li>
<li class="chapter" data-level="18.2.6" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#limitations-of-benford-tests"><i class="fa fa-check"></i><b>18.2.6</b> Limitations of Benford Tests</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#goodness-of-fit-metrics"><i class="fa fa-check"></i><b>18.3</b> Goodness of fit metrics</a>
<ul>
<li class="chapter" data-level="18.3.1" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#chis"><i class="fa fa-check"></i><b>18.3.1</b> Chi-square statistic</a></li>
<li class="chapter" data-level="18.3.2" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#z-score"><i class="fa fa-check"></i><b>18.3.2</b> Z-score</a></li>
<li class="chapter" data-level="18.3.3" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#mean-absolute-deviation"><i class="fa fa-check"></i><b>18.3.3</b> Mean absolute deviation</a></li>
<li class="chapter" data-level="18.3.4" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#other-descriptive-statistics"><i class="fa fa-check"></i><b>18.3.4</b> Other descriptive Statistics</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#important"><i class="fa fa-check"></i><b>18.4</b> Important</a></li>
<li class="chapter" data-level="18.5" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#pracben"><i class="fa fa-check"></i><b>18.5</b> Practical approach in R</a>
<ul>
<li class="chapter" data-level="18.5.1" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#other-useful-functions-in-package"><i class="fa fa-check"></i><b>18.5.1</b> Other Useful functions in package</a></li>
<li class="chapter" data-level="18.5.2" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#example-2-corporate-payments-data"><i class="fa fa-check"></i><b>18.5.2</b> Example-2: Corporate payments data</a></li>
<li class="chapter" data-level="18.5.3" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#example-3-lakes-perimeter"><i class="fa fa-check"></i><b>18.5.3</b> Example-3: Lakes Perimeter</a></li>
</ul></li>
<li class="chapter" data-level="18.6" data-path="benford-testsanalysis.html"><a href="benford-testsanalysis.html#conclusion-2"><i class="fa fa-check"></i><b>18.6</b> Conclusion</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="finding-duplicates.html"><a href="finding-duplicates.html"><i class="fa fa-check"></i><b>19</b> Finding duplicates</a>
<ul>
<li class="chapter" data-level="" data-path="finding-duplicates.html"><a href="finding-duplicates.html#prerequisites-4"><i class="fa fa-check"></i>Prerequisites</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="dup_net.html"><a href="dup_net.html"><i class="fa fa-check"></i><b>20</b> Network analysis</a>
<ul>
<li class="chapter" data-level="20.1" data-path="dup_net.html"><a href="dup_net.html#relatedconnected-entities---case--ii"><i class="fa fa-check"></i><b>20.1</b> Related/Connected Entities - case -II</a></li>
</ul></li>
<li class="chapter" data-level="21" data-path="detecting-gaps-in-sequences.html"><a href="detecting-gaps-in-sequences.html"><i class="fa fa-check"></i><b>21</b> Detecting gaps in sequences</a>
<ul>
<li class="chapter" data-level="21.1" data-path="detecting-gaps-in-sequences.html"><a href="detecting-gaps-in-sequences.html#when-sequence-numbers-are-available-as-numeric-column"><i class="fa fa-check"></i><b>21.1</b> When sequence numbers are available as <code>numeric</code> column</a></li>
<li class="chapter" data-level="21.2" data-path="detecting-gaps-in-sequences.html"><a href="detecting-gaps-in-sequences.html#when-sequence-numbers-are-available-as-character-column"><i class="fa fa-check"></i><b>21.2</b> When sequence numbers are available as <code>character()</code> column</a></li>
</ul></li>
<li class="chapter" data-level="22" data-path="merging-large-number-of-similar-datasets-into-one.html"><a href="merging-large-number-of-similar-datasets-into-one.html"><i class="fa fa-check"></i><b>22</b> Merging large number of similar datasets into one</a>
<ul>
<li class="chapter" data-level="22.1" data-path="merging-large-number-of-similar-datasets-into-one.html"><a href="merging-large-number-of-similar-datasets-into-one.html#case-1-merging-multiple-excel-sheets-into-one-data-frame"><i class="fa fa-check"></i><b>22.1</b> <strong>Case-1</strong>: Merging multiple excel sheets into one data frame</a></li>
<li class="chapter" data-level="22.2" data-path="merging-large-number-of-similar-datasets-into-one.html"><a href="merging-large-number-of-similar-datasets-into-one.html#case-2-merging-multiple-files-into-one-data-frame"><i class="fa fa-check"></i><b>22.2</b> <strong>Case-2</strong>: Merging multiple files into one data frame</a></li>
<li class="chapter" data-level="22.3" data-path="merging-large-number-of-similar-datasets-into-one.html"><a href="merging-large-number-of-similar-datasets-into-one.html#case-3-split-and-save-one-data-frame-into-multiple-excelcsv-files-simultaneously."><i class="fa fa-check"></i><b>22.3</b> <strong>Case-3</strong>: Split and save one data frame into multiple excel/csv files simultaneously.</a></li>
<li class="chapter" data-level="22.4" data-path="merging-large-number-of-similar-datasets-into-one.html"><a href="merging-large-number-of-similar-datasets-into-one.html#case-4-splitting-one-data-into-muliple-files-having-multiple-sheets"><i class="fa fa-check"></i><b>22.4</b> <strong>Case-4</strong>: Splitting one data into muliple files having multiple sheets</a></li>
</ul></li>
<li class="chapter" data-level="23" data-path="sentiment-analysis-through-word-cloud.html"><a href="sentiment-analysis-through-word-cloud.html"><i class="fa fa-check"></i><b>23</b> Sentiment Analysis through Word-Cloud</a>
<ul>
<li class="chapter" data-level="23.1" data-path="sentiment-analysis-through-word-cloud.html"><a href="sentiment-analysis-through-word-cloud.html#step-1prepare-data-and-load-libraries"><i class="fa fa-check"></i><b>23.1</b> Step-1:Prepare data and load libraries</a></li>
<li class="chapter" data-level="23.2" data-path="sentiment-analysis-through-word-cloud.html"><a href="sentiment-analysis-through-word-cloud.html#step-2-reshape-the-.txt-data-frame-into-one-column"><i class="fa fa-check"></i><b>23.2</b> Step-2: Reshape the .txt data frame into one column</a></li>
<li class="chapter" data-level="23.3" data-path="sentiment-analysis-through-word-cloud.html"><a href="sentiment-analysis-through-word-cloud.html#step-3-tokenize-the-datawords"><i class="fa fa-check"></i><b>23.3</b> Step-3: Tokenize the data/words</a></li>
<li class="chapter" data-level="23.4" data-path="sentiment-analysis-through-word-cloud.html"><a href="sentiment-analysis-through-word-cloud.html#step-4-clean-stop-words"><i class="fa fa-check"></i><b>23.4</b> Step-4: Clean stop words</a></li>
<li class="chapter" data-level="23.5" data-path="sentiment-analysis-through-word-cloud.html"><a href="sentiment-analysis-through-word-cloud.html#step-5-plotgenerate-word-cloud"><i class="fa fa-check"></i><b>23.5</b> Step-5: Plot/generate word cloud</a></li>
</ul></li>
<li class="chapter" data-level="24" data-path="finding-string-similarity.html"><a href="finding-string-similarity.html"><i class="fa fa-check"></i><b>24</b> Finding string similarity</a>
<ul>
<li class="chapter" data-level="24.1" data-path="finding-string-similarity.html"><a href="finding-string-similarity.html#lexical-matching"><i class="fa fa-check"></i><b>24.1</b> Lexical matching</a>
<ul>
<li class="chapter" data-level="24.1.1" data-path="finding-string-similarity.html"><a href="finding-string-similarity.html#levenshtein-algorithm"><i class="fa fa-check"></i><b>24.1.1</b> Levenshtein algorithm</a></li>
<li class="chapter" data-level="24.1.2" data-path="finding-string-similarity.html"><a href="finding-string-similarity.html#hamming-distance"><i class="fa fa-check"></i><b>24.1.2</b> Hamming distance</a></li>
<li class="chapter" data-level="24.1.3" data-path="finding-string-similarity.html"><a href="finding-string-similarity.html#jaro-winkler"><i class="fa fa-check"></i><b>24.1.3</b> Jaro-Winkler</a></li>
<li class="chapter" data-level="24.1.4" data-path="finding-string-similarity.html"><a href="finding-string-similarity.html#q-gram"><i class="fa fa-check"></i><b>24.1.4</b> Q-Gram</a></li>
</ul></li>
<li class="chapter" data-level="24.2" data-path="finding-string-similarity.html"><a href="finding-string-similarity.html#phonetic-matching"><i class="fa fa-check"></i><b>24.2</b> Phonetic matching</a>
<ul>
<li class="chapter" data-level="24.2.1" data-path="finding-string-similarity.html"><a href="finding-string-similarity.html#soundex"><i class="fa fa-check"></i><b>24.2.1</b> Soundex</a></li>
<li class="chapter" data-level="24.2.2" data-path="finding-string-similarity.html"><a href="finding-string-similarity.html#metaphone"><i class="fa fa-check"></i><b>24.2.2</b> Metaphone</a></li>
<li class="chapter" data-level="24.2.3" data-path="finding-string-similarity.html"><a href="finding-string-similarity.html#double-metaphone"><i class="fa fa-check"></i><b>24.2.3</b> Double Metaphone</a></li>
<li class="chapter" data-level="24.2.4" data-path="finding-string-similarity.html"><a href="finding-string-similarity.html#metaphone-3"><i class="fa fa-check"></i><b>24.2.4</b> Metaphone 3</a></li>
</ul></li>
<li class="chapter" data-level="24.3" data-path="finding-string-similarity.html"><a href="finding-string-similarity.html#examples"><i class="fa fa-check"></i><b>24.3</b> Examples</a></li>
</ul></li>
<li class="chapter" data-level="25" data-path="anomaly-detection.html"><a href="anomaly-detection.html"><i class="fa fa-check"></i><b>25</b> Anomaly Detection</a>
<ul>
<li class="chapter" data-level="25.1" data-path="anomaly-detection.html"><a href="anomaly-detection.html#definition-and-types-of-anomalies"><i class="fa fa-check"></i><b>25.1</b> Definition and types of anomalies</a></li>
<li class="chapter" data-level="" data-path="anomaly-detection.html"><a href="anomaly-detection.html#anomaly-detection-in-r"><i class="fa fa-check"></i>Anomaly detection, in R</a></li>
<li class="chapter" data-level="25.2" data-path="anomaly-detection.html"><a href="anomaly-detection.html#by-inspection"><i class="fa fa-check"></i><b>25.2</b> By inspection</a></li>
<li class="chapter" data-level="25.3" data-path="anomaly-detection.html"><a href="anomaly-detection.html#grubbs-test"><i class="fa fa-check"></i><b>25.3</b> Grubbs Test</a></li>
<li class="chapter" data-level="25.4" data-path="anomaly-detection.html"><a href="anomaly-detection.html#seasonal-hybrid-esd-algorithm"><i class="fa fa-check"></i><b>25.4</b> Seasonal Hybrid ESD Algorithm</a></li>
<li class="chapter" data-level="25.5" data-path="anomaly-detection.html"><a href="anomaly-detection.html#k-nearest-neighbour-distance-score"><i class="fa fa-check"></i><b>25.5</b> k-Nearest Neighbour Distance Score</a></li>
<li class="chapter" data-level="25.6" data-path="anomaly-detection.html"><a href="anomaly-detection.html#local-outlier-factor"><i class="fa fa-check"></i><b>25.6</b> Local Outlier Factor</a></li>
<li class="chapter" data-level="25.7" data-path="anomaly-detection.html"><a href="anomaly-detection.html#isolation-treesforest"><i class="fa fa-check"></i><b>25.7</b> Isolation Trees/Forest</a></li>
<li class="chapter" data-level="25.8" data-path="anomaly-detection.html"><a href="anomaly-detection.html#including-categorical-variables-in-lof"><i class="fa fa-check"></i><b>25.8</b> Including categorical variables in LOF</a></li>
<li class="chapter" data-level="25.9" data-path="anomaly-detection.html"><a href="anomaly-detection.html#time-series-anomalies"><i class="fa fa-check"></i><b>25.9</b> Time Series Anomalies</a></li>
</ul></li>
<li class="chapter" data-level="26" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html"><i class="fa fa-check"></i><b>26</b> Data Envelopment Analysis</a>
<ul>
<li class="chapter" data-level="26.1" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#how-it-works"><i class="fa fa-check"></i><b>26.1</b> How it works?</a></li>
<li class="chapter" data-level="26.2" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#use-cases"><i class="fa fa-check"></i><b>26.2</b> Use-cases</a></li>
<li class="chapter" data-level="26.3" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#possible-uses-in-audit"><i class="fa fa-check"></i><b>26.3</b> Possible uses in Audit</a></li>
<li class="chapter" data-level="26.4" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#a-practical-example-in-r"><i class="fa fa-check"></i><b>26.4</b> A practical example in R</a>
<ul>
<li class="chapter" data-level="26.4.1" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#pre-requisites-1"><i class="fa fa-check"></i><b>26.4.1</b> Pre-requisites</a></li>
<li class="chapter" data-level="26.4.2" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#sample-data-set"><i class="fa fa-check"></i><b>26.4.2</b> Sample data-set</a></li>
<li class="chapter" data-level="26.4.3" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#performing-dea-in-r"><i class="fa fa-check"></i><b>26.4.3</b> Performing DEA in R</a></li>
<li class="chapter" data-level="26.4.4" data-path="data-envelopment-analysis.html"><a href="data-envelopment-analysis.html#interpreting-above-results"><i class="fa fa-check"></i><b>26.4.4</b> Interpreting above results</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="27" data-path="reverse-geo-coding.html"><a href="reverse-geo-coding.html"><i class="fa fa-check"></i><b>27</b> Reverse geo-coding</a>
<ul>
<li class="chapter" data-level="27.1" data-path="reverse-geo-coding.html"><a href="reverse-geo-coding.html#introduction"><i class="fa fa-check"></i><b>27.1</b> Introduction</a></li>
<li class="chapter" data-level="27.2" data-path="reverse-geo-coding.html"><a href="reverse-geo-coding.html#widely-used-databases"><i class="fa fa-check"></i><b>27.2</b> Widely used databases</a></li>
<li class="chapter" data-level="27.3" data-path="reverse-geo-coding.html"><a href="reverse-geo-coding.html#example-in-r"><i class="fa fa-check"></i><b>27.3</b> Example in R</a>
<ul>
<li class="chapter" data-level="27.3.1" data-path="reverse-geo-coding.html"><a href="reverse-geo-coding.html#prerequisites-5"><i class="fa fa-check"></i><b>27.3.1</b> Prerequisites</a></li>
<li class="chapter" data-level="27.3.2" data-path="reverse-geo-coding.html"><a href="reverse-geo-coding.html#function-to-be-used"><i class="fa fa-check"></i><b>27.3.2</b> Function to be used</a></li>
<li class="chapter" data-level="27.3.3" data-path="reverse-geo-coding.html"><a href="reverse-geo-coding.html#practical-data-set"><i class="fa fa-check"></i><b>27.3.3</b> Practical data-set</a></li>
<li class="chapter" data-level="27.3.4" data-path="reverse-geo-coding.html"><a href="reverse-geo-coding.html#using-it-in-a-dataset"><i class="fa fa-check"></i><b>27.3.4</b> Using it in a dataset</a></li>
<li class="chapter" data-level="27.3.5" data-path="reverse-geo-coding.html"><a href="reverse-geo-coding.html#view-above-results"><i class="fa fa-check"></i><b>27.3.5</b> View above results</a></li>
<li class="chapter" data-level="27.3.6" data-path="reverse-geo-coding.html"><a href="reverse-geo-coding.html#alternate-syntax-for-those-who-do-not-want-to-use-purrrpmap_dfr"><i class="fa fa-check"></i><b>27.3.6</b> Alternate syntax (for those who do not want to use <code>purrr::pmap_dfr</code>)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="28" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html"><i class="fa fa-check"></i><b>28</b> Regex - A quick introduction</a>
<ul>
<li class="chapter" data-level="28.1" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#basic-regex---literal-characters"><i class="fa fa-check"></i><b>28.1</b> Basic Regex - Literal Characters</a></li>
<li class="chapter" data-level="28.2" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#metacharacters"><i class="fa fa-check"></i><b>28.2</b> Metacharacters</a>
<ul>
<li class="chapter" data-level="28.2.1" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#character-sets"><i class="fa fa-check"></i><b>28.2.1</b> Character sets</a></li>
<li class="chapter" data-level="28.2.2" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#non-printable-characters-meta-characters-short-hand-character-classes"><i class="fa fa-check"></i><b>28.2.2</b> Non-printable characters/ Meta characters (short-hand character classes)</a></li>
</ul></li>
<li class="chapter" data-level="28.3" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#quantifiers"><i class="fa fa-check"></i><b>28.3</b> Quantifiers</a></li>
<li class="chapter" data-level="28.4" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#alternation"><i class="fa fa-check"></i><b>28.4</b> Alternation</a></li>
<li class="chapter" data-level="28.5" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#anchors"><i class="fa fa-check"></i><b>28.5</b> Anchors</a>
<ul>
<li class="chapter" data-level="28.5.1" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#beginning-and-end-anchors"><i class="fa fa-check"></i><b>28.5.1</b> Beginning and End Anchors</a></li>
<li class="chapter" data-level="28.5.2" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#word-boundary-anchors"><i class="fa fa-check"></i><b>28.5.2</b> Word Boundary Anchors</a></li>
</ul></li>
<li class="chapter" data-level="28.6" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#capture-groups"><i class="fa fa-check"></i><b>28.6</b> Capture Groups</a></li>
<li class="chapter" data-level="28.7" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#lookarounds"><i class="fa fa-check"></i><b>28.7</b> Lookarounds</a>
<ul>
<li class="chapter" data-level="28.7.1" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#lookahead"><i class="fa fa-check"></i><b>28.7.1</b> Lookahead</a></li>
<li class="chapter" data-level="28.7.2" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#lookbehind"><i class="fa fa-check"></i><b>28.7.2</b> Lookbehind</a></li>
<li class="chapter" data-level="28.7.3" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#negative-lookahead-and-lookbehinds"><i class="fa fa-check"></i><b>28.7.3</b> Negative Lookahead and Lookbehinds</a></li>
</ul></li>
<li class="chapter" data-level="28.8" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#comments"><i class="fa fa-check"></i><b>28.8</b> Comments</a>
<ul>
<li class="chapter" data-level="28.8.1" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#comments-within-regex"><i class="fa fa-check"></i><b>28.8.1</b> Comments within regex</a></li>
<li class="chapter" data-level="28.8.2" data-path="regex---a-quick-introduction.html"><a href="regex---a-quick-introduction.html#verbose-mode-multi-line-comments"><i class="fa fa-check"></i><b>28.8.2</b> Verbose Mode (multi-line comments)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="29" data-path="file.html"><a href="file.html"><i class="fa fa-check"></i><b>29</b> File handling operations in R</a>
<ul>
<li class="chapter" data-level="29.1" data-path="file.html"><a href="file.html#handling-files"><i class="fa fa-check"></i><b>29.1</b> Handling files</a>
<ul>
<li class="chapter" data-level="29.1.1" data-path="file.html"><a href="file.html#creating-a-file-within-r-using-file.create"><i class="fa fa-check"></i><b>29.1.1</b> Creating a file within R, using <code>file.create()</code></a></li>
<li class="chapter" data-level="29.1.2" data-path="file.html"><a href="file.html#checking-whether-a-file-exists-using-file.exists"><i class="fa fa-check"></i><b>29.1.2</b> Checking whether a file exists, using <code>file.exists()</code></a></li>
<li class="chapter" data-level="29.1.3" data-path="file.html"><a href="file.html#renaming-file-with-file.rename"><i class="fa fa-check"></i><b>29.1.3</b> Renaming file with <code>file.rename()</code></a></li>
<li class="chapter" data-level="29.1.4" data-path="file.html"><a href="file.html#copying-file-with-file.copy-function"><i class="fa fa-check"></i><b>29.1.4</b> Copying file with <code>file.copy()</code> function</a></li>
<li class="chapter" data-level="29.1.5" data-path="file.html"><a href="file.html#deleting-file-with-file.remove"><i class="fa fa-check"></i><b>29.1.5</b> Deleting file with <code>file.remove()</code></a></li>
</ul></li>
<li class="chapter" data-level="29.2" data-path="file.html"><a href="file.html#handling-directories"><i class="fa fa-check"></i><b>29.2</b> Handling directories</a>
<ul>
<li class="chapter" data-level="29.2.1" data-path="file.html"><a href="file.html#getset-path-of-current-working-directory-using-getwd-setwd"><i class="fa fa-check"></i><b>29.2.1</b> Get/Set path of current working directory using <code>getwd()</code>/ <code>setwd()</code></a></li>
<li class="chapter" data-level="29.2.2" data-path="file.html"><a href="file.html#create-new-directory-using-dir.create-and-other-operations"><i class="fa fa-check"></i><b>29.2.2</b> Create new directory using <code>dir.create()</code> and other operations</a></li>
</ul></li>
<li class="chapter" data-level="29.3" data-path="file.html"><a href="file.html#an-important-function-for-opening-a-dialog-box-for-selecting-files-and-folder"><i class="fa fa-check"></i><b>29.3</b> An important function for opening a dialog box for selecting files and folder</a></li>
<li class="chapter" data-level="29.4" data-path="file.html"><a href="file.html#other-useful-functions-for-listingremoving-variables"><i class="fa fa-check"></i><b>29.4</b> Other useful functions for listing/removing variables</a></li>
<li class="chapter" data-level="29.5" data-path="file.html"><a href="file.html#using-save-to-save-objectscollection-of-objects"><i class="fa fa-check"></i><b>29.5</b> Using <code>save()</code> to save objects/collection of objects</a></li>
<li class="chapter" data-level="29.6" data-path="file.html"><a href="file.html#projects"><i class="fa fa-check"></i><b>29.6</b> Projects</a></li>
</ul></li>
<li class="chapter" data-level="30" data-path="various-datasets-in-base-r-used-in-this-book.html"><a href="various-datasets-in-base-r-used-in-this-book.html"><i class="fa fa-check"></i><b>30</b> Various Datasets, in base R, used in this book</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analytics in Audit, using R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="data-wrangling-in-tidyr" class="section level1 hasAnchor" number="11">
<h1><span class="header-section-number">Chapter 11</span> Data Wrangling in <code>tidyr</code><a href="data-wrangling-in-tidyr.html#data-wrangling-in-tidyr" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>In this chapter we will learn about reshaping data to the format most suitable for our data analysis work. To reshape the data, we will use <code>tidyr</code> package<span class="citation"><a href="#fn24" class="footnote-ref" id="fnref24"><sup>24</sup></a></span> which is part of core <code>tidyverse</code> and can be loaded either by calling <code>library(tidyr)</code> or <code>library(tidyverse)</code>.</p>
<div id="prerequisites-2" class="section level2 hasAnchor" number="11.1">
<h2><span class="header-section-number">11.1</span> Prerequisites<a href="data-wrangling-in-tidyr.html#prerequisites-2" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<div class="sourceCode" id="cb879"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb879-1"><a href="data-wrangling-in-tidyr.html#cb879-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span></code></pre></div>
</div>
<div id="concepts-of-tidy-data" class="section level2 hasAnchor" number="11.2">
<h2><span class="header-section-number">11.2</span> Concepts of tidy data<a href="data-wrangling-in-tidyr.html#concepts-of-tidy-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p><a href="https://hadley.nz/">Hadley Wickham</a>, the chief scientist behind development of RStudio, tidyverse, and much more, introduced the concept of tidy data in a paper<a href="#fn25" class="footnote-ref" id="fnref25"><sup>25</sup></a> published in the Journal of Statistical Software.<span class="citation"><a href="#fn26" class="footnote-ref" id="fnref26"><sup>26</sup></a></span> Tidy data is a framework to structure data sets so they can be easily analyzed and visualized. It can be thought of as a goal one should aim for when cleaning data. Once we understand what tidy data is, that knowledge will make our data analysis, visualization, and collection much easier.<span class="citation"><a href="#fn27" class="footnote-ref" id="fnref27"><sup>27</sup></a></span></p>
<p>A tidy data-set has the following properties:</p>
<ol style="list-style-type: decimal">
<li>Each variable forms a column.</li>
<li>Each observation forms a row.</li>
<li>Each type of observational unit forms a table.</li>
</ol>
<p>Diagrammatically<a href="#fn28" class="footnote-ref" id="fnref28"><sup>28</sup></a> this can be represented as in figure <a href="data-wrangling-in-tidyr.html#fig:tidy">11.1</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:tidy"></span>
<img src="images/tidy-1.png" alt="Diagrammatic representation of tidy data" width="99%" />
<p class="caption">
Figure 11.1: Diagrammatic representation of tidy data
</p>
</div>
<p>Once a dataset is tidy, it can be used as input into a variety of other functions that may transform, model, or visualize the data.</p>
<p>Consider these five examples<a href="#fn29" class="footnote-ref" id="fnref29"><sup>29</sup></a>. All these examples<a href="#fn30" class="footnote-ref" id="fnref30"><sup>30</sup></a> represent same data but shown in different formats-</p>
<div class="sourceCode" id="cb880"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb880-1"><a href="data-wrangling-in-tidyr.html#cb880-1" tabindex="-1"></a><span class="co">#Example-1</span></span>
<span id="cb880-2"><a href="data-wrangling-in-tidyr.html#cb880-2" tabindex="-1"></a>tidyr<span class="sc">::</span>table1</span></code></pre></div>
<pre><code>## # A tibble: 6  4
##   country      year  cases population
##   &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;
## 1 Afghanistan  1999    745   19987071
## 2 Afghanistan  2000   2666   20595360
## 3 Brazil       1999  37737  172006362
## 4 Brazil       2000  80488  174504898
## 5 China        1999 212258 1272915272
## 6 China        2000 213766 1280428583</code></pre>
<div class="sourceCode" id="cb882"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb882-1"><a href="data-wrangling-in-tidyr.html#cb882-1" tabindex="-1"></a><span class="co"># Example-2</span></span>
<span id="cb882-2"><a href="data-wrangling-in-tidyr.html#cb882-2" tabindex="-1"></a>tidyr<span class="sc">::</span>table2</span></code></pre></div>
<pre><code>## # A tibble: 12  4
##    country      year type            count
##    &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;           &lt;dbl&gt;
##  1 Afghanistan  1999 cases             745
##  2 Afghanistan  1999 population   19987071
##  3 Afghanistan  2000 cases            2666
##  4 Afghanistan  2000 population   20595360
##  5 Brazil       1999 cases           37737
##  6 Brazil       1999 population  172006362
##  7 Brazil       2000 cases           80488
##  8 Brazil       2000 population  174504898
##  9 China        1999 cases          212258
## 10 China        1999 population 1272915272
## 11 China        2000 cases          213766
## 12 China        2000 population 1280428583</code></pre>
<div class="sourceCode" id="cb884"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb884-1"><a href="data-wrangling-in-tidyr.html#cb884-1" tabindex="-1"></a><span class="co"># Example-3</span></span>
<span id="cb884-2"><a href="data-wrangling-in-tidyr.html#cb884-2" tabindex="-1"></a>tidyr<span class="sc">::</span>table3</span></code></pre></div>
<pre><code>## # A tibble: 6  3
##   country      year rate             
##   &lt;chr&gt;       &lt;dbl&gt; &lt;chr&gt;            
## 1 Afghanistan  1999 745/19987071     
## 2 Afghanistan  2000 2666/20595360    
## 3 Brazil       1999 37737/172006362  
## 4 Brazil       2000 80488/174504898  
## 5 China        1999 212258/1272915272
## 6 China        2000 213766/1280428583</code></pre>
<div class="sourceCode" id="cb886"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb886-1"><a href="data-wrangling-in-tidyr.html#cb886-1" tabindex="-1"></a><span class="co"># Example-4 (Same data in 2 data tables now)</span></span>
<span id="cb886-2"><a href="data-wrangling-in-tidyr.html#cb886-2" tabindex="-1"></a>tidyr<span class="sc">::</span>table4a</span></code></pre></div>
<pre><code>## # A tibble: 3  3
##   country     `1999` `2000`
##   &lt;chr&gt;        &lt;dbl&gt;  &lt;dbl&gt;
## 1 Afghanistan    745   2666
## 2 Brazil       37737  80488
## 3 China       212258 213766</code></pre>
<div class="sourceCode" id="cb888"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb888-1"><a href="data-wrangling-in-tidyr.html#cb888-1" tabindex="-1"></a>tidyr<span class="sc">::</span>table4b</span></code></pre></div>
<pre><code>## # A tibble: 3  3
##   country         `1999`     `2000`
##   &lt;chr&gt;            &lt;dbl&gt;      &lt;dbl&gt;
## 1 Afghanistan   19987071   20595360
## 2 Brazil       172006362  174504898
## 3 China       1272915272 1280428583</code></pre>
<div class="sourceCode" id="cb890"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb890-1"><a href="data-wrangling-in-tidyr.html#cb890-1" tabindex="-1"></a><span class="co"># Example-5</span></span>
<span id="cb890-2"><a href="data-wrangling-in-tidyr.html#cb890-2" tabindex="-1"></a>tidyr<span class="sc">::</span>table5</span></code></pre></div>
<pre><code>## # A tibble: 6  4
##   country     century year  rate             
##   &lt;chr&gt;       &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;            
## 1 Afghanistan 19      99    745/19987071     
## 2 Afghanistan 20      00    2666/20595360    
## 3 Brazil      19      99    37737/172006362  
## 4 Brazil      20      00    80488/174504898  
## 5 China       19      99    212258/1272915272
## 6 China       20      00    213766/1280428583</code></pre>
<p>Let us discuss these example one by one -</p>
<ul>
<li><code>table1</code> fulfills all three rules stated above and is thus, in tidy format. Notice that every observation has its own row, and each variable is stored in a separate column.</li>
<li><code>table2</code> stores one observation in two columns (separately for cases and population) and is thus not tidy.</li>
<li><code>table3</code> stores two variables in one column (cases and population together) and is thus not tidy.</li>
<li><code>table4a</code> and <code>table4b</code> clearly stores one observation in two different tables and is thus not tidy. We may further notice that both these tables use values as column headers, which also violate rule no.3 stated above.</li>
<li><code>table5</code> again stores one variable i.e.year in two separate columns, and thus does not follow rule no.2 stated above.</li>
</ul>
</div>
<div id="reshaping-data" class="section level2 hasAnchor" number="11.3">
<h2><span class="header-section-number">11.3</span> Reshaping data<a href="data-wrangling-in-tidyr.html#reshaping-data" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>In real world problems we will mostly come across data-sets that are not in tidy formats and for data analysis, visualisation we will need <code>tidying</code> the datasets. To do this we will first need to understand what actually is a value, a variable/field and an observation. As a second step of <em>tidying</em> we will require to reshape the data by either -</p>
<ul>
<li>re-organising the observation originally spread into multiple rows (e.g.<code>table2</code>), in one row; OR</li>
<li>re-organising the variable spread into multiple columns (e.g.<code>table3</code>, etc.), in one single column.</li>
</ul>
<p>To perform this <em>tidying</em> exercise, we will need two most important functions from <code>tidyr</code> i.e.<code>pivot_longer</code> and <code>pivot_wider</code>. So let us understand the functioning of these.</p>
<div id="longer-format-through-function-pivot_longer" class="section level3 hasAnchor" number="11.3.1">
<h3><span class="header-section-number">11.3.1</span> LONGER format through function <code>pivot_longer()</code><a href="data-wrangling-in-tidyr.html#longer-format-through-function-pivot_longer" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Often we will come across data sets that will have values (instead of actual variable name) as column headers. Let us take the example of <code>table4a</code> or <code>table4b</code> shown above. Both these tables have values of variable <code>year</code> as column names. So we need to re-structure these tables into a longer format where these values form part of columns instead of column names. We will use <code>pivot_longer()</code> function for this. Th basic syntax is-</p>
<pre><code>pivot_longer(
  data,
  cols,
  names_to = &quot;name&quot;,
  values_to = &quot;value&quot;,
  ...
)</code></pre>
<p><em>Note that there many more useful arguments to this function, but first let us consider on these only.</em></p>
<ul>
<li><code>cols</code> indicate names of columns (as a character vector) to be converted into longer format</li>
<li><code>names_to = "name"</code> argument will actually convert values used as column headers back to a column with given name</li>
<li><code>values_to = "value"</code> argument will convert values of all those columns back into one column with given name value (e.g.population in table4b)</li>
</ul>
<p>Basic functionality can be understood using the following example-</p>
<div class="sourceCode" id="cb893"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb893-1"><a href="data-wrangling-in-tidyr.html#cb893-1" tabindex="-1"></a>iris_summary <span class="ot">&lt;-</span> iris <span class="sc">%&gt;%</span> </span>
<span id="cb893-2"><a href="data-wrangling-in-tidyr.html#cb893-2" tabindex="-1"></a>  <span class="fu">group_by</span>(Species) <span class="sc">%&gt;%</span> </span>
<span id="cb893-3"><a href="data-wrangling-in-tidyr.html#cb893-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">mean =</span> <span class="fu">mean</span>(Sepal.Width),</span>
<span id="cb893-4"><a href="data-wrangling-in-tidyr.html#cb893-4" tabindex="-1"></a>            <span class="at">st_dev =</span> <span class="fu">sd</span>(Sepal.Width))</span>
<span id="cb893-5"><a href="data-wrangling-in-tidyr.html#cb893-5" tabindex="-1"></a>iris_summary</span></code></pre></div>
<pre><code>## # A tibble: 3  3
##   Species     mean st_dev
##   &lt;fct&gt;      &lt;dbl&gt;  &lt;dbl&gt;
## 1 setosa      3.43  0.379
## 2 versicolor  2.77  0.314
## 3 virginica   2.97  0.322</code></pre>
<p>Using <code>pivot_wider</code> we can convert column headers into values. Check the diagram in figure <a href="data-wrangling-in-tidyr.html#fig:plong">11.2</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:plong"></span>
<img src="images/pivot_longer.png" alt="Diagrammatic representation of pivot\_longer" width="99%" />
<p class="caption">
Figure 11.2: Diagrammatic representation of pivot_longer
</p>
</div>
<p>Now we are ready to convert <code>table4a</code> into a tidier format.</p>
<div id="case-i-when-values-are-in-column-headers" class="section level4 unnumbered hasAnchor">
<h4>Case-I when values are in column headers<a href="data-wrangling-in-tidyr.html#case-i-when-values-are-in-column-headers" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<div class="sourceCode" id="cb895"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb895-1"><a href="data-wrangling-in-tidyr.html#cb895-1" tabindex="-1"></a><span class="fu">pivot_longer</span>(</span>
<span id="cb895-2"><a href="data-wrangling-in-tidyr.html#cb895-2" tabindex="-1"></a>  table4a, </span>
<span id="cb895-3"><a href="data-wrangling-in-tidyr.html#cb895-3" tabindex="-1"></a>  <span class="at">cols =</span> <span class="fu">c</span>(<span class="st">&#39;1999&#39;</span>, <span class="st">&#39;2000&#39;</span>), </span>
<span id="cb895-4"><a href="data-wrangling-in-tidyr.html#cb895-4" tabindex="-1"></a>  <span class="at">names_to =</span> <span class="st">&#39;year&#39;</span>, </span>
<span id="cb895-5"><a href="data-wrangling-in-tidyr.html#cb895-5" tabindex="-1"></a>  <span class="at">values_to =</span> <span class="st">&#39;cases&#39;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 6  3
##   country     year   cases
##   &lt;chr&gt;       &lt;chr&gt;  &lt;dbl&gt;
## 1 Afghanistan 1999     745
## 2 Afghanistan 2000    2666
## 3 Brazil      1999   37737
## 4 Brazil      2000   80488
## 5 China       1999  212258
## 6 China       2000  213766</code></pre>
<p>With <em>pipes</em> and a little tweaking, the above syntax could have been written as-</p>
<div class="sourceCode" id="cb897"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb897-1"><a href="data-wrangling-in-tidyr.html#cb897-1" tabindex="-1"></a>tidyr<span class="sc">::</span>table4a <span class="sc">%&gt;%</span>                         <span class="co"># first argument passed through pipe </span></span>
<span id="cb897-2"><a href="data-wrangling-in-tidyr.html#cb897-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">-</span>country,     <span class="co"># all columns except country</span></span>
<span id="cb897-3"><a href="data-wrangling-in-tidyr.html#cb897-3" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="st">&quot;year&quot;</span>,</span>
<span id="cb897-4"><a href="data-wrangling-in-tidyr.html#cb897-4" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;cases&quot;</span>)</span></code></pre></div>
</div>
<div id="case-ii-when-both-variables-and-variable-names-are-combined-together-as-column-names" class="section level4 unnumbered hasAnchor">
<h4>Case-II when both variables and variable names are combined together as column names<a href="data-wrangling-in-tidyr.html#case-ii-when-both-variables-and-variable-names-are-combined-together-as-column-names" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>We have seen a simple case to tidy the table when the values (e.g.years) were depicted as column names instead of variables i.e.actual data. There may be cases when column names are a combination of both.</p>
<p>Example - Say we have a table <code>table6</code> as</p>
<pre><code>## # A tibble: 3  5
##   country     cases_1999 cases_2000   pop_1999   pop_2000
##   &lt;chr&gt;            &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;      &lt;dbl&gt;
## 1 Afghanistan        745       2666   19987071   20595360
## 2 Brazil           37737      80488  172006362  174504898
## 3 China           212258     213766 1272915272 1280428583</code></pre>
<p>We may use <code>names_sep</code> argument in this case, which will separate the combined variables from the column names -</p>
<div class="sourceCode" id="cb899"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb899-1"><a href="data-wrangling-in-tidyr.html#cb899-1" tabindex="-1"></a>table6 <span class="sc">%&gt;%</span> </span>
<span id="cb899-2"><a href="data-wrangling-in-tidyr.html#cb899-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">!</span>country,</span>
<span id="cb899-3"><a href="data-wrangling-in-tidyr.html#cb899-3" tabindex="-1"></a>               <span class="at">names_sep =</span> <span class="st">&quot;_&quot;</span>,</span>
<span id="cb899-4"><a href="data-wrangling-in-tidyr.html#cb899-4" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">&quot;count_type&quot;</span>, <span class="st">&quot;year&quot;</span>),</span>
<span id="cb899-5"><a href="data-wrangling-in-tidyr.html#cb899-5" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;count&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 12  4
##    country     count_type year       count
##    &lt;chr&gt;       &lt;chr&gt;      &lt;chr&gt;      &lt;dbl&gt;
##  1 Afghanistan cases      1999         745
##  2 Afghanistan cases      2000        2666
##  3 Afghanistan pop        1999    19987071
##  4 Afghanistan pop        2000    20595360
##  5 Brazil      cases      1999       37737
##  6 Brazil      cases      2000       80488
##  7 Brazil      pop        1999   172006362
##  8 Brazil      pop        2000   174504898
##  9 China       cases      1999      212258
## 10 China       cases      2000      213766
## 11 China       pop        1999  1272915272
## 12 China       pop        2000  1280428583</code></pre>
<blockquote>
<p>Note that we have two column names in argument <code>names_to</code>.</p>
</blockquote>
<p>Though the above table is still not in tidy format, yet the example was taken to show the functioning of other arguments of the <code>pivot_longer</code>. We provided two static column names to the related argument and the variables were created after splitting the headers with sep <code>_</code>. We actually require one dynamic value to be retained as column name (<code>cases</code> and <code>pop</code> here) but need to convert <code>year</code> to variables.</p>
<p>To do so we will use special value <code>".value"</code> in the related argument. See</p>
<div class="sourceCode" id="cb901"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb901-1"><a href="data-wrangling-in-tidyr.html#cb901-1" tabindex="-1"></a>table6 <span class="sc">%&gt;%</span> </span>
<span id="cb901-2"><a href="data-wrangling-in-tidyr.html#cb901-2" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">!</span>country,</span>
<span id="cb901-3"><a href="data-wrangling-in-tidyr.html#cb901-3" tabindex="-1"></a>               <span class="at">names_sep =</span> <span class="st">&quot;_&quot;</span>,</span>
<span id="cb901-4"><a href="data-wrangling-in-tidyr.html#cb901-4" tabindex="-1"></a>               <span class="at">names_to =</span> <span class="fu">c</span>(<span class="st">&quot;.value&quot;</span>, <span class="st">&quot;year&quot;</span>),</span>
<span id="cb901-5"><a href="data-wrangling-in-tidyr.html#cb901-5" tabindex="-1"></a>               <span class="at">values_to =</span> <span class="st">&quot;count&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 6  4
##   country     year   cases        pop
##   &lt;chr&gt;       &lt;chr&gt;  &lt;dbl&gt;      &lt;dbl&gt;
## 1 Afghanistan 1999     745   19987071
## 2 Afghanistan 2000    2666   20595360
## 3 Brazil      1999   37737  172006362
## 4 Brazil      2000   80488  174504898
## 5 China       1999  212258 1272915272
## 6 China       2000  213766 1280428583</code></pre>
<blockquote>
<p>Note that by using <code>.value</code> the argument <code>values_to</code> becomes meaning less.</p>
</blockquote>
</div>
</div>
<div id="wider-format-through-pivot_wider" class="section level3 hasAnchor" number="11.3.2">
<h3><span class="header-section-number">11.3.2</span> WIDER format through <code>pivot_wider()</code><a href="data-wrangling-in-tidyr.html#wider-format-through-pivot_wider" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>As the name suggests, <code>pivot_wider()</code> does exactly opposite to what a <code>pivot_longer</code> does. Additionally, this function is used to create summary reports, as pivot functionality in MS Excel, through <code>values_fn</code> argument. Diagrammatically this can be represented as in figure <a href="data-wrangling-in-tidyr.html#fig:pwide">11.3</a>. The basic syntax (with commonly used arguments) is-</p>
<pre><code>pivot_wider(
  data,
  id_cols = NULL,
  names_from = name,
  values_from = value,
  values_fill = NULL,
  values_fn = NULL,
  ...
)</code></pre>
<p>where-</p>
<ul>
<li><code>id_cols</code> is a vector of columns that uniquely identifies each observation</li>
<li><code>names_from</code> is a vector of columns to get the name of the output column</li>
<li><code>values_from</code> similarly provides columns to get the cell values from</li>
<li><code>values_fill</code> provides what each value should be filled in with when missing</li>
<li><code>values_fn</code> is a named list - to apply different aggregations to different <code>values_from</code> columns</li>
</ul>
<blockquote>
<p>Also note that there are many other arguments for this function, which may be used to deal with complicated tables.</p>
</blockquote>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:pwide"></span>
<img src="images/pivot_wider.png" alt="Diagrammatic representation of pivot\_wider" width="99%" />
<p class="caption">
Figure 11.3: Diagrammatic representation of pivot_wider
</p>
</div>
<p>Example-1:</p>
<div class="sourceCode" id="cb904"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb904-1"><a href="data-wrangling-in-tidyr.html#cb904-1" tabindex="-1"></a>tidyr<span class="sc">::</span>table2 <span class="sc">%&gt;%</span> </span>
<span id="cb904-2"><a href="data-wrangling-in-tidyr.html#cb904-2" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="st">&quot;type&quot;</span>,</span>
<span id="cb904-3"><a href="data-wrangling-in-tidyr.html#cb904-3" tabindex="-1"></a>              <span class="at">values_from =</span> <span class="st">&quot;count&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 6  4
##   country      year  cases population
##   &lt;chr&gt;       &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;
## 1 Afghanistan  1999    745   19987071
## 2 Afghanistan  2000   2666   20595360
## 3 Brazil       1999  37737  172006362
## 4 Brazil       2000  80488  174504898
## 5 China        1999 212258 1272915272
## 6 China        2000 213766 1280428583</code></pre>
<p>Example-2:</p>
<div class="sourceCode" id="cb906"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb906-1"><a href="data-wrangling-in-tidyr.html#cb906-1" tabindex="-1"></a>tidyr<span class="sc">::</span>table2 <span class="sc">%&gt;%</span> </span>
<span id="cb906-2"><a href="data-wrangling-in-tidyr.html#cb906-2" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year,</span>
<span id="cb906-3"><a href="data-wrangling-in-tidyr.html#cb906-3" tabindex="-1"></a>              <span class="at">values_from =</span> count)</span></code></pre></div>
<pre><code>## # A tibble: 6  4
##   country     type           `1999`     `2000`
##   &lt;chr&gt;       &lt;chr&gt;           &lt;dbl&gt;      &lt;dbl&gt;
## 1 Afghanistan cases             745       2666
## 2 Afghanistan population   19987071   20595360
## 3 Brazil      cases           37737      80488
## 4 Brazil      population  172006362  174504898
## 5 China       cases          212258     213766
## 6 China       population 1272915272 1280428583</code></pre>
<p>Example-3: Summarisation</p>
<div class="sourceCode" id="cb908"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb908-1"><a href="data-wrangling-in-tidyr.html#cb908-1" tabindex="-1"></a>tidyr<span class="sc">::</span>table2 <span class="sc">%&gt;%</span> </span>
<span id="cb908-2"><a href="data-wrangling-in-tidyr.html#cb908-2" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">id_cols =</span> country,</span>
<span id="cb908-3"><a href="data-wrangling-in-tidyr.html#cb908-3" tabindex="-1"></a>              <span class="at">names_from =</span> type,</span>
<span id="cb908-4"><a href="data-wrangling-in-tidyr.html#cb908-4" tabindex="-1"></a>              <span class="at">values_from =</span> count,</span>
<span id="cb908-5"><a href="data-wrangling-in-tidyr.html#cb908-5" tabindex="-1"></a>              <span class="at">values_fn =</span> mean)</span></code></pre></div>
<pre><code>## # A tibble: 3  3
##   country       cases  population
##   &lt;chr&gt;         &lt;dbl&gt;       &lt;dbl&gt;
## 1 Afghanistan   1706.   20291216.
## 2 Brazil       59112.  173255630 
## 3 China       213012  1276671928.</code></pre>
<p>Example-4: Summarisation with different id_cols</p>
<div class="sourceCode" id="cb910"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb910-1"><a href="data-wrangling-in-tidyr.html#cb910-1" tabindex="-1"></a>tidyr<span class="sc">::</span>table2 <span class="sc">%&gt;%</span> </span>
<span id="cb910-2"><a href="data-wrangling-in-tidyr.html#cb910-2" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">id_cols =</span> year,</span>
<span id="cb910-3"><a href="data-wrangling-in-tidyr.html#cb910-3" tabindex="-1"></a>              <span class="at">names_from =</span> type,</span>
<span id="cb910-4"><a href="data-wrangling-in-tidyr.html#cb910-4" tabindex="-1"></a>              <span class="at">values_from =</span> count,</span>
<span id="cb910-5"><a href="data-wrangling-in-tidyr.html#cb910-5" tabindex="-1"></a>              <span class="at">values_fn =</span> sum)</span></code></pre></div>
<pre><code>## # A tibble: 2  3
##    year  cases population
##   &lt;dbl&gt;  &lt;dbl&gt;      &lt;dbl&gt;
## 1  1999 250740 1464908705
## 2  2000 296920 1475528841</code></pre>
<p>Example-5: Use of multiple columns in <code>names_from</code> argument</p>
<div class="sourceCode" id="cb912"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb912-1"><a href="data-wrangling-in-tidyr.html#cb912-1" tabindex="-1"></a>tidyr<span class="sc">::</span>table2 <span class="sc">%&gt;%</span> </span>
<span id="cb912-2"><a href="data-wrangling-in-tidyr.html#cb912-2" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="fu">c</span>(year, type),</span>
<span id="cb912-3"><a href="data-wrangling-in-tidyr.html#cb912-3" tabindex="-1"></a>               <span class="at">values_from =</span> count)</span></code></pre></div>
<pre><code>## # A tibble: 3  5
##   country     `1999_cases` `1999_population` `2000_cases` `2000_population`
##   &lt;chr&gt;              &lt;dbl&gt;             &lt;dbl&gt;        &lt;dbl&gt;             &lt;dbl&gt;
## 1 Afghanistan          745          19987071         2666          20595360
## 2 Brazil             37737         172006362        80488         174504898
## 3 China             212258        1272915272       213766        1280428583</code></pre>
<p>What if order is reversed in <code>names_from</code> arg. See Example-6:</p>
<div class="sourceCode" id="cb914"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb914-1"><a href="data-wrangling-in-tidyr.html#cb914-1" tabindex="-1"></a>tidyr<span class="sc">::</span>table2 <span class="sc">%&gt;%</span> </span>
<span id="cb914-2"><a href="data-wrangling-in-tidyr.html#cb914-2" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> <span class="fu">c</span>(type, year),</span>
<span id="cb914-3"><a href="data-wrangling-in-tidyr.html#cb914-3" tabindex="-1"></a>               <span class="at">values_from =</span> count)</span></code></pre></div>
<pre><code>## # A tibble: 3  5
##   country     cases_1999 population_1999 cases_2000 population_2000
##   &lt;chr&gt;            &lt;dbl&gt;           &lt;dbl&gt;      &lt;dbl&gt;           &lt;dbl&gt;
## 1 Afghanistan        745        19987071       2666        20595360
## 2 Brazil           37737       172006362      80488       174504898
## 3 China           212258      1272915272     213766      1280428583</code></pre>
<p>Example-7: Multiple columns in <code>values_from</code></p>
<div class="sourceCode" id="cb916"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb916-1"><a href="data-wrangling-in-tidyr.html#cb916-1" tabindex="-1"></a>tidyr<span class="sc">::</span>table1 <span class="sc">%&gt;%</span> </span>
<span id="cb916-2"><a href="data-wrangling-in-tidyr.html#cb916-2" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year,</span>
<span id="cb916-3"><a href="data-wrangling-in-tidyr.html#cb916-3" tabindex="-1"></a>              <span class="at">values_from =</span> <span class="fu">c</span>(cases, population))</span></code></pre></div>
<pre><code>## # A tibble: 3  5
##   country     cases_1999 cases_2000 population_1999 population_2000
##   &lt;chr&gt;            &lt;dbl&gt;      &lt;dbl&gt;           &lt;dbl&gt;           &lt;dbl&gt;
## 1 Afghanistan        745       2666        19987071        20595360
## 2 Brazil           37737      80488       172006362       174504898
## 3 China           212258     213766      1272915272      1280428583</code></pre>
<p>Example-8: Use of names_vary argument to control the order of output columns</p>
<div class="sourceCode" id="cb918"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb918-1"><a href="data-wrangling-in-tidyr.html#cb918-1" tabindex="-1"></a>tidyr<span class="sc">::</span>table1 <span class="sc">%&gt;%</span> </span>
<span id="cb918-2"><a href="data-wrangling-in-tidyr.html#cb918-2" tabindex="-1"></a>  <span class="fu">pivot_wider</span>(<span class="at">names_from =</span> year,</span>
<span id="cb918-3"><a href="data-wrangling-in-tidyr.html#cb918-3" tabindex="-1"></a>              <span class="at">values_from =</span> <span class="fu">c</span>(cases, population),</span>
<span id="cb918-4"><a href="data-wrangling-in-tidyr.html#cb918-4" tabindex="-1"></a>              <span class="at">names_vary =</span> <span class="st">&quot;slowest&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 3  5
##   country     cases_1999 population_1999 cases_2000 population_2000
##   &lt;chr&gt;            &lt;dbl&gt;           &lt;dbl&gt;      &lt;dbl&gt;           &lt;dbl&gt;
## 1 Afghanistan        745        19987071       2666        20595360
## 2 Brazil           37737       172006362      80488       174504898
## 3 China           212258      1272915272     213766      1280428583</code></pre>
<p>For more details please refer to <a href="https://tidyr.tidyverse.org/articles/pivot.html">package vignette</a> or <a href="https://r4ds.had.co.nz/tidy-data.html">Chapter-12 of R for Data Science book</a>.</p>
</div>
<div id="separate-columns-into-multiple-columns-join-columns-into-one-column" class="section level3 hasAnchor" number="11.3.3">
<h3><span class="header-section-number">11.3.3</span> Separate Column(s) into multiple columns/ Join columns into one column<a href="data-wrangling-in-tidyr.html#separate-columns-into-multiple-columns-join-columns-into-one-column" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="separate-a-character-column-into-multiple-with-separate" class="section level4 unnumbered hasAnchor">
<h4>Separate a character column into multiple with <code>separate()</code><a href="data-wrangling-in-tidyr.html#separate-a-character-column-into-multiple-with-separate" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>As the name suggests, <code>separate()</code> function is used to separate a given character column into multiple columns either using a regular expression or a vector of character positions.
The syntax is -</p>
<pre><code>separate(
  data,
  col,
  into,
  sep = &quot;[^[:alnum:]]+&quot;,
  remove = TRUE,
  convert = FALSE,
  extra = &quot;warn&quot;,
  fill = &quot;warn&quot;,
  ...
)</code></pre>
<p>Explanation of purpose of different arguments in above syntax -</p>
<ol style="list-style-type: decimal">
<li><code>data</code> is as usual name of the data frame</li>
<li><code>col</code> is the name of the column which is required to be separated.</li>
<li><code>into</code> should be a character vector, which usually should be equal length of maximum number of new columns which will be created out of such separation. (Refer examples nos. 1)</li>
<li><code>sep</code> provides a separator value. (Refer Example -3 below).</li>
<li><code>remove</code> if <code>FALSE</code>, the original column is not removed from the output. (Refer Example -3 below).</li>
<li><code>convert</code> if <code>TRUE</code>, the component columns are converted to double/integer/logical/NA, if possible. This is useful if the component columns are integer, numeric or logical. (Refer Example-1 below).</li>
<li><code>extra</code> argument is used to control when number of desired component columns are less than the maximum possible count. (Refer Example-4 below).</li>
<li><code>fill</code> argument is on the other hand, useful when the number of components are different for each row. (Refer Example-2 below)</li>
</ol>
<p>Example-1:</p>
<div class="sourceCode" id="cb921"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb921-1"><a href="data-wrangling-in-tidyr.html#cb921-1" tabindex="-1"></a>tidyr<span class="sc">::</span>table3 <span class="sc">%&gt;%</span> </span>
<span id="cb921-2"><a href="data-wrangling-in-tidyr.html#cb921-2" tabindex="-1"></a>  <span class="fu">separate</span>(rate, <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;cases&quot;</span>, <span class="st">&quot;population&quot;</span>),</span>
<span id="cb921-3"><a href="data-wrangling-in-tidyr.html#cb921-3" tabindex="-1"></a>           <span class="at">convert =</span> <span class="cn">TRUE</span>) <span class="co"># optional - will convert the values</span></span></code></pre></div>
<pre><code>## # A tibble: 6  4
##   country      year  cases population
##   &lt;chr&gt;       &lt;dbl&gt;  &lt;int&gt;      &lt;int&gt;
## 1 Afghanistan  1999    745   19987071
## 2 Afghanistan  2000   2666   20595360
## 3 Brazil       1999  37737  172006362
## 4 Brazil       2000  80488  174504898
## 5 China        1999 212258 1272915272
## 6 China        2000 213766 1280428583</code></pre>
<p>Example-2:</p>
<div class="sourceCode" id="cb923"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb923-1"><a href="data-wrangling-in-tidyr.html#cb923-1" tabindex="-1"></a><span class="fu">data.frame</span>(</span>
<span id="cb923-2"><a href="data-wrangling-in-tidyr.html#cb923-2" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;a+b&quot;</span>, <span class="st">&quot;c+d+e&quot;</span>)</span>
<span id="cb923-3"><a href="data-wrangling-in-tidyr.html#cb923-3" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb923-4"><a href="data-wrangling-in-tidyr.html#cb923-4" tabindex="-1"></a>  <span class="fu">separate</span>(x,</span>
<span id="cb923-5"><a href="data-wrangling-in-tidyr.html#cb923-5" tabindex="-1"></a>           <span class="at">into=</span><span class="fu">c</span>(<span class="st">&#39;X1&#39;</span>, <span class="st">&#39;X2&#39;</span>, <span class="st">&#39;X3&#39;</span>),</span>
<span id="cb923-6"><a href="data-wrangling-in-tidyr.html#cb923-6" tabindex="-1"></a>           <span class="at">fill =</span> <span class="st">&quot;left&quot;</span>)</span></code></pre></div>
<pre><code>##     X1   X2 X3
## 1 &lt;NA&gt; &lt;NA&gt;  a
## 2 &lt;NA&gt;    a  b
## 3    c    d  e</code></pre>
<p>Example-3:</p>
<div class="sourceCode" id="cb925"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb925-1"><a href="data-wrangling-in-tidyr.html#cb925-1" tabindex="-1"></a><span class="fu">data.frame</span>(</span>
<span id="cb925-2"><a href="data-wrangling-in-tidyr.html#cb925-2" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="st">&quot;A$B&quot;</span>, <span class="st">&quot;C+D&quot;</span>, <span class="st">&quot;E-F&quot;</span>)</span>
<span id="cb925-3"><a href="data-wrangling-in-tidyr.html#cb925-3" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb925-4"><a href="data-wrangling-in-tidyr.html#cb925-4" tabindex="-1"></a>  <span class="fu">separate</span>(x, </span>
<span id="cb925-5"><a href="data-wrangling-in-tidyr.html#cb925-5" tabindex="-1"></a>           <span class="at">sep =</span> <span class="st">&quot;</span><span class="sc">\\</span><span class="st">-|</span><span class="sc">\\</span><span class="st">$&quot;</span>,</span>
<span id="cb925-6"><a href="data-wrangling-in-tidyr.html#cb925-6" tabindex="-1"></a>           <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&#39;X1&#39;</span>, <span class="st">&#39;X2&#39;</span>),</span>
<span id="cb925-7"><a href="data-wrangling-in-tidyr.html#cb925-7" tabindex="-1"></a>           <span class="at">remove =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## Warning: Expected 2 pieces. Missing pieces filled with `NA` in 1 rows [2].</code></pre>
<pre><code>##     x  X1   X2
## 1 A$B   A    B
## 2 C+D C+D &lt;NA&gt;
## 3 E-F   E    F</code></pre>
<p>Example-4:</p>
<div class="sourceCode" id="cb928"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb928-1"><a href="data-wrangling-in-tidyr.html#cb928-1" tabindex="-1"></a><span class="fu">data.frame</span>(</span>
<span id="cb928-2"><a href="data-wrangling-in-tidyr.html#cb928-2" tabindex="-1"></a>  <span class="at">x =</span> <span class="fu">c</span>(<span class="st">&quot;a&quot;</span>, <span class="st">&quot;a+b&quot;</span>, <span class="st">&quot;c+d+e&quot;</span>)</span>
<span id="cb928-3"><a href="data-wrangling-in-tidyr.html#cb928-3" tabindex="-1"></a>) <span class="sc">%&gt;%</span> </span>
<span id="cb928-4"><a href="data-wrangling-in-tidyr.html#cb928-4" tabindex="-1"></a>  <span class="fu">separate</span>(x,</span>
<span id="cb928-5"><a href="data-wrangling-in-tidyr.html#cb928-5" tabindex="-1"></a>           <span class="at">into=</span><span class="fu">c</span>(<span class="st">&#39;X1&#39;</span>, <span class="st">&#39;X2&#39;</span>),</span>
<span id="cb928-6"><a href="data-wrangling-in-tidyr.html#cb928-6" tabindex="-1"></a>           <span class="at">extra =</span> <span class="st">&quot;merge&quot;</span>)</span></code></pre></div>
<pre><code>## Warning: Expected 2 pieces. Missing pieces filled with `NA` in 1 rows [1].</code></pre>
<pre><code>##   X1   X2
## 1  a &lt;NA&gt;
## 2  a    b
## 3  c  d+e</code></pre>
</div>
<div id="unite-multiple-character-columns-into-one-using-unite" class="section level4 unnumbered hasAnchor">
<h4>Unite multiple character columns into one using <code>unite()</code><a href="data-wrangling-in-tidyr.html#unite-multiple-character-columns-into-one-using-unite" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>It complements <code>separate</code> by uniting the columns into one. Its syntax is</p>
<pre><code>unite(data, 
      col, 
      ..., 
      sep = &quot;_&quot;, 
      remove = TRUE, 
      na.rm = FALSE)</code></pre>
<p>Explanation of arguments in the above syntax-</p>
<ol style="list-style-type: decimal">
<li><code>data</code> is as usual name of the data frame.</li>
<li><code>col</code> should be the name of new column to be formed (should be a string),</li>
<li><code>...</code> the names of columns to be united should be provided</li>
<li><code>sep</code> is separator to be used for uniting</li>
<li><code>remove</code> if <code>FALSE</code>, will not remove original component columns</li>
<li><code>na.rm</code> if <code>TRUE</code>, the missing values will be removed beforehand.</li>
</ol>
<p>Example-1a:</p>
<div class="sourceCode" id="cb932"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb932-1"><a href="data-wrangling-in-tidyr.html#cb932-1" tabindex="-1"></a>tidyr<span class="sc">::</span>table5 <span class="sc">%&gt;%</span> </span>
<span id="cb932-2"><a href="data-wrangling-in-tidyr.html#cb932-2" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">&quot;Year&quot;</span>,</span>
<span id="cb932-3"><a href="data-wrangling-in-tidyr.html#cb932-3" tabindex="-1"></a>        <span class="fu">c</span>(<span class="st">&quot;century&quot;</span>, <span class="st">&quot;year&quot;</span>), </span>
<span id="cb932-4"><a href="data-wrangling-in-tidyr.html#cb932-4" tabindex="-1"></a>        <span class="at">sep =</span> <span class="st">&quot;&quot;</span>,</span>
<span id="cb932-5"><a href="data-wrangling-in-tidyr.html#cb932-5" tabindex="-1"></a>        <span class="at">remove =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<pre><code>## # A tibble: 6  5
##   country     Year  century year  rate             
##   &lt;chr&gt;       &lt;chr&gt; &lt;chr&gt;   &lt;chr&gt; &lt;chr&gt;            
## 1 Afghanistan 1999  19      99    745/19987071     
## 2 Afghanistan 2000  20      00    2666/20595360    
## 3 Brazil      1999  19      99    37737/172006362  
## 4 Brazil      2000  20      00    80488/174504898  
## 5 China       1999  19      99    212258/1272915272
## 6 China       2000  20      00    213766/1280428583</code></pre>
<p>Example-1b:
We may complete the tidying process in the next step</p>
<div class="sourceCode" id="cb934"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb934-1"><a href="data-wrangling-in-tidyr.html#cb934-1" tabindex="-1"></a>tidyr<span class="sc">::</span>table5 <span class="sc">%&gt;%</span> </span>
<span id="cb934-2"><a href="data-wrangling-in-tidyr.html#cb934-2" tabindex="-1"></a>  <span class="fu">unite</span>(<span class="st">&quot;Year&quot;</span>,</span>
<span id="cb934-3"><a href="data-wrangling-in-tidyr.html#cb934-3" tabindex="-1"></a>        <span class="fu">c</span>(<span class="st">&quot;century&quot;</span>, <span class="st">&quot;year&quot;</span>), </span>
<span id="cb934-4"><a href="data-wrangling-in-tidyr.html#cb934-4" tabindex="-1"></a>        <span class="at">sep =</span> <span class="st">&quot;&quot;</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb934-5"><a href="data-wrangling-in-tidyr.html#cb934-5" tabindex="-1"></a>  <span class="fu">separate</span>(rate, </span>
<span id="cb934-6"><a href="data-wrangling-in-tidyr.html#cb934-6" tabindex="-1"></a>           <span class="at">into =</span> <span class="fu">c</span>(<span class="st">&quot;cases&quot;</span>, <span class="st">&quot;population&quot;</span>),</span>
<span id="cb934-7"><a href="data-wrangling-in-tidyr.html#cb934-7" tabindex="-1"></a>           <span class="at">convert =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<pre><code>## # A tibble: 6  4
##   country     Year   cases population
##   &lt;chr&gt;       &lt;chr&gt;  &lt;int&gt;      &lt;int&gt;
## 1 Afghanistan 1999     745   19987071
## 2 Afghanistan 2000    2666   20595360
## 3 Brazil      1999   37737  172006362
## 4 Brazil      2000   80488  174504898
## 5 China       1999  212258 1272915272
## 6 China       2000  213766 1280428583</code></pre>
<p>Example-</p>
</div>
</div>
<div id="separate-rows-into-multiple-rows" class="section level3 hasAnchor" number="11.3.4">
<h3><span class="header-section-number">11.3.4</span> Separate row(s) into multiple rows<a href="data-wrangling-in-tidyr.html#separate-rows-into-multiple-rows" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<div id="split-data-into-multiple-rows-with-separate_rows" class="section level4 unnumbered hasAnchor">
<h4>Split data into multiple rows with <code>separate_rows()</code><a href="data-wrangling-in-tidyr.html#split-data-into-multiple-rows-with-separate_rows" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>This function is used to separate delimited values placed in one single cell/column into multiple rows (as against in rows using <code>separate</code>).
See Example-</p>
<div class="sourceCode" id="cb936"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb936-1"><a href="data-wrangling-in-tidyr.html#cb936-1" tabindex="-1"></a>tidyr<span class="sc">::</span>table3 <span class="sc">%&gt;%</span> </span>
<span id="cb936-2"><a href="data-wrangling-in-tidyr.html#cb936-2" tabindex="-1"></a>  <span class="fu">separate_rows</span>(</span>
<span id="cb936-3"><a href="data-wrangling-in-tidyr.html#cb936-3" tabindex="-1"></a>    rate,</span>
<span id="cb936-4"><a href="data-wrangling-in-tidyr.html#cb936-4" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">&quot;/&quot;</span>,</span>
<span id="cb936-5"><a href="data-wrangling-in-tidyr.html#cb936-5" tabindex="-1"></a>    <span class="at">convert =</span> <span class="cn">TRUE</span></span>
<span id="cb936-6"><a href="data-wrangling-in-tidyr.html#cb936-6" tabindex="-1"></a>  )</span></code></pre></div>
<pre><code>## # A tibble: 12  3
##    country      year       rate
##    &lt;chr&gt;       &lt;dbl&gt;      &lt;int&gt;
##  1 Afghanistan  1999        745
##  2 Afghanistan  1999   19987071
##  3 Afghanistan  2000       2666
##  4 Afghanistan  2000   20595360
##  5 Brazil       1999      37737
##  6 Brazil       1999  172006362
##  7 Brazil       2000      80488
##  8 Brazil       2000  174504898
##  9 China        1999     212258
## 10 China        1999 1272915272
## 11 China        2000     213766
## 12 China        2000 1280428583</code></pre>
<p>To create <code>type</code> we have to however, add an extra step to the above example-</p>
<div class="sourceCode" id="cb938"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb938-1"><a href="data-wrangling-in-tidyr.html#cb938-1" tabindex="-1"></a>tidyr<span class="sc">::</span>table3 <span class="sc">%&gt;%</span> </span>
<span id="cb938-2"><a href="data-wrangling-in-tidyr.html#cb938-2" tabindex="-1"></a>  <span class="fu">separate_rows</span>(</span>
<span id="cb938-3"><a href="data-wrangling-in-tidyr.html#cb938-3" tabindex="-1"></a>    rate,</span>
<span id="cb938-4"><a href="data-wrangling-in-tidyr.html#cb938-4" tabindex="-1"></a>    <span class="at">sep =</span> <span class="st">&quot;/&quot;</span>,</span>
<span id="cb938-5"><a href="data-wrangling-in-tidyr.html#cb938-5" tabindex="-1"></a>    <span class="at">convert =</span> <span class="cn">TRUE</span></span>
<span id="cb938-6"><a href="data-wrangling-in-tidyr.html#cb938-6" tabindex="-1"></a>  ) <span class="sc">%&gt;%</span> </span>
<span id="cb938-7"><a href="data-wrangling-in-tidyr.html#cb938-7" tabindex="-1"></a>  <span class="fu">group_by</span>(country, year) <span class="sc">%&gt;%</span> </span>
<span id="cb938-8"><a href="data-wrangling-in-tidyr.html#cb938-8" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">type =</span> <span class="fu">c</span>(<span class="st">&quot;cases&quot;</span>, <span class="st">&quot;pop&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 12  4
## # Groups:   country, year [6]
##    country      year       rate type 
##    &lt;chr&gt;       &lt;dbl&gt;      &lt;int&gt; &lt;chr&gt;
##  1 Afghanistan  1999        745 cases
##  2 Afghanistan  1999   19987071 pop  
##  3 Afghanistan  2000       2666 cases
##  4 Afghanistan  2000   20595360 pop  
##  5 Brazil       1999      37737 cases
##  6 Brazil       1999  172006362 pop  
##  7 Brazil       2000      80488 cases
##  8 Brazil       2000  174504898 pop  
##  9 China        1999     212258 cases
## 10 China        1999 1272915272 pop  
## 11 China        2000     213766 cases
## 12 China        2000 1280428583 pop</code></pre>
</div>
</div>
<div id="expand-table-to-handle-missing-rowsvalues" class="section level3 hasAnchor" number="11.3.5">
<h3><span class="header-section-number">11.3.5</span> Expand table to handle missing rows/values<a href="data-wrangling-in-tidyr.html#expand-table-to-handle-missing-rowsvalues" class="anchor-section" aria-label="Anchor link to header"></a></h3>
<p>Sometimes, when we deal with missing data, we require to handle implicit missing values as well. Either we have to turn these values into explicit missing values or we have to fill appropriate values. In such cases, two functions namely <code>complete</code> and <code>fill</code> both from same package are extremely useful. Lets learn these as well.</p>
<div id="turn-implicit-missing-values-to-explicit-using-complete" class="section level4 unnumbered hasAnchor">
<h4>Turn implicit missing values to explicit using <code>complete()</code><a href="data-wrangling-in-tidyr.html#turn-implicit-missing-values-to-explicit-using-complete" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>As th name suggests, this function is used to turn implicit missing values (invisible rows) to explicit missing values (visible rows with <code>NA</code>).</p>
<p>As an example, lets suppose fuel prices are revised randomly. Say, after revision on <code>1 January 2020</code> prices revise on <code>20 January 2020</code>. So we will have only 2 rows in data for say <code>Janaury 2020</code>. Thus, there are 29 implicit missing values in the data.</p>
<p>The syntax is</p>
<pre><code>complete(data, 
         ..., 
         fill = list(), 
         explicit = TRUE)</code></pre>
<p>Where -</p>
<ul>
<li><code>data</code> is as usual argument to provide data frame</li>
<li><code>...</code> are meant to provide column names to be completed</li>
<li><code>fill</code> provides a list to supply a single value which can be provided instead of <code>NA</code> for missing combinations.</li>
</ul>
<p>In the example mentioned above we can proceed as</p>
<div class="sourceCode" id="cb941"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb941-1"><a href="data-wrangling-in-tidyr.html#cb941-1" tabindex="-1"></a><span class="co"># First create a sample data</span></span>
<span id="cb941-2"><a href="data-wrangling-in-tidyr.html#cb941-2" tabindex="-1"></a>df <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb941-3"><a href="data-wrangling-in-tidyr.html#cb941-3" tabindex="-1"></a>  <span class="at">date =</span> <span class="fu">c</span>(<span class="fu">as.Date</span>(<span class="st">&quot;2020-01-01&quot;</span>), <span class="fu">as.Date</span>(<span class="st">&quot;2020-01-20&quot;</span>)),</span>
<span id="cb941-4"><a href="data-wrangling-in-tidyr.html#cb941-4" tabindex="-1"></a>  <span class="at">price =</span> <span class="fu">c</span>(<span class="fl">75.12</span>, <span class="fl">78.32</span>)</span>
<span id="cb941-5"><a href="data-wrangling-in-tidyr.html#cb941-5" tabindex="-1"></a>)</span>
<span id="cb941-6"><a href="data-wrangling-in-tidyr.html#cb941-6" tabindex="-1"></a>df </span></code></pre></div>
<pre><code>##         date price
## 1 2020-01-01 75.12
## 2 2020-01-20 78.32</code></pre>
<div class="sourceCode" id="cb943"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb943-1"><a href="data-wrangling-in-tidyr.html#cb943-1" tabindex="-1"></a><span class="co"># Use tidyr::complete to see explicit missing values</span></span>
<span id="cb943-2"><a href="data-wrangling-in-tidyr.html#cb943-2" tabindex="-1"></a>df <span class="sc">%&gt;%</span> </span>
<span id="cb943-3"><a href="data-wrangling-in-tidyr.html#cb943-3" tabindex="-1"></a>  <span class="fu">complete</span>(<span class="at">date =</span> <span class="fu">seq.Date</span>(<span class="fu">as.Date</span>(<span class="st">&quot;2020-01-01&quot;</span>), <span class="fu">as.Date</span>(<span class="st">&quot;2020-01-31&quot;</span>), <span class="at">by =</span> <span class="st">&quot;day&quot;</span>))</span></code></pre></div>
<pre><code>## # A tibble: 31  2
##    date       price
##    &lt;date&gt;     &lt;dbl&gt;
##  1 2020-01-01  75.1
##  2 2020-01-02  NA  
##  3 2020-01-03  NA  
##  4 2020-01-04  NA  
##  5 2020-01-05  NA  
##  6 2020-01-06  NA  
##  7 2020-01-07  NA  
##  8 2020-01-08  NA  
##  9 2020-01-09  NA  
## 10 2020-01-10  NA  
## #  21 more rows</code></pre>
<p>Though the above example created dates as per the criteria given, <code>complete</code> function can find all unique combinations in the set of columns provided and return complete set of observations. See this example</p>
<div class="sourceCode" id="cb945"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb945-1"><a href="data-wrangling-in-tidyr.html#cb945-1" tabindex="-1"></a><span class="co">#Let&#39;s create a sample data</span></span>
<span id="cb945-2"><a href="data-wrangling-in-tidyr.html#cb945-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb945-3"><a href="data-wrangling-in-tidyr.html#cb945-3" tabindex="-1"></a>df2 <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(</span>
<span id="cb945-4"><a href="data-wrangling-in-tidyr.html#cb945-4" tabindex="-1"></a>  <span class="at">year =</span> <span class="fu">c</span>(<span class="dv">2020</span>, <span class="dv">2020</span>, <span class="dv">2020</span>, <span class="dv">2021</span>, <span class="dv">2021</span>),</span>
<span id="cb945-5"><a href="data-wrangling-in-tidyr.html#cb945-5" tabindex="-1"></a>  <span class="at">qtr =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">3</span>,<span class="dv">4</span>,<span class="dv">2</span>,<span class="dv">3</span>),</span>
<span id="cb945-6"><a href="data-wrangling-in-tidyr.html#cb945-6" tabindex="-1"></a>  <span class="at">sales =</span> <span class="fu">runif</span>(<span class="dv">5</span>, <span class="dv">100</span>, <span class="dv">200</span>)</span>
<span id="cb945-7"><a href="data-wrangling-in-tidyr.html#cb945-7" tabindex="-1"></a>)</span>
<span id="cb945-8"><a href="data-wrangling-in-tidyr.html#cb945-8" tabindex="-1"></a>df2</span></code></pre></div>
<pre><code>##   year qtr    sales
## 1 2020   1 128.7578
## 2 2020   3 178.8305
## 3 2020   4 140.8977
## 4 2021   2 188.3017
## 5 2021   3 194.0467</code></pre>
<div class="sourceCode" id="cb947"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb947-1"><a href="data-wrangling-in-tidyr.html#cb947-1" tabindex="-1"></a><span class="co"># use complete to find all combination</span></span>
<span id="cb947-2"><a href="data-wrangling-in-tidyr.html#cb947-2" tabindex="-1"></a>df2 <span class="sc">%&gt;%</span> </span>
<span id="cb947-3"><a href="data-wrangling-in-tidyr.html#cb947-3" tabindex="-1"></a>  <span class="fu">complete</span>(year, qtr, <span class="co"># cols provided</span></span>
<span id="cb947-4"><a href="data-wrangling-in-tidyr.html#cb947-4" tabindex="-1"></a>           <span class="at">fill =</span> <span class="fu">list</span>(<span class="at">sales =</span> <span class="dv">0</span>))</span></code></pre></div>
<pre><code>## # A tibble: 8  3
##    year   qtr sales
##   &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1  2020     1  129.
## 2  2020     2    0 
## 3  2020     3  179.
## 4  2020     4  141.
## 5  2021     1    0 
## 6  2021     2  188.
## 7  2021     3  194.
## 8  2021     4    0</code></pre>
<p><strong>Note:</strong> If <code>fill</code> argument would not have been used, the value of sales in missing columns would have been <code>NA</code> instead of provided value.</p>
</div>
<div id="fill-missing-values-based-on-criteria-fill" class="section level4 unnumbered hasAnchor">
<h4>Fill missing values based on criteria <code>fill()</code><a href="data-wrangling-in-tidyr.html#fill-missing-values-based-on-criteria-fill" class="anchor-section" aria-label="Anchor link to header"></a></h4>
<p>This function helps in filling the missing values using previous or next entry. Think of a paper sheet where many cells in a table have been filled as <code>"-do-"</code>. Syntax is -</p>
<div class="sourceCode" id="cb949"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb949-1"><a href="data-wrangling-in-tidyr.html#cb949-1" tabindex="-1"></a><span class="fu">fill</span>(data, <span class="co"># used to provide data</span></span>
<span id="cb949-2"><a href="data-wrangling-in-tidyr.html#cb949-2" tabindex="-1"></a>     ..., <span class="co"># provide columns to be filled</span></span>
<span id="cb949-3"><a href="data-wrangling-in-tidyr.html#cb949-3" tabindex="-1"></a>     <span class="at">.direction =</span> <span class="fu">c</span>(<span class="st">&quot;down&quot;</span>, <span class="st">&quot;up&quot;</span>, <span class="st">&quot;downup&quot;</span>, <span class="st">&quot;updown&quot;</span>))</span></code></pre></div>
<p>The arguments are pretty simple. Most of the time <code>"down"</code> method is used. As an example we could see the example of fuel prices mentioned above.</p>
<div class="sourceCode" id="cb950"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb950-1"><a href="data-wrangling-in-tidyr.html#cb950-1" tabindex="-1"></a>fill_df <span class="ot">&lt;-</span> df <span class="sc">%&gt;%</span> </span>
<span id="cb950-2"><a href="data-wrangling-in-tidyr.html#cb950-2" tabindex="-1"></a>  <span class="fu">complete</span>(<span class="at">date =</span> <span class="fu">seq.Date</span>(<span class="fu">as.Date</span>(<span class="st">&quot;2020-01-01&quot;</span>), <span class="fu">as.Date</span>(<span class="st">&quot;2020-01-31&quot;</span>), <span class="at">by =</span> <span class="st">&quot;day&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb950-3"><a href="data-wrangling-in-tidyr.html#cb950-3" tabindex="-1"></a>  <span class="fu">fill</span>(price, <span class="at">.direction =</span> <span class="st">&quot;down&quot;</span>)</span>
<span id="cb950-4"><a href="data-wrangling-in-tidyr.html#cb950-4" tabindex="-1"></a></span>
<span id="cb950-5"><a href="data-wrangling-in-tidyr.html#cb950-5" tabindex="-1"></a><span class="fu">head</span>(fill_df)</span></code></pre></div>
<pre><code>## # A tibble: 6  2
##   date       price
##   &lt;date&gt;     &lt;dbl&gt;
## 1 2020-01-01  75.1
## 2 2020-01-02  75.1
## 3 2020-01-03  75.1
## 4 2020-01-04  75.1
## 5 2020-01-05  75.1
## 6 2020-01-06  75.1</code></pre>
<div class="sourceCode" id="cb952"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb952-1"><a href="data-wrangling-in-tidyr.html#cb952-1" tabindex="-1"></a><span class="fu">tail</span>(fill_df)</span></code></pre></div>
<pre><code>## # A tibble: 6  2
##   date       price
##   &lt;date&gt;     &lt;dbl&gt;
## 1 2020-01-26  78.3
## 2 2020-01-27  78.3
## 3 2020-01-28  78.3
## 4 2020-01-29  78.3
## 5 2020-01-30  78.3
## 6 2020-01-31  78.3</code></pre>

</div>
</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="24">
<li id="fn24"><p>Hadley Wickham, Davis Vaughan, and Maximilian Girlich, <em>Tidyr: Tidy Messy Data</em>, 2024, <a href="https://tidyr.tidyverse.org">https://tidyr.tidyverse.org</a>.<a href="data-wrangling-in-tidyr.html#fnref24" class="footnote-back"></a></p></li>
<li id="fn25"><p><a href="https://www.jstatsoft.org/article/view/v059i10">https://www.jstatsoft.org/article/view/v059i10</a><a href="data-wrangling-in-tidyr.html#fnref25" class="footnote-back"></a></p></li>
<li id="fn26"><p>Hadley Wickham, <span>Tidy Data,</span> <em>Journal of Statistical Software</em> 59, no. 10 (2014): 123, <a href="https://doi.org/10.18637/jss.v059.i10">https://doi.org/10.18637/jss.v059.i10</a>.<a href="data-wrangling-in-tidyr.html#fnref26" class="footnote-back"></a></p></li>
<li id="fn27"><p>Hadley Wickham, <span>Reshaping Data with the Reshape Package,</span> <em>Journal of Statistical Software</em> 21, no. 12 (2007): 120, <a href="https://doi.org/10.18637/jss.v021.i12">https://doi.org/10.18637/jss.v021.i12</a>.<a href="data-wrangling-in-tidyr.html#fnref27" class="footnote-back"></a></p></li>
<li id="fn28"><p>Image taken from Hadley Wickhams book <a href="https://r4ds.had.co.nz/">R for data science</a><a href="data-wrangling-in-tidyr.html#fnref28" class="footnote-back"></a></p></li>
<li id="fn29"><p>all taken from package <code>tidyr</code><a href="data-wrangling-in-tidyr.html#fnref29" class="footnote-back"></a></p></li>
<li id="fn30"><p>These data-tables display the number of TB cases documented by the World Health Organization in Afghanistan, Brazil, and China between 1999 and 2000. The data contains values associated with four variables (country, year, cases, and population), but each table organizes the values in a different layout.<a href="data-wrangling-in-tidyr.html#fnref30" class="footnote-back"></a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="combining-tablestabular-data.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="part-iii-statistics-with-r.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/USERNAME/REPO/edit/BRANCH/11-tidyr.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["DauR.pdf", "DauR.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
