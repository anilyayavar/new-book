<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Chapter 12 Visualisations in Base R | R for Audit Analytics</title>

    <meta name="author" content="Anil Goyal" />
  
   <meta name="description" content="This book is intended for auditors performing exploratory data analytics using R programming language, mainly Base R and Tidyverse." />
   <meta name="generator" content="placeholder" />
  <meta property="og:title" content="Chapter 12 Visualisations in Base R | R for Audit Analytics" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://anilyayavar.github.io/new-book/" />
  <meta property="og:image" content="https://anilyayavar.github.io/new-book/images/cover.jpg" />
  <meta property="og:description" content="This book is intended for auditors performing exploratory data analytics using R programming language, mainly Base R and Tidyverse." />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 12 Visualisations in Base R | R for Audit Analytics" />
  
  <meta name="twitter:description" content="This book is intended for auditors performing exploratory data analytics using R programming language, mainly Base R and Tidyverse." />
  <meta name="twitter:image" content="https://anilyayavar.github.io/new-book/images/cover.jpg" />
  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet" />
    <script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script>
    <script src="libs/bs3compat-0.8.0/transition.js"></script>
    <script src="libs/bs3compat-0.8.0/tabs.js"></script>
    <script src="libs/bs3compat-0.8.0/bs3compat.js"></script>
    <link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet" />
    <script src="libs/bs4_book-1.0.0/bs4_book.js"></script>
    <script src="libs/kePrint-0.0.1/kePrint.js"></script>
    <link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script>

  <!-- CSS -->
  <style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
    <style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
          margin-bottom: 0em;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
      <link rel="stylesheet" href="style.css" />
  
</head>

<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book">
    <a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R for Audit Analytics</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
      </form>

      <nav aria-label="Table of contents">
        <h2>Table of contents</h2>
        <div id="book-toc"></div>

        <div class="book-extra">
          <p><a id="book-repo" href="#">View book source <i class="fab fa-github"></i></a></li></p>
        </div>
      </nav>
    </div>
  </header>

  <main class="col-sm-12 col-md-9 col-lg-7" id="content">
<div id="visualisations-in-base-r" class="section level1" number="12">
<h1><span class="header-section-number">Chapter 12</span> Visualisations in Base R</h1>
<p>It is a common practice to visualize data as soon as we start analysing it. While small data can be easily visualised in data format, the most common being opening it in MS Excel format, it becomes a hurdle to look at it when the data is bigger. Undoubtedly, visualization is an essential tool for data analysis because it enables us to see patterns and relationships that may not be apparent from a simple numerical summary. For example, a histogram can show the distribution of a variable, which can help identify outliers or skewness that may be hidden in the summary statistics. Similarly, a scatter plot can show the relationship between two variables, which can help identify correlation or causation that may not be apparent from summary statistics.</p>
<p>Visualization also plays a crucial role in communicating data analysis results to others. A well-designed graph or chart can convey information more effectively than a table of numbers or a lengthy report. It can also help identify errors or anomalies in the data and facilitate better decision-making.</p>
<p>In R, the base graphics system provides a powerful set of functions for creating various types of graphs and plots. In this chapter, we will cover the most commonly used functions for creating visualizations in base R, including <code>plot()</code>, <code>boxplot()</code>, <code>barplot()</code>, <code>hist()</code>, <code>pie()</code>, <code>dotchart()</code> and kernel density plots.</p>
<blockquote>
<p>Note: In next chapter we will cover visulaisation through <code>ggplot2</code> library which is very extensive, and is developed on theortical framework known as ‘grammar of graphics’. This grammar, created by Leland Wilkinson, has been implemented in a variety of data visualisation software like Tableau<a href="#fn12" class="footnote-ref" id="fnref12"><sup>12</sup></a>, Plotly, etc.</p>
</blockquote>
<div id="using-plot" class="section level2" number="12.1">
<h2><span class="header-section-number">12.1</span> Using <code>plot()</code></h2>
<p>The <code>plot()</code> function in R is a very versatile function that can create a wide variety of visualizations. Its primary purpose is to create scatterplots, but it can also create line plots, bar plots, box plots, and many other types of plots. The “plot” function can be customized in many ways, allowing users to create high-quality visualizations that are tailored to their specific needs.</p>
<p>The basic syntax of the “plot” function is as follows:</p>
<pre><code>plot(x, y, ...)</code></pre>
<p>The <code>x</code> and <code>y</code> arguments specify the variables to be plotted on the x-axis and y-axis, respectively. The <code>...</code> argument can include a wide range of optional arguments that customize the plot. Some of the most commonly used optional arguments include:</p>
<ul>
<li><code>xlab</code>: Specifies the label for the x-axis.</li>
<li><code>ylab</code>: Specifies the label for the y-axis.</li>
<li><code>main</code>: Specifies the main title for the plot.</li>
<li><code>xlim</code>: Specifies the limits for the x-axis.</li>
<li><code>ylim</code>: Specifies the limits for the y-axis.</li>
<li><code>type</code>: Specifies the type of plot to be created (e.g., <code>"p"</code> for points, <code>"l"</code> for lines,<code>"b"</code> for both points and lines, etc.).</li>
<li><code>col</code>: Specifies the color of the plot elements (e.g., points, lines, etc.).</li>
<li><code>pch</code>: Specifies the symbol used for the points in the plot.</li>
<li><code>cex</code>: Specifies the size of the plot elements (e.g., points, lines, etc.).</li>
</ul>
<blockquote>
<p>Note: Here <code>x</code> and <code>y</code> refer to vectors instead of column names, as we will see in next chapter on ggplot2 where we will use column names, instead of individual vectors. You’ll understand the difference in the following example.</p>
</blockquote>
<p>Example of scatterplot: (This will create a scatterplot with “wt” on the x-axis and “mpg” on the y-axis, with axis labels and a main title.)</p>
<div class="sourceCode" id="cb749"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb749-1"><a href="visualisations-in-base-r.html#cb749-1" tabindex="-1"></a><span class="fu">plot</span>(mtcars<span class="sc">$</span>wt, </span>
<span id="cb749-2"><a href="visualisations-in-base-r.html#cb749-2" tabindex="-1"></a>     mtcars<span class="sc">$</span>mpg, </span>
<span id="cb749-3"><a href="visualisations-in-base-r.html#cb749-3" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Car Weight (1000 lbs)&quot;</span>, </span>
<span id="cb749-4"><a href="visualisations-in-base-r.html#cb749-4" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Miles per Gallon&quot;</span>, </span>
<span id="cb749-5"><a href="visualisations-in-base-r.html#cb749-5" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Scatterplot of MPG vs Car Weight&quot;</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/p1-1.png" width="672" height="55%" style="display: block; margin: auto;" /></p>
<p>Example-2: Lineplot (This will create a line plot with “pressure”<a href="#fn13" class="footnote-ref" id="fnref13"><sup>13</sup></a> on the y-axis and “time” on the x-axis, with axis labels and a main title.)</p>
<div class="sourceCode" id="cb750"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb750-1"><a href="visualisations-in-base-r.html#cb750-1" tabindex="-1"></a><span class="fu">plot</span>(pressure, </span>
<span id="cb750-2"><a href="visualisations-in-base-r.html#cb750-2" tabindex="-1"></a>     <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, </span>
<span id="cb750-3"><a href="visualisations-in-base-r.html#cb750-3" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Time&quot;</span>, </span>
<span id="cb750-4"><a href="visualisations-in-base-r.html#cb750-4" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Pressure&quot;</span>, </span>
<span id="cb750-5"><a href="visualisations-in-base-r.html#cb750-5" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Line Plot of Pressure vs Time&quot;</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/p2-1.png" width="672" height="55%" style="display: block; margin: auto;" />
Note in above example that, the “type” argument is set to “l” to specify that a line plot should be created.</p>
<p>Example-3: Bar-Plot (bar plot of the number of cars by “cyl” i.e. number of cylinders)</p>
<div class="sourceCode" id="cb751"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb751-1"><a href="visualisations-in-base-r.html#cb751-1" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">table</span>(mtcars<span class="sc">$</span>cyl), </span>
<span id="cb751-2"><a href="visualisations-in-base-r.html#cb751-2" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">&quot;Number of Cylinders&quot;</span>, </span>
<span id="cb751-3"><a href="visualisations-in-base-r.html#cb751-3" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;Frequency&quot;</span>, </span>
<span id="cb751-4"><a href="visualisations-in-base-r.html#cb751-4" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">&quot;Barplot of Number of Cars by Cylinders&quot;</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/p3-1.png" width="672" height="55%" style="display: block; margin: auto;" />
Note: In above example we have used <code>table()</code> function to get the frequency table of <code>mtcars$cyl</code>.</p>
<p>Example-4: Boxplot ()</p>
<div class="sourceCode" id="cb752"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb752-1"><a href="visualisations-in-base-r.html#cb752-1" tabindex="-1"></a><span class="co"># Create a boxplot of &quot;Sepal.Length&quot; by &quot;Species&quot; in the iris dataset</span></span>
<span id="cb752-2"><a href="visualisations-in-base-r.html#cb752-2" tabindex="-1"></a><span class="fu">plot</span>(<span class="at">x =</span> iris<span class="sc">$</span>Species, </span>
<span id="cb752-3"><a href="visualisations-in-base-r.html#cb752-3" tabindex="-1"></a>     <span class="at">y =</span> iris<span class="sc">$</span>Sepal.Length, </span>
<span id="cb752-4"><a href="visualisations-in-base-r.html#cb752-4" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Boxplot of Sepal Length by Species&quot;</span>,</span>
<span id="cb752-5"><a href="visualisations-in-base-r.html#cb752-5" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Species&quot;</span>, </span>
<span id="cb752-6"><a href="visualisations-in-base-r.html#cb752-6" tabindex="-1"></a>     <span class="at">ylab =</span> <span class="st">&quot;Sepal Length&quot;</span>, </span>
<span id="cb752-7"><a href="visualisations-in-base-r.html#cb752-7" tabindex="-1"></a>     <span class="at">col =</span> <span class="st">&quot;darkgray&quot;</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/p4-1.png" width="672" height="55%" style="display: block; margin: auto;" /></p>
<p>Example-5: density plot</p>
<div class="sourceCode" id="cb753"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb753-1"><a href="visualisations-in-base-r.html#cb753-1" tabindex="-1"></a><span class="co"># Create a density plot of &quot;Sepal.Length&quot; in the iris dataset</span></span>
<span id="cb753-2"><a href="visualisations-in-base-r.html#cb753-2" tabindex="-1"></a><span class="fu">plot</span>(<span class="fu">density</span>(iris<span class="sc">$</span>Sepal.Length), <span class="at">main =</span> <span class="st">&quot;Density Plot of Sepal Length in the iris dataset&quot;</span>,</span>
<span id="cb753-3"><a href="visualisations-in-base-r.html#cb753-3" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Sepal Length&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Density&quot;</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/p5-1.png" width="672" height="55%" style="display: block; margin: auto;" />
Note that we have used <code>density()</code> function within <code>plot()</code> to create a density plot.</p>
<p>Let us learn about other plotting functions in base R.</p>
</div>
<div id="bar-plots-using-barplot" class="section level2" number="12.2">
<h2><span class="header-section-number">12.2</span> Bar plots using <code>barplot()</code></h2>
<p>As the name suggests <code>barplot()</code> function is used to create bar charts in R. The basic syntax is <code>barplot(height, ...)</code> where <code>height</code> should be a vector providing heights of each bar. Other arguments in ellipsis <code>...</code> can be checked by using <code>?barplot()</code>.</p>
<p>Here are a few examples of how to use the function:</p>
<p>Example: Basic Bar Chart</p>
<div class="sourceCode" id="cb754"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb754-1"><a href="visualisations-in-base-r.html#cb754-1" tabindex="-1"></a><span class="co"># Create a basic bar chart of the &quot;mpg&quot; dataset</span></span>
<span id="cb754-2"><a href="visualisations-in-base-r.html#cb754-2" tabindex="-1"></a></span>
<span id="cb754-3"><a href="visualisations-in-base-r.html#cb754-3" tabindex="-1"></a><span class="fu">barplot</span>(mtcars<span class="sc">$</span>mpg, <span class="at">names.arg =</span> <span class="fu">rownames</span>(mtcars), <span class="at">main =</span> <span class="st">&quot;Miles Per gallon - mtcars&quot;</span>, <span class="at">xlab =</span> <span class="st">&quot;Car Model&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;MPG&quot;</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/p6-1.png" width="672" height="55%" style="display: block; margin: auto;" /></p>
<p>Example- Bar chart with summarised data</p>
<div class="sourceCode" id="cb755"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb755-1"><a href="visualisations-in-base-r.html#cb755-1" tabindex="-1"></a><span class="co"># Create a summarised bar chart of the &quot;PlantGrowth&quot; dataset</span></span>
<span id="cb755-2"><a href="visualisations-in-base-r.html#cb755-2" tabindex="-1"></a><span class="fu">data</span>(PlantGrowth)</span>
<span id="cb755-3"><a href="visualisations-in-base-r.html#cb755-3" tabindex="-1"></a><span class="fu">barplot</span>(<span class="at">height =</span> <span class="fu">t</span>(<span class="fu">tapply</span>(PlantGrowth<span class="sc">$</span>weight, </span>
<span id="cb755-4"><a href="visualisations-in-base-r.html#cb755-4" tabindex="-1"></a>                          <span class="fu">list</span>(PlantGrowth<span class="sc">$</span>group), </span>
<span id="cb755-5"><a href="visualisations-in-base-r.html#cb755-5" tabindex="-1"></a>                          mean)), </span>
<span id="cb755-6"><a href="visualisations-in-base-r.html#cb755-6" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">&quot;Mean Weight of Plants by Group&quot;</span>, </span>
<span id="cb755-7"><a href="visualisations-in-base-r.html#cb755-7" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;Group&quot;</span>, </span>
<span id="cb755-8"><a href="visualisations-in-base-r.html#cb755-8" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">&quot;Weight&quot;</span>, </span>
<span id="cb755-9"><a href="visualisations-in-base-r.html#cb755-9" tabindex="-1"></a>        <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>), </span>
<span id="cb755-10"><a href="visualisations-in-base-r.html#cb755-10" tabindex="-1"></a>        <span class="at">beside =</span> <span class="cn">TRUE</span>, </span>
<span id="cb755-11"><a href="visualisations-in-base-r.html#cb755-11" tabindex="-1"></a>        <span class="at">horiz =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/p7-1.png" width="672" height="55%" style="display: block; margin: auto;" /></p>
<p>Example- Grouped Bar Chart</p>
<div class="sourceCode" id="cb756"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb756-1"><a href="visualisations-in-base-r.html#cb756-1" tabindex="-1"></a><span class="co"># Create a grouped bar chart of the &quot;ChickWeight&quot; dataset</span></span>
<span id="cb756-2"><a href="visualisations-in-base-r.html#cb756-2" tabindex="-1"></a><span class="fu">data</span>(ChickWeight)</span>
<span id="cb756-3"><a href="visualisations-in-base-r.html#cb756-3" tabindex="-1"></a><span class="fu">barplot</span>(<span class="at">height =</span> <span class="fu">t</span>(<span class="fu">tapply</span>(ChickWeight<span class="sc">$</span>weight, </span>
<span id="cb756-4"><a href="visualisations-in-base-r.html#cb756-4" tabindex="-1"></a>                          <span class="fu">list</span>(ChickWeight<span class="sc">$</span>Diet, ChickWeight<span class="sc">$</span>Time), </span>
<span id="cb756-5"><a href="visualisations-in-base-r.html#cb756-5" tabindex="-1"></a>                          mean)), </span>
<span id="cb756-6"><a href="visualisations-in-base-r.html#cb756-6" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">&quot;Mean Weight of Chicks by Diet and Time&quot;</span>, </span>
<span id="cb756-7"><a href="visualisations-in-base-r.html#cb756-7" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">&quot;Diet and Time&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Weight&quot;</span>, </span>
<span id="cb756-8"><a href="visualisations-in-base-r.html#cb756-8" tabindex="-1"></a>        <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;yellow&quot;</span>), </span>
<span id="cb756-9"><a href="visualisations-in-base-r.html#cb756-9" tabindex="-1"></a>        <span class="at">beside =</span> <span class="cn">TRUE</span>,</span>
<span id="cb756-10"><a href="visualisations-in-base-r.html#cb756-10" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">c</span>(<span class="st">&quot;Diet 1&quot;</span>, <span class="st">&quot;Diet 2&quot;</span>, <span class="st">&quot;Diet 3&quot;</span>, <span class="st">&quot;Diet 4&quot;</span>))</span></code></pre></div>
<p><img src="DauR_files/figure-html/p8-1.png" width="672" height="55%" style="display: block; margin: auto;" /></p>
<p>Example: Stacked Bar Chart</p>
<div class="sourceCode" id="cb757"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb757-1"><a href="visualisations-in-base-r.html#cb757-1" tabindex="-1"></a><span class="co"># Create a stacked bar chart of the &quot;VADeaths&quot; dataset</span></span>
<span id="cb757-2"><a href="visualisations-in-base-r.html#cb757-2" tabindex="-1"></a><span class="fu">data</span>(VADeaths)</span>
<span id="cb757-3"><a href="visualisations-in-base-r.html#cb757-3" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">as.matrix</span>(VADeaths), </span>
<span id="cb757-4"><a href="visualisations-in-base-r.html#cb757-4" tabindex="-1"></a>        <span class="at">main =</span> <span class="st">&quot;Death Rates by Age Group and Gender&quot;</span>, </span>
<span id="cb757-5"><a href="visualisations-in-base-r.html#cb757-5" tabindex="-1"></a>        <span class="at">xlab =</span> <span class="st">&quot;Age Group&quot;</span>, </span>
<span id="cb757-6"><a href="visualisations-in-base-r.html#cb757-6" tabindex="-1"></a>        <span class="at">ylab =</span> <span class="st">&quot;Death Rate&quot;</span>, </span>
<span id="cb757-7"><a href="visualisations-in-base-r.html#cb757-7" tabindex="-1"></a>        <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;red&quot;</span>, <span class="st">&quot;green&quot;</span>, <span class="st">&quot;blue&quot;</span>, <span class="st">&quot;yellow&quot;</span>, <span class="st">&quot;purple&quot;</span>), </span>
<span id="cb757-8"><a href="visualisations-in-base-r.html#cb757-8" tabindex="-1"></a>        <span class="at">legend.text =</span> <span class="fu">c</span>(<span class="st">&quot;Females&quot;</span>, <span class="st">&quot;Males&quot;</span>), </span>
<span id="cb757-9"><a href="visualisations-in-base-r.html#cb757-9" tabindex="-1"></a>        <span class="at">beside =</span> <span class="cn">FALSE</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/p9-1.png" width="672" height="55%" style="display: block; margin: auto;" /></p>
<p>In fact, we can also create barplots using formula directly. See this example</p>
<div class="sourceCode" id="cb758"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb758-1"><a href="visualisations-in-base-r.html#cb758-1" tabindex="-1"></a><span class="fu">barplot</span>(GNP <span class="sc">~</span> Year, <span class="at">data =</span> longley)</span></code></pre></div>
<p><img src="DauR_files/figure-html/p10-1.png" width="672" height="55%" style="display: block; margin: auto;" /></p>
</div>
<div id="histograms-using-hist" class="section level2" number="12.3">
<h2><span class="header-section-number">12.3</span> Histograms using <code>hist()</code></h2>
<p>The <code>hist()</code> function in R is used to create a histogram, which is a graphical representation of the distribution of a numeric variable. The basic syntax for <code>hist()</code> is as follows:</p>
<pre><code>hist(x, breaks = &quot;Sturges&quot;, freq = TRUE, main = NULL,
     xlab = NULL, ylab = &quot;Frequency&quot;, ...)</code></pre>
<p>where -</p>
<ul>
<li><code>x</code>: The data to be plotted, which should be a numeric vector or a matrix.</li>
<li><code>breaks</code>: The number of bins to use in the histogram. By default, R uses the Sturges formula to determine the number of bins, but you can also specify a different number of bins or a vector of breakpoints.</li>
<li><code>freq</code>: A logical value indicating whether to plot the frequency or density of the data. If <code>TRUE</code>, the y-axis represents the number of observations in each bin. If <code>FALSE</code>, the y-axis represents the density of the data.</li>
<li><code>main</code>: A character string specifying the title of the histogram.</li>
<li><code>xlab</code>: A character string specifying the label of the x-axis.</li>
<li><code>ylab</code>: A character string specifying the label of the y-axis.</li>
<li><code>...</code>: Additional arguments passed to the <code>plot()</code> function, such as <code>col</code>, <code>border</code>, and <code>xlim</code>.</li>
</ul>
<p>Example -</p>
<div class="sourceCode" id="cb760"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb760-1"><a href="visualisations-in-base-r.html#cb760-1" tabindex="-1"></a><span class="fu">hist</span>(iris<span class="sc">$</span>Sepal.Length, <span class="at">breaks =</span> <span class="dv">10</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>,</span>
<span id="cb760-2"><a href="visualisations-in-base-r.html#cb760-2" tabindex="-1"></a>     <span class="at">xlab =</span> <span class="st">&quot;Sepal Length&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Frequency&quot;</span>,</span>
<span id="cb760-3"><a href="visualisations-in-base-r.html#cb760-3" tabindex="-1"></a>     <span class="at">main =</span> <span class="st">&quot;Histogram of Sepal Length in Iris Dataset&quot;</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/p11-1.png" width="672" height="55%" style="display: block; margin: auto;" /></p>
<p>Another example using two layers</p>
<div class="sourceCode" id="cb761"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb761-1"><a href="visualisations-in-base-r.html#cb761-1" tabindex="-1"></a><span class="fu">hist</span>(mtcars<span class="sc">$</span>mpg,</span>
<span id="cb761-2"><a href="visualisations-in-base-r.html#cb761-2" tabindex="-1"></a>     <span class="at">freq=</span><span class="cn">FALSE</span>,</span>
<span id="cb761-3"><a href="visualisations-in-base-r.html#cb761-3" tabindex="-1"></a>     <span class="at">breaks=</span><span class="dv">12</span>,</span>
<span id="cb761-4"><a href="visualisations-in-base-r.html#cb761-4" tabindex="-1"></a>     <span class="at">col=</span><span class="st">&quot;red&quot;</span>,</span>
<span id="cb761-5"><a href="visualisations-in-base-r.html#cb761-5" tabindex="-1"></a>     <span class="at">xlab=</span><span class="st">&quot;Miles Per Gallon&quot;</span>,</span>
<span id="cb761-6"><a href="visualisations-in-base-r.html#cb761-6" tabindex="-1"></a>     <span class="at">main=</span><span class="st">&quot;Histogram, with density curve&quot;</span>)</span>
<span id="cb761-7"><a href="visualisations-in-base-r.html#cb761-7" tabindex="-1"></a><span class="co"># add density curve</span></span>
<span id="cb761-8"><a href="visualisations-in-base-r.html#cb761-8" tabindex="-1"></a><span class="fu">lines</span>(<span class="fu">density</span>(mtcars<span class="sc">$</span>mpg), <span class="at">col=</span><span class="st">&quot;blue&quot;</span>, <span class="at">lwd=</span><span class="dv">2</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/p12-1.png" width="672" height="55%" style="display: block; margin: auto;" /></p>
<p>In above example we have used <code>lines()</code> function to add another layer to existing plot.</p>
</div>
<div id="boxplots-and-variants-using-boxplot" class="section level2" number="12.4">
<h2><span class="header-section-number">12.4</span> Boxplot(s) and variants using <code>boxplot()</code></h2>
A Box-plot is also called box and whiskers plot and is used to show distribution of a numerical variable using graphical summaries. Deciphering box plot can be understood using the following illustration.
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:boxplots"></span>
<img src="images/boxplots.png" alt="Understanding boxplots" width="336" height="45%" />
<p class="caption">
Figure 12.1: Understanding boxplots
</p>
</div>
<p>Using <code>boxplot()</code> function is simple, as the syntax is <code>boxplot(x, ...)</code> where <code>x</code> is a numeric vector or a list of numeric vectors to be plotted, and <code>...</code> represents any additional arguments that can be used to customize the appearance of the box plot.</p>
<p>Example-</p>
<div class="sourceCode" id="cb762"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb762-1"><a href="visualisations-in-base-r.html#cb762-1" tabindex="-1"></a><span class="fu">boxplot</span>(mtcars<span class="sc">$</span>mpg)</span></code></pre></div>
<p><img src="DauR_files/figure-html/p13-1.png" width="672" height="55%" style="display: block; margin: auto;" /></p>
<p>However, the boxplots are particularly useful when drawn in parallel over several categories. To draw these, we can directly use formula as we did in example above. E.g. the following code will create box-plots of for each type of spray, from InsectSprays<a href="#fn14" class="footnote-ref" id="fnref14"><sup>14</sup></a> data.</p>
<div class="sourceCode" id="cb763"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb763-1"><a href="visualisations-in-base-r.html#cb763-1" tabindex="-1"></a><span class="fu">boxplot</span>(count <span class="sc">~</span> spray, </span>
<span id="cb763-2"><a href="visualisations-in-base-r.html#cb763-2" tabindex="-1"></a>        <span class="at">data =</span> InsectSprays, </span>
<span id="cb763-3"><a href="visualisations-in-base-r.html#cb763-3" tabindex="-1"></a>        <span class="at">col =</span> <span class="st">&quot;lightgray&quot;</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/p14-1.png" width="672" height="55%" style="display: block; margin: auto;" /></p>
</div>
<div id="saving-and-exporting-charts" class="section level2" number="12.5">
<h2><span class="header-section-number">12.5</span> Saving and exporting charts</h2>
<p>See last section of next chapter.</p>
</div>
<div id="use-of-par" class="section level2" number="12.6">
<h2><span class="header-section-number">12.6</span> Use of <code>par()</code></h2>
<p>One of the useful functions while using base R’s graphics is <code>par()</code> which is used to set or query graphical <strong>par</strong>ameters. See the following example, where one of its argument <code>mfrow = c(nr, nc)</code> has been used inside this function to draw subsequent plots in an <code>nr</code>-by-<code>nc</code> array on the device.</p>
<div class="sourceCode" id="cb764"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb764-1"><a href="visualisations-in-base-r.html#cb764-1" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">2</span>))</span>
<span id="cb764-2"><a href="visualisations-in-base-r.html#cb764-2" tabindex="-1"></a>purrr<span class="sc">::</span><span class="fu">walk</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">4</span>, </span>
<span id="cb764-3"><a href="visualisations-in-base-r.html#cb764-3" tabindex="-1"></a>     <span class="sc">~</span><span class="fu">plot</span>(anscombe[[<span class="fu">paste0</span>(<span class="st">&#39;x&#39;</span>, .x)]], </span>
<span id="cb764-4"><a href="visualisations-in-base-r.html#cb764-4" tabindex="-1"></a>           anscombe[[<span class="fu">paste0</span>(<span class="st">&#39;y&#39;</span>, .x)]], </span>
<span id="cb764-5"><a href="visualisations-in-base-r.html#cb764-5" tabindex="-1"></a>           <span class="at">xlab =</span> <span class="fu">paste0</span>(<span class="st">&#39;x&#39;</span>, .x),</span>
<span id="cb764-6"><a href="visualisations-in-base-r.html#cb764-6" tabindex="-1"></a>           <span class="at">ylab =</span> <span class="fu">paste0</span>(<span class="st">&#39;y&#39;</span>, .x),</span>
<span id="cb764-7"><a href="visualisations-in-base-r.html#cb764-7" tabindex="-1"></a>           <span class="at">main =</span> <span class="fu">paste</span>(<span class="st">&quot;Anscombe&#39;s Quartet Chart No.&quot;</span>, .x))</span>
<span id="cb764-8"><a href="visualisations-in-base-r.html#cb764-8" tabindex="-1"></a>     )</span></code></pre></div>
<p><img src="DauR_files/figure-html/unnamed-chunk-238-1.png" width="672" /></p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="12">
<li id="fn12"><p><a href="https://statmodeling.stat.columbia.edu/2021/05/14/tableau-and-the-grammar-of-graphics/">https://statmodeling.stat.columbia.edu/2021/05/14/tableau-and-the-grammar-of-graphics/</a><a href="visualisations-in-base-r.html#fnref12" class="footnote-back">↩︎</a></p></li>
<li id="fn13"><p>The “pressure” dataset contains measurements of vapor pressure of mercury as a function of temperature, measured at 10 different times. The line plot will show the trend of vapor pressure over time.<a href="visualisations-in-base-r.html#fnref13" class="footnote-back">↩︎</a></p></li>
<li id="fn14"><p>a base R data-set having the counts of insects in agricultural experimental units treated with different insecticides.<a href="visualisations-in-base-r.html#fnref14" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
  </main>

  <div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page">
      <h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          <li><a id="book-source" href="#">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="#">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
      </div>
    </nav>
  </div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5">
  <div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R for Audit Analytics</strong>" was written by Anil Goyal. It was last built on 2024-11-29.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
<script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>

</html>
