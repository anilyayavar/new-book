<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 30 Regex in human readble format using rebus | R for Audit Analytics</title>
<meta name="author" content="Anil Goyal">
<meta name="description" content="Regular expressions, as explained in earlier chapter, are very powerful. However they are often difficult to interpret. There is a package called rebus in R, which allows us to build complex...">
<meta name="generator" content="bookdown 0.40 with bs4_book()">
<meta property="og:title" content="Chapter 30 Regex in human readble format using rebus | R for Audit Analytics">
<meta property="og:type" content="book">
<meta property="og:url" content="https://anilyayavar.github.io/new-book/regex-in-human-readble-format-using-rebus.html">
<meta property="og:image" content="https://anilyayavar.github.io/new-book/images/cover.jpg">
<meta property="og:description" content="Regular expressions, as explained in earlier chapter, are very powerful. However they are often difficult to interpret. There is a package called rebus in R, which allows us to build complex...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 30 Regex in human readble format using rebus | R for Audit Analytics">
<meta name="twitter:description" content="Regular expressions, as explained in earlier chapter, are very powerful. However they are often difficult to interpret. There is a package called rebus in R, which allows us to build complex...">
<meta name="twitter:image" content="https://anilyayavar.github.io/new-book/images/cover.jpg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.8.0/transition.js"></script><script src="libs/bs3compat-0.8.0/tabs.js"></script><script src="libs/bs3compat-0.8.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
          margin-bottom: 0em;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R for Audit Analytics</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome to R for Audit Analytics</a></li>
<li><a class="" href="preface.html">Preface</a></li>
<li><a class="" href="about-author.html">About author</a></li>
<li><a class="" href="gearing-up.html">Gearing up</a></li>
<li><a class="" href="part-i-basic-r-programming-concepts.html">Part-I: Basic R Programming Concepts</a></li>
<li><a class="" href="r-programming-language.html"><span class="header-section-number">1</span> R Programming Language</a></li>
<li><a class="" href="subset.html"><span class="header-section-number">2</span> Subsetting R objects or accesing specific elements</a></li>
<li><a class="" href="func.html"><span class="header-section-number">3</span> Functions and operations in R</a></li>
<li><a class="" href="existing-and-useful-functions-in-base-r.html"><span class="header-section-number">4</span> Existing and useful functions in base R</a></li>
<li><a class="" href="pipes-in-r.html"><span class="header-section-number">5</span> Pipes in R</a></li>
<li><a class="" href="control-statements.html"><span class="header-section-number">6</span> Control statements</a></li>
<li><a class="" href="functional-programming.html"><span class="header-section-number">7</span> Functional Programming</a></li>
<li><a class="" href="file.html"><span class="header-section-number">8</span> File handling operations in R</a></li>
<li><a class="" href="read.html"><span class="header-section-number">9</span> Getting data in and out of R</a></li>
<li><a class="" href="data-cleaning-in-r.html"><span class="header-section-number">10</span> Data Cleaning in R</a></li>
<li><a class="" href="merging-large-number-of-similar-datasets-into-one.html"><span class="header-section-number">11</span> Merging large number of similar datasets into one</a></li>
<li><a class="" href="part-ii-exploratory-data-analysis.html">Part-II: Exploratory Data Analysis</a></li>
<li><a class="" href="visualisations-in-base-r.html"><span class="header-section-number">12</span> Visualisations in Base R</a></li>
<li><a class="" href="visualising-data-with-ggplot2.html"><span class="header-section-number">13</span> Visualising data with ggplot2</a></li>
<li><a class="" href="DPLYRR.html"><span class="header-section-number">14</span> Data Transformation in dplyr</a></li>
<li><a class="" href="combining-tablestabular-data.html"><span class="header-section-number">15</span> Combining Tables/tabular data</a></li>
<li><a class="" href="data-wrangling-in-tidyr.html"><span class="header-section-number">16</span> Data Wrangling in tidyr</a></li>
<li><a class="" href="generating-descriptive-statistics.html"><span class="header-section-number">17</span> Generating Descriptive statistics</a></li>
<li><a class="" href="part-iii-probability-and-sampling-in-r.html">Part-III: Probability and Sampling in R</a></li>
<li><a class="" href="probability-in-r.html"><span class="header-section-number">18</span> Probability in R</a></li>
<li><a class="" href="random-sampling-in-r.html"><span class="header-section-number">19</span> Random sampling in R</a></li>
<li><a class="" href="part-iv-machine-learning-in-r.html">Part-IV: Machine Learning in R</a></li>
<li><a class="" href="linear-regression.html"><span class="header-section-number">20</span> Linear Regression</a></li>
<li><a class="" href="principal-component-analysis-in-r.html"><span class="header-section-number">21</span> Principal Component Analysis in R</a></li>
<li><a class="" href="clustering-in-r-using-kmeans-algorithm.html"><span class="header-section-number">22</span> Clustering in R (Using Kmeans algorithm)</a></li>
<li><a class="" href="association-rule-mining-in-r-apriori.html"><span class="header-section-number">23</span> Association Rule Mining in R (Apriori)</a></li>
<li><a class="" href="part-v-time-series.html">Part-V: Time Series</a></li>
<li><a class="" href="lubridate.html"><span class="header-section-number">24</span> Date and Time calculations</a></li>
<li><a class="" href="time-series-analysis.html"><span class="header-section-number">25</span> Time Series Analysis</a></li>
<li><a class="" href="part-vi-network-analytics.html">Part VI: Network Analytics</a></li>
<li><a class="" href="network-analyticsgraph-theory-in-r.html"><span class="header-section-number">26</span> Network Analytics/Graph theory in R</a></li>
<li><a class="" href="applying-network-analysis-in-auditfraud-detection.html"><span class="header-section-number">27</span> Applying network analysis in audit/fraud detection</a></li>
<li><a class="" href="part-vii-text-analytics-in-r.html">Part-VII: Text Analytics in R</a></li>
<li><a class="" href="string-manipulation-in-stringr.html"><span class="header-section-number">28</span> String manipulation in stringr</a></li>
<li><a class="" href="regex---a-quick-introduction.html"><span class="header-section-number">29</span> Regex - A quick introduction</a></li>
<li><a class="active" href="regex-in-human-readble-format-using-rebus.html"><span class="header-section-number">30</span> Regex in human readble format using rebus</a></li>
<li><a class="" href="factors.html"><span class="header-section-number">31</span> Factors</a></li>
<li><a class="" href="text-analytics-in-r.html"><span class="header-section-number">32</span> Text Analytics in R</a></li>
<li><a class="" href="sentiment-analysis.html"><span class="header-section-number">33</span> Sentiment Analysis</a></li>
<li><a class="" href="visualising-text-analytics-through-wordcloud-etc..html"><span class="header-section-number">34</span> Visualising Text analytics through Wordcloud, etc.</a></li>
<li><a class="" href="finding-string-similarity.html"><span class="header-section-number">35</span> Finding string similarity</a></li>
<li><a class="" href="part-viii-geo-computation-in-r.html">Part-VIII: Geo computation in R</a></li>
<li><a class="" href="maps-in-r.html"><span class="header-section-number">36</span> Maps in R</a></li>
<li><a class="" href="geo-coding-in-r.html"><span class="header-section-number">37</span> Geo-Coding in R</a></li>
<li><a class="" href="reverse-geo-coding.html"><span class="header-section-number">38</span> Reverse geo-coding</a></li>
<li><a class="" href="part-ix-identifying-anamolous-observations-for-audit.html">Part-IX: Identifying anamolous observations for audit</a></li>
<li><a class="" href="benford-testsanalysis.html"><span class="header-section-number">39</span> Benford Tests/Analysis</a></li>
<li><a class="" href="anomaly-detection.html"><span class="header-section-number">40</span> Anomaly Detection</a></li>
<li><a class="" href="finding-anamolous-outliers.html"><span class="header-section-number">41</span> Finding Anamolous Outliers</a></li>
<li><a class="" href="dup.html"><span class="header-section-number">42</span> Duplicate Detection</a></li>
<li><a class="" href="detecting-gaps-in-sequences.html"><span class="header-section-number">43</span> Detecting gaps in sequences</a></li>
<li><a class="" href="data-envelopment-analysis.html"><span class="header-section-number">44</span> Data Envelopment Analysis</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="COLORR.html"><span class="header-section-number">A</span> Colors in R</a></li>
<li><a class="" href="various-datasets-in-base-r-used-in-this-book.html"><span class="header-section-number">B</span> Various Datasets, in base R, used in this book</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="regex-in-human-readble-format-using-rebus" class="section level1" number="30">
<h1>
<span class="header-section-number">30</span> Regex in human readble format using <code>rebus</code><a class="anchor" aria-label="anchor" href="#regex-in-human-readble-format-using-rebus"><i class="fas fa-link"></i></a>
</h1>
<p>Regular expressions, as explained in earlier chapter, are very powerful. However they are often difficult to interpret. There is a package called <code>rebus</code> in R, which allows us to build complex regular expressions from human readable expressions. So instead of writing <code>[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,4}</code> and later trying to decipher what this expression actually meant, we can use a more human-readble format -</p>
<pre><code>one_or_more(char_class(ASCII_ALNUM %R% "._%+-")) %R%
  "@" %R%
  one_or_more(char_class(ASCII_ALNUM %R% ".-")) %R%
  DOT %R%
  ascii_alpha(2, 4)</code></pre>
<p>Many of us could have by now correctly guessed that these both are regular expressions to detect email addresses from the given text strings. Rebus actually contains functions like <code><a href="https://rdrr.io/pkg/rebus.base/man/char_class.html">char_class()</a></code> or <code><a href="https://rdrr.io/pkg/rebus.base/man/repeated.html">one_or_more()</a></code> to make building regular expressions easier. So let’s dive in to learn the package.</p>
<p>First of all let’s load the library. Alongside let’s also load <code>stringr</code> so that we can use its function <code>str_view</code> to understand the examples. <strong>Readers may note here that this library <code>rebus</code> also contains a function <code>regex</code> which creates a conflict with <code><a href="https://stringr.tidyverse.org/reference/modifiers.html">stringr::regex</a></code>. So to avoid that conflict we may use library <code>conflicted</code> here which may set our preferential library in case of conflicts.</strong></p>
<div class="sourceCode" id="cb1745"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">rebus</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://stringr.tidyverse.org">stringr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://conflicted.r-lib.org/">conflicted</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/conflicted/man/conflict_prefer.html">conflict_prefer</a></span><span class="op">(</span><span class="st">"regex"</span>, <span class="st">"stringr"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/conflicted/man/conflicts_prefer.html">conflicts_prefer</a></span><span class="op">(</span><span class="fu">rebus</span><span class="fu">::</span><span class="va"><a href="https://rdrr.io/pkg/rebus.base/man/or.html">or</a></span><span class="op">)</span></span></code></pre></div>
<div id="operators-for-concatenation-and-alternation" class="section level2" number="30.1">
<h2>
<span class="header-section-number">30.1</span> Operators for concatenation and alternation<a class="anchor" aria-label="anchor" href="#operators-for-concatenation-and-alternation"><i class="fas fa-link"></i></a>
</h2>
<p>For concatenating two regular expressions we may use either of the operators <code>%R%</code> or <code>%c%</code> which like a pipe operator concatenates LHS and RHS together as one regular expression.</p>
<p>For alternation we may use either the operator <code>%|%</code> or function <code><a href="https://rdrr.io/pkg/rebus.base/man/or.html">or()</a></code> from the package which separates two regular expressions through a pipe for alternation.
Example-1:</p>
<div class="sourceCode" id="cb1746"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_colors</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"red"</span>, <span class="st">"grey"</span>, <span class="st">"blue"</span>, <span class="st">"gray"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">my_colors</span>, <span class="st">"gr"</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/or.html">or</a></span><span class="op">(</span><span class="st">"a"</span> , <span class="st">"e"</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="st">"y"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [2] │ &lt;grey&gt;
## [4] │ &lt;gray&gt;</code></pre>
<div class="sourceCode" id="cb1748"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Note operator precedence</span></span>
<span><span class="co"># This actually means either "gra" or "ey"</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">my_colors</span>, <span class="st">"gr"</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="st">"a"</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/or.html">%|%</a></span> <span class="st">"e"</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="st">"y"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [2] │ gr&lt;ey&gt;
## [4] │ &lt;gra&gt;y</code></pre>
</div>
<div id="literal-characters-specvial-characters-and-case-sensitivity" class="section level2" number="30.2">
<h2>
<span class="header-section-number">30.2</span> Literal Characters, specvial characters and case sensitivity<a class="anchor" aria-label="anchor" href="#literal-characters-specvial-characters-and-case-sensitivity"><i class="fas fa-link"></i></a>
</h2>
<p>The literal characters may, as we learnt earlier, may be given in the string as they mean. Literals are case sensitive too. So if we want a case insensitive match, there is a function <code>case_insensitive</code> here which will take care of the requirement.</p>
<p>Example-2:</p>
<div class="sourceCode" id="cb1750"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ex_text</span> <span class="op">&lt;-</span> <span class="st">"This is an example text."</span></span>
<span><span class="co"># Match literal `x`</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_text</span>, <span class="st">"X"</span>, match <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ This is an example text.</code></pre>
<div class="sourceCode" id="cb1752"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_text</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/modify_mode.html">case_insensitive</a></span><span class="op">(</span><span class="st">"X"</span><span class="op">)</span>, match <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ This is an e&lt;x&gt;ample te&lt;x&gt;t.</code></pre>
<p>To match special characters which may have special meaning in regular expressions, we have constants here. In rebus, the constants are usually available in <code>UPPER CASE</code> and equivalent functions are available in <code>lower case</code>. The following special character constants are available -</p>
<div class="sourceCode" id="cb1754"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">BACKSLASH</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \\</code></pre>
<div class="sourceCode" id="cb1756"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">CARET</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \^</code></pre>
<div class="sourceCode" id="cb1758"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DOLLAR</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \$</code></pre>
<div class="sourceCode" id="cb1760"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DOT</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \.</code></pre>
<div class="sourceCode" id="cb1762"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">PIPE</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \|</code></pre>
<div class="sourceCode" id="cb1764"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">QUESTION</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \?</code></pre>
<div class="sourceCode" id="cb1766"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">STAR</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \*</code></pre>
<div class="sourceCode" id="cb1768"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">PLUS</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \+</code></pre>
<div class="sourceCode" id="cb1770"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">OPEN_PAREN</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \(</code></pre>
<div class="sourceCode" id="cb1772"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">CLOSE_PAREN</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \)</code></pre>
<div class="sourceCode" id="cb1774"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">OPEN_BRACKET</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \[</code></pre>
<div class="sourceCode" id="cb1776"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">CLOSE_BRACKET</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \]</code></pre>
<div class="sourceCode" id="cb1778"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">OPEN_BRACE</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \{</code></pre>
<p>Example-3:</p>
<div class="sourceCode" id="cb1780"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_text</span>, <span class="va">DOT</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ This is an example text&lt;.&gt;</code></pre>
</div>
<div id="metacharacters-1" class="section level2" number="30.3">
<h2>
<span class="header-section-number">30.3</span> Metacharacters<a class="anchor" aria-label="anchor" href="#metacharacters-1"><i class="fas fa-link"></i></a>
</h2>
<div id="character-classes" class="section level3" number="30.3.1">
<h3>
<span class="header-section-number">30.3.1</span> Character classes<a class="anchor" aria-label="anchor" href="#character-classes"><i class="fas fa-link"></i></a>
</h3>
<p>To group characters together in a class to match any of them, we may use function <code><a href="https://rdrr.io/pkg/rebus.base/man/char_class.html">char_class()</a></code> in rebus package. See example-4:</p>
<div class="sourceCode" id="cb1782"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ex_vec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Apple"</span>, <span class="st">"Orange"</span>, <span class="st">"Myrrh"</span><span class="op">)</span></span>
<span><span class="co"># matches a vowel</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_vec</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/char_class.html">char_class</a></span><span class="op">(</span><span class="st">"aeiou"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ Appl&lt;e&gt;
## [2] │ Or&lt;a&gt;ng&lt;e&gt;</code></pre>
<div class="sourceCode" id="cb1784"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># matches a vowel irrespective of case</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_vec</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/modify_mode.html">case_insensitive</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/char_class.html">char_class</a></span><span class="op">(</span><span class="st">"aeiou"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ &lt;A&gt;ppl&lt;e&gt;
## [2] │ &lt;O&gt;r&lt;a&gt;ng&lt;e&gt;</code></pre>
<p>To <strong>match a range of characters/numbers</strong> we separate these by hyphen in square brackets (in normal regex building). So, <code>char_class("a-d")</code> will match a character from range <code>[abcd]</code>.</p>
<p>Example-5:</p>
<div class="sourceCode" id="cb1786"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ex_text</span> <span class="op">&lt;-</span> <span class="st">"The quick brown fox jumps over the lazy dog."</span></span>
<span><span class="co"># Match a, b or c in lower case</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_text</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/char_class.html">char_class</a></span><span class="op">(</span><span class="st">"a-d"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ The qui&lt;c&gt;k &lt;b&gt;rown fox jumps over the l&lt;a&gt;zy &lt;d&gt;og.</code></pre>
<p>For negated character classes we again have an intuitively named function <code><a href="https://rdrr.io/pkg/rebus.base/man/char_class.html">negated_char_class()</a></code> in R, which we can use as per our requirement.</p>
<p>Example-6:</p>
<div class="sourceCode" id="cb1788"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ex_text</span> <span class="op">&lt;-</span> <span class="st">"The quick brown fox jumps over the lazy dog."</span></span>
<span><span class="co"># Match all text except vowels</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_text</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/char_class.html">negated_char_class</a></span><span class="op">(</span><span class="st">"aeiou"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ &lt;T&gt;&lt;h&gt;e&lt; &gt;&lt;q&gt;ui&lt;c&gt;&lt;k&gt;&lt; &gt;&lt;b&gt;&lt;r&gt;o&lt;w&gt;&lt;n&gt;&lt; &gt;&lt;f&gt;o&lt;x&gt;&lt; &gt;&lt;j&gt;u&lt;m&gt;&lt;p&gt;&lt;s&gt;&lt; &gt;o&lt;v&gt;e&lt;r&gt;&lt; &gt;&lt;t&gt;&lt;h&gt;e&lt; &gt;&lt;l&gt;a&lt;z&gt;&lt;y&gt;&lt; &gt;&lt;d&gt;o&lt;g&gt;&lt;.&gt;</code></pre>
<div class="sourceCode" id="cb1790"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Note that upper case and dot character have also been matched.</span></span></code></pre></div>
</div>
<div id="built-in-character-classes" class="section level3" number="30.3.2">
<h3>
<span class="header-section-number">30.3.2</span> Built-in Character classes<a class="anchor" aria-label="anchor" href="#built-in-character-classes"><i class="fas fa-link"></i></a>
</h3>
<p>We can also use <strong>pre-built character classes</strong> available in rebus, as listed below.</p>
<div class="sourceCode" id="cb1791"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ALPHA</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [:alpha:]</code></pre>
<div class="sourceCode" id="cb1793"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ALNUM</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [:alnum:]</code></pre>
<div class="sourceCode" id="cb1795"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">BLANK</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [:blank:]</code></pre>
<div class="sourceCode" id="cb1797"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DIGIT</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [:digit:]</code></pre>
<div class="sourceCode" id="cb1799"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">LOWER</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [:lower:]</code></pre>
<div class="sourceCode" id="cb1801"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">PRINT</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [:print:]</code></pre>
<div class="sourceCode" id="cb1803"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">PUNCT</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [:punct:]</code></pre>
<div class="sourceCode" id="cb1805"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">SPACE</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [:space:]</code></pre>
<div class="sourceCode" id="cb1807"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">UPPER</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [:upper:]</code></pre>
<div class="sourceCode" id="cb1809"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HEX_DIGIT</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [:xdigit:]</code></pre>
<div class="sourceCode" id="cb1811"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ANY_CHAR</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; .</code></pre>
<div class="sourceCode" id="cb1813"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">GRAPHEME</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \X</code></pre>
<div class="sourceCode" id="cb1815"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">NEWLINE</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \R</code></pre>
<div class="sourceCode" id="cb1817"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DGT</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \d</code></pre>
<div class="sourceCode" id="cb1819"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">WRD</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \w</code></pre>
<div class="sourceCode" id="cb1821"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">SPC</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \s</code></pre>
<div class="sourceCode" id="cb1823"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">NOT_DGT</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \D</code></pre>
<div class="sourceCode" id="cb1825"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">NOT_WRD</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \W</code></pre>
<div class="sourceCode" id="cb1827"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">NOT_SPC</span>  <span class="co"># Equivalent to "\\S"</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; \S</code></pre>
<div class="sourceCode" id="cb1829"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ASCII_DIGIT</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; 0-9</code></pre>
<div class="sourceCode" id="cb1831"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ASCII_LOWER</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; a-z</code></pre>
<div class="sourceCode" id="cb1833"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ASCII_UPPER</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; A-Z</code></pre>
<div class="sourceCode" id="cb1835"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ASCII_ALPHA</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; a-zA-Z</code></pre>
<div class="sourceCode" id="cb1837"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ASCII_ALNUM</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; a-zA-Z0-9</code></pre>
<p>See another example.</p>
<p>Example-7:</p>
<div class="sourceCode" id="cb1839"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ex_text</span> <span class="op">&lt;-</span> <span class="st">"The quick brown fox jumps over the lazy dog."</span></span>
<span><span class="co"># Match TAB or SPACE Characters</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_text</span>, <span class="va">BLANK</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ The&lt; &gt;quick&lt; &gt;brown&lt; &gt;fox&lt; &gt;jumps&lt; &gt;over&lt; &gt;the&lt; &gt;lazy&lt; &gt;dog.</code></pre>
<div class="sourceCode" id="cb1841"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Match all UPPER CASE characters</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_text</span>, <span class="va">UPPER</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ &lt;T&gt;he quick brown fox jumps over the lazy dog.</code></pre>
<p>Besides the afore-mentioned class constants, we have <code>lower case</code> equivalent functions for these character classes for a more useful regex building.</p>
<pre><code>alnum(lo, hi, char_class = TRUE)
alpha(lo, hi, char_class = TRUE)
blank(lo, hi, char_class = TRUE)
cntrl(lo, hi, char_class = TRUE)
digit(lo, hi, char_class = TRUE)
graph(lo, hi, char_class = TRUE)
lower(lo, hi, char_class = TRUE)
printable(lo, hi, char_class = TRUE)
punct(lo, hi, char_class = TRUE)
space(lo, hi, char_class = TRUE)
upper(lo, hi, char_class = TRUE)
hex_digit(lo, hi, char_class = TRUE)
any_char(lo, hi)
grapheme(lo, hi)
newline(lo, hi)
dgt(lo, hi, char_class = FALSE)
wrd(lo, hi, char_class = FALSE)
spc(lo, hi, char_class = FALSE)
not_dgt(lo, hi, char_class = FALSE)
not_wrd(lo, hi, char_class = FALSE)
not_spc(lo, hi, char_class = FALSE)
ascii_digit(lo, hi, char_class = TRUE)
ascii_lower(lo, hi, char_class = TRUE)
ascii_upper(lo, hi, char_class = TRUE)
ascii_alpha(lo, hi, char_class = TRUE)
ascii_alnum(lo, hi, char_class = TRUE)
char_range(lo, hi, char_class = lo &lt; hi)
number_range(lo, hi, allow_leading_zeroes = FALSE, capture = FALSE)</code></pre>
<p>In the above functions, both <code>lo</code> and <code>hi</code> accept positive integers as quantifiers; and <code>char_class</code> argument a logical value. See these examples.</p>
<p>Example-8:</p>
<div class="sourceCode" id="cb1844"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ip_add</span> <span class="op">&lt;-</span> <span class="st">"My IP address is 255.1.2.50"</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ip_add</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/ClassGroups.html">digit</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ My IP address is &lt;255&gt;.&lt;1&gt;.&lt;2&gt;.&lt;50&gt;</code></pre>
<div class="sourceCode" id="cb1846"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ip_add</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/ClassGroups.html">digit</a></span><span class="op">(</span><span class="fl">3</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ My IP address is &lt;255&gt;.1.2.50</code></pre>
<div class="sourceCode" id="cb1848"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ip_add</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/ClassGroups.html">not_dgt</a></span><span class="op">(</span><span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ &lt;My IP&gt;&lt; addr&gt;&lt;ess i&gt;s 255.1.2.50</code></pre>
<div class="sourceCode" id="cb1850"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Note this will match none</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ip_add</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/ClassGroups.html">space</a></span><span class="op">(</span><span class="fl">2</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
<div id="word-boundaries" class="section level3" number="30.3.3">
<h3>
<span class="header-section-number">30.3.3</span> Word Boundaries<a class="anchor" aria-label="anchor" href="#word-boundaries"><i class="fas fa-link"></i></a>
</h3>
<p>To match a word boundary (or its negation) we have <code>BOUNDARY</code> (and <code>NOT_BOUNDARY</code>) in rebus. Function <code>whole_word(x)</code>, on the other hand, wraps the regex in word boundary tokens to match a whole word. See following example.</p>
<p>Example-9:</p>
<div class="sourceCode" id="cb1851"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ex_text</span> <span class="op">&lt;-</span> <span class="st">"The thermometer, they were searching is placed in a leather box."</span></span>
<span><span class="co"># Note three matches</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_text</span>, <span class="st">"the"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ The &lt;the&gt;rmometer, &lt;the&gt;y were searching is placed in a lea&lt;the&gt;r box.</code></pre>
<div class="sourceCode" id="cb1853"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># There is no match</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_text</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/WordBoundaries.html">whole_word</a></span><span class="op">(</span><span class="st">"the"</span><span class="op">)</span>, match <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ The thermometer, they were searching is placed in a leather box.</code></pre>
<div class="sourceCode" id="cb1855"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_text</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/modify_mode.html">case_insensitive</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/WordBoundaries.html">whole_word</a></span><span class="op">(</span><span class="st">"the"</span><span class="op">)</span><span class="op">)</span>, match <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ &lt;The&gt; thermometer, they were searching is placed in a leather box.</code></pre>
<div class="sourceCode" id="cb1857"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_text</span>, <span class="va">BOUNDARY</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/modify_mode.html">case_insensitive</a></span><span class="op">(</span><span class="st">"the"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ &lt;The&gt; &lt;the&gt;rmometer, &lt;the&gt;y were searching is placed in a leather box.</code></pre>
<div class="sourceCode" id="cb1859"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_text</span>, <span class="va">NOT_BOUNDARY</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="st">"the"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ The thermometer, they were searching is placed in a lea&lt;the&gt;r box.</code></pre>
</div>
</div>
<div id="quantifiers-1" class="section level2" number="30.4">
<h2>
<span class="header-section-number">30.4</span> Quantifiers<a class="anchor" aria-label="anchor" href="#quantifiers-1"><i class="fas fa-link"></i></a>
</h2>
<p>We learnt following quantifiers in regular expressions.</p>
<ul>
<li>
<code>+</code> <strong>1 or more</strong> occurrences</li>
<li>
<code>*</code> <strong>0 or more</strong>
</li>
<li>
<code>?</code> <strong>0 or 1</strong>
</li>
<li>
<code><a href="https://rdrr.io/r/base/Paren.html">{}</a></code> specified numbers
<ul>
<li>
<code>{n}</code> exactly n</li>
<li>
<code>{n,}</code> n or more</li>
<li>
<code>{n,m}</code> between n and m</li>
</ul>
</li>
</ul>
<p>We have meaningfully named functions for each of the above quantifiers in rebus.</p>
<ul>
<li><code>one_or_more(x, char_class = NA)</code></li>
<li><code>zero_or_more(x, char_class = NA)</code></li>
<li><code>optional(x, char_class = NA)</code></li>
<li>
<code>repeated(x, lo, hi, lazy = FALSE, char_class = NA)</code>
<ul>
<li>where <code>lo</code> and <code>hi</code> represent <code>n</code> and <code>m</code> equivalently.</li>
</ul>
</li>
</ul>
<p>Additionally, we may notice an argument <code>char_class = NA</code> which accepts a logical value for case when <code>x</code> is required to be wrapped in a character class.</p>
<p>We may match two consecutive vowels using <code>repeated("aeiou", 2, char_class = TRUE)</code>. See this example.</p>
<p>Example-10:</p>
<div class="sourceCode" id="cb1861"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ex_vec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"1 apple"</span>, <span class="st">"2 bananas"</span>, <span class="st">"3 pineapples"</span><span class="op">)</span></span>
<span><span class="co"># match two consecutive vowels</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_vec</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/repeated.html">repeated</a></span><span class="op">(</span><span class="st">"aeiou"</span>, <span class="fl">2</span>, char_class <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [3] │ 3 pin&lt;ea&gt;pples</code></pre>
<div class="sourceCode" id="cb1863"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># match a number followed by apple with an optional space</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_vec</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/repeated.html">one_or_more</a></span><span class="op">(</span><span class="va">DIGIT</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/repeated.html">optional</a></span><span class="op">(</span><span class="va">BLANK</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="st">"apple"</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ &lt;1 apple&gt;</code></pre>
</div>
<div id="anchors-1" class="section level2" number="30.5">
<h2>
<span class="header-section-number">30.5</span> Anchors<a class="anchor" aria-label="anchor" href="#anchors-1"><i class="fas fa-link"></i></a>
</h2>
<p>Anchors in regular expressions allow us to match patterns at specific positions within the input string. In rebus, we have constants <code>START</code> and <code>END</code> to match the beginning or end positions within the input text, respectively.</p>
<p>Example-11:</p>
<div class="sourceCode" id="cb1865"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">string</span> <span class="op">&lt;-</span> <span class="st">"The quick brown fox jumps over the lazy dog. The fox is brown."</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">string</span>, <span class="va">START</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/modify_mode.html">case_insensitive</a></span><span class="op">(</span><span class="st">"the"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ &lt;The&gt; quick brown fox jumps over the lazy dog. The fox is brown.</code></pre>
<p>In the above example, we are matching word <code>the</code> which is at the beginning of a sentence only. There is one more function <code>exactly(x)</code> in rebus which makes the regular expression match the whole string, from start to end, in fact a shortcut of <code>START %R% x %R% END</code>.</p>
<p>Example-12:</p>
<div class="sourceCode" id="cb1867"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ex_vec</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"apple"</span>, <span class="st">"banana"</span>, <span class="st">"cherry"</span>, <span class="st">"pineapple"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">ex_vec</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/Anchors.html">exactly</a></span><span class="op">(</span><span class="st">"apple"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ &lt;apple&gt;</code></pre>
</div>
<div id="capture-groups-1" class="section level2" number="30.6">
<h2>
<span class="header-section-number">30.6</span> Capture Groups<a class="anchor" aria-label="anchor" href="#capture-groups-1"><i class="fas fa-link"></i></a>
</h2>
<p>We have seen that a capture group is a way to group a part of a regular expression and capture it as a separate substring. This is useful when we want to extract or replace a specific part of a string. In R, capture groups are denoted by parentheses <code>()</code>. Anything inside the parentheses is captured and can be referenced later in the regular expression or in the replacement string. We also learnt that capturing groups are useful to refer back to it within a match with back reference: <code>\1</code> refers to the match contained in the first parenthesis, <code>\2</code> in the second parenthesis, and so on.</p>
<p>In rebus, there are two functions <code>capture(x)</code> and <code>group(x)</code> for capturing regex. Former is good with match functions while latter is mostly used with alternations.</p>
<p>Example-13:</p>
<div class="sourceCode" id="cb1869"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## capture(x)</span></span>
<span><span class="va">my_fruits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'apple'</span>, <span class="st">'banana'</span>, <span class="st">'coconut'</span>, <span class="st">'berry'</span>, <span class="st">'cucumber'</span>, <span class="st">'date'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_remove.html">str_remove_all</a></span><span class="op">(</span><span class="va">my_fruits</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/capture.html">capture</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/char_class.html">char_class</a></span><span class="op">(</span><span class="st">"aeiou"</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] "ppl"   "bnn"   "ccnt"  "brry"  "ccmbr" "dt"</code></pre>
<div class="sourceCode" id="cb1871"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">## group()</span></span>
<span><span class="va">my_toppings</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/capture.html">group</a></span><span class="op">(</span><span class="st">"olive"</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/or.html">%|%</a></span> <span class="st">"mushroom"</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/or.html">%|%</a></span> <span class="st">"tomato"</span><span class="op">)</span></span>
<span><span class="va">pizza</span> <span class="op">&lt;-</span> <span class="st">"We have olive, mushroom, chicken and capsicum pizza in our menu."</span></span>
<span><span class="co"># Extract my favourite topping from available pizza menu.</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_extract.html">str_extract_all</a></span><span class="op">(</span><span class="va">pizza</span>, pattern <span class="op">=</span> <span class="va">my_toppings</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [[1]]
## [1] "olive"    "mushroom"</code></pre>
<p>Backreferences for replacement operations, are denoted by constants <code>REF#</code> where <code>#</code> is actually a digit from 1 to 9.</p>
<p>Example-14:</p>
<div class="sourceCode" id="cb1873"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_fruits</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'apple'</span>, <span class="st">'banana'</span>, <span class="st">'coconut'</span>, <span class="st">'berry'</span>, <span class="st">'cucumber'</span>, <span class="st">'date'</span><span class="op">)</span></span>
<span><span class="co"># search for repeated alphabet</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">my_fruits</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/capture.html">capture</a></span><span class="op">(</span><span class="va">ANY_CHAR</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="va">REF1</span> , match <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ a&lt;pp&gt;le
## [2] │ banana
## [3] │ coconut
## [4] │ be&lt;rr&gt;y
## [5] │ cucumber
## [6] │ date</code></pre>
<p>Similar to previous chapter, we can use capturing group to replace the pattern with something else.</p>
<p>Example-15:</p>
<div class="sourceCode" id="cb1875"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We have names in last_name, first_name format</span></span>
<span><span class="va">names</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Hanks, Tom'</span>, <span class="st">'Affleck, Ben'</span>, <span class="st">'Damon, Matt'</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">names</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ Hanks, Tom
## [2] │ Affleck, Ben
## [3] │ Damon, Matt</code></pre>
<div class="sourceCode" id="cb1877"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Pattern to capture first name and last name</span></span>
<span><span class="va">pat</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/capture.html">capture</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/WordBoundaries.html">whole_word</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/repeated.html">one_or_more</a></span><span class="op">(</span><span class="va">ALPHA</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="st">","</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/repeated.html">optional</a></span><span class="op">(</span><span class="va">SPACE</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/capture.html">capture</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/WordBoundaries.html">whole_word</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/repeated.html">one_or_more</a></span><span class="op">(</span><span class="va">ALPHA</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">repl</span> <span class="op">&lt;-</span> <span class="va">REF2</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="st">" "</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="va">REF1</span></span>
<span><span class="co"># Using this regex, we can convert these to first_name last_name format</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_replace.html">str_replace_all</a></span><span class="op">(</span><span class="va">names</span>, <span class="va">pat</span>, <span class="va">repl</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] "Tom Hanks"   "Ben Affleck" "Matt Damon"</code></pre>
</div>
<div id="lookarounds-1" class="section level2" number="30.7">
<h2>
<span class="header-section-number">30.7</span> Lookarounds<a class="anchor" aria-label="anchor" href="#lookarounds-1"><i class="fas fa-link"></i></a>
</h2>
<p>As we had learnt, <strong>lookaheads</strong> and <strong>lookbehinds</strong> are zero-width assertions in regex. They are used to match a pattern only if it is followed or preceded by another pattern, respectively. The pattern in the <code>lookahead</code> or <code>lookbehind</code> is not included in the match.</p>
<p>We have intuitively named functions to deal with all four lookarounds-</p>
<pre><code>lookahead(x)
negative_lookahead(x)
lookbehind(x)
negative_lookbehind(x)</code></pre>
<p>Example-16: Find character <code>q</code> not followed by <code>u</code></p>
<div class="sourceCode" id="cb1880"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">countries</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"mozambique"</span>, <span class="st">"qatar"</span>, <span class="st">"iraq"</span><span class="op">)</span></span>
<span><span class="co"># With lookahead</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">countries</span>, <span class="st">"q"</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/lookahead.html">negative_lookahead</a></span><span class="op">(</span><span class="st">"u"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [2] │ &lt;q&gt;atar
## [3] │ ira&lt;q&gt;</code></pre>
<div class="sourceCode" id="cb1882"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Without Lookahaed - Notice the difference</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">countries</span>, <span class="st">"q"</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/char_class.html">negated_char_class</a></span><span class="op">(</span><span class="st">"u"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [2] │ &lt;qa&gt;tar</code></pre>
<p>Example-17:</p>
<div class="sourceCode" id="cb1884"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Lookahead</span></span>
<span><span class="va">string</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"hello world"</span>, <span class="st">"hello there world"</span>, <span class="st">"hello"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">string</span>, <span class="st">"hello"</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/lookahead.html">lookahead</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/repeated.html">optional</a></span><span class="op">(</span><span class="va">SPACE</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="st">"world"</span><span class="op">)</span>, match <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ &lt;hello&gt; world
## [2] │ hello there world
## [3] │ hello</code></pre>
<div class="sourceCode" id="cb1886"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Note that "world" is not included in the match</span></span>
<span></span>
<span><span class="co"># Lookbehind</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">string</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/lookahead.html">lookbehind</a></span><span class="op">(</span><span class="st">"hello"</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/repeated.html">optional</a></span><span class="op">(</span><span class="va">SPACE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="st">"world"</span>, match <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ hello &lt;world&gt;
## [2] │ hello there world
## [3] │ hello</code></pre>
<div class="sourceCode" id="cb1888"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Negative lookahead</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">string</span>, <span class="st">"hello"</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/lookahead.html">negative_lookahead</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/repeated.html">optional</a></span><span class="op">(</span><span class="va">SPACE</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="st">"world"</span><span class="op">)</span>, match <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ hello world
## [2] │ &lt;hello&gt; there world
## [3] │ &lt;hello&gt;</code></pre>
<div class="sourceCode" id="cb1890"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Negative lookbehind</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">string</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/lookahead.html">negative_lookbehind</a></span><span class="op">(</span><span class="st">"hello"</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/repeated.html">optional</a></span><span class="op">(</span><span class="va">SPACE</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="st">"world"</span>, match <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ hello world
## [2] │ hello there &lt;world&gt;
## [3] │ hello</code></pre>
<p>More examples.</p>
<p>Example-18:</p>
<div class="sourceCode" id="cb1892"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">string</span> <span class="op">&lt;-</span> <span class="st">"I have 10 apples, 6 pineapples and 5 bananas"</span></span>
<span></span>
<span><span class="co"># lookahead to match count of apples</span></span>
<span><span class="va">pattern1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/repeated.html">one_or_more</a></span><span class="op">(</span><span class="va">DIGIT</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/lookahead.html">lookahead</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/repeated.html">optional</a></span><span class="op">(</span><span class="va">SPACE</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/pkg/rebus.base/man/Concatenation.html">%R%</a></span> <span class="st">"apple"</span><span class="op">)</span> </span>
<span><span class="co"># How many apples?</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span>string <span class="op">=</span> <span class="va">string</span>, pattern <span class="op">=</span> <span class="va">pattern1</span>, match <span class="op">=</span> <span class="cn">NA</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ I have &lt;10&gt; apples, 6 pineapples and 5 bananas</code></pre>
</div>
<div id="some-useful-regex-functions" class="section level2" number="30.8">
<h2>
<span class="header-section-number">30.8</span> Some useful regex functions<a class="anchor" aria-label="anchor" href="#some-useful-regex-functions"><i class="fas fa-link"></i></a>
</h2>
<div id="matching-valid-dates" class="section level3" number="30.8.1">
<h3>
<span class="header-section-number">30.8.1</span> Matching valid dates<a class="anchor" aria-label="anchor" href="#matching-valid-dates"><i class="fas fa-link"></i></a>
</h3>
<div class="sourceCode" id="cb1894"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Individual date-time components</span></span>
<span><span class="va">DTSEP</span>             <span class="co"># optional selected punctuation or space</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [-/.:,\ ]?</code></pre>
<div class="sourceCode" id="cb1896"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">CENTURY</span>           <span class="co"># exactly two digits</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [0-9]{2}</code></pre>
<div class="sourceCode" id="cb1898"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">YEAR</span>              <span class="co"># one to four digits</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [0-9]{1,4}</code></pre>
<div class="sourceCode" id="cb1900"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">YEAR2</span>             <span class="co"># exactly two digits</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [0-9]{2}</code></pre>
<div class="sourceCode" id="cb1902"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">YEAR4</span>             <span class="co"># exactly four digits</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [0-9]{4}</code></pre>
<div class="sourceCode" id="cb1904"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MONTH</span>             <span class="co"># number from 1 to 12, leading zero</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:0[1-9]|1[0-2])</code></pre>
<div class="sourceCode" id="cb1906"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">WEEK_OF_YEAR</span>      <span class="co"># number from 0 to 53, leading zero</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:[0-4][0-9]|5[0-3])</code></pre>
<div class="sourceCode" id="cb1908"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DAY</span>               <span class="co"># number from 1 to 31, leading zero</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:0[1-9]|[12][0-9]|3[01])</code></pre>
<div class="sourceCode" id="cb1910"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DAY_SINGLE</span>        <span class="co"># leading space</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?: [1-9]|[12][0-9]|3[01])</code></pre>
<div class="sourceCode" id="cb1912"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HOUR24</span>            <span class="co"># 24 hour clock, leading zero</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:[01][0-9]|2[0-3])</code></pre>
<div class="sourceCode" id="cb1914"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HOUR12</span>            <span class="co"># 12 hour clock, leading zero</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:0[1-9]|1[0-2])</code></pre>
<div class="sourceCode" id="cb1916"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HOUR24_SINGLE</span>     <span class="co"># 24 hour clock, leading space</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:[ 1][0-9]|2[0-3])</code></pre>
<div class="sourceCode" id="cb1918"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HOUR12_SINGLE</span>     <span class="co"># 12 hour clock, leading space</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?: [1-9]|1[0-2])</code></pre>
<div class="sourceCode" id="cb1920"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MINUTE</span>            <span class="co"># number from 0 to 59, leading zero</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [0-5][0-9]</code></pre>
<div class="sourceCode" id="cb1922"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">SECOND</span>            <span class="co"># number from 0 to 61 (leap seconds), leading zero</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:[0-5][0-9]|6[01])</code></pre>
<div class="sourceCode" id="cb1924"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">FRACTIONAL_SECOND</span> <span class="co"># a second optional decimal point and up to 6 digits</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:[0-5][0-9]|6[01])(?:[.,][0-9]{1,6})?</code></pre>
<div class="sourceCode" id="cb1926"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">AM_PM</span>             <span class="co"># AM or PM, any case</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:am|AM|pm|PM)</code></pre>
<div class="sourceCode" id="cb1928"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">TIMEZONE_OFFSET</span>   <span class="co"># optional plus or minus, then four digits</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [-+]?[0-9]{4}</code></pre>
<div class="sourceCode" id="cb1930"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">TIMEZONE</span>          <span class="co"># Any value returned by OlsonNames()</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:Africa/Abidjan|Africa/Accra|Africa/Addis_Ababa|Africa/Algiers|Africa/Asmara|Africa/Asmera|Africa/Bamako|Africa/Bangui|Africa/Banjul|Africa/Bissau|Africa/Blantyre|Africa/Brazzaville|Africa/Bujumbura|Africa/Cairo|Africa/Casablanca|Africa/Ceuta|Africa/Conakry|Africa/Dakar|Africa/Dar_es_Salaam|Africa/Djibouti|Africa/Douala|Africa/El_Aaiun|Africa/Freetown|Africa/Gaborone|Africa/Harare|Africa/Johannesburg|Africa/Juba|Africa/Kampala|Africa/Khartoum|Africa/Kigali|Africa/Kinshasa|Africa/Lagos|Africa/Libreville|Africa/Lome|Africa/Luanda|Africa/Lubumbashi|Africa/Lusaka|Africa/Malabo|Africa/Maputo|Africa/Maseru|Africa/Mbabane|Africa/Mogadishu|Africa/Monrovia|Africa/Nairobi|Africa/Ndjamena|Africa/Niamey|Africa/Nouakchott|Africa/Ouagadougou|Africa/Porto-Novo|Africa/Sao_Tome|Africa/Timbuktu|Africa/Tripoli|Africa/Tunis|Africa/Windhoek|America/Adak|America/Anchorage|America/Anguilla|America/Antigua|America/Araguaina|America/Argentina/Buenos_Aires|America/Argentina/Catamarca|America/Argentina/ComodRivadavia|America/Argentina/Cordoba|America/Argentina/Jujuy|America/Argentina/La_Rioja|America/Argentina/Mendoza|America/Argentina/Rio_Gallegos|America/Argentina/Salta|America/Argentina/San_Juan|America/Argentina/San_Luis|America/Argentina/Tucuman|America/Argentina/Ushuaia|America/Aruba|America/Asuncion|America/Atikokan|America/Atka|America/Bahia|America/Bahia_Banderas|America/Barbados|America/Belem|America/Belize|America/Blanc-Sablon|America/Boa_Vista|America/Bogota|America/Boise|America/Buenos_Aires|America/Cambridge_Bay|America/Campo_Grande|America/Cancun|America/Caracas|America/Catamarca|America/Cayenne|America/Cayman|America/Chicago|America/Chihuahua|America/Ciudad_Juarez|America/Coral_Harbour|America/Cordoba|America/Costa_Rica|America/Creston|America/Cuiaba|America/Curacao|America/Danmarkshavn|America/Dawson|America/Dawson_Creek|America/Denver|America/Detroit|America/Dominica|America/Edmonton|America/Eirunepe|America/El_Salvador|America/Ensenada|America/Fort_Nelson|America/Fort_Wayne|America/Fortaleza|America/Glace_Bay|America/Godthab|America/Goose_Bay|America/Grand_Turk|America/Grenada|America/Guadeloupe|America/Guatemala|America/Guayaquil|America/Guyana|America/Halifax|America/Havana|America/Hermosillo|America/Indiana/Indianapolis|America/Indiana/Knox|America/Indiana/Marengo|America/Indiana/Petersburg|America/Indiana/Tell_City|America/Indiana/Vevay|America/Indiana/Vincennes|America/Indiana/Winamac|America/Indianapolis|America/Inuvik|America/Iqaluit|America/Jamaica|America/Jujuy|America/Juneau|America/Kentucky/Louisville|America/Kentucky/Monticello|America/Knox_IN|America/Kralendijk|America/La_Paz|America/Lima|America/Los_Angeles|America/Louisville|America/Lower_Princes|America/Maceio|America/Managua|America/Manaus|America/Marigot|America/Martinique|America/Matamoros|America/Mazatlan|America/Mendoza|America/Menominee|America/Merida|America/Metlakatla|America/Mexico_City|America/Miquelon|America/Moncton|America/Monterrey|America/Montevideo|America/Montreal|America/Montserrat|America/Nassau|America/New_York|America/Nipigon|America/Nome|America/Noronha|America/North_Dakota/Beulah|America/North_Dakota/Center|America/North_Dakota/New_Salem|America/Nuuk|America/Ojinaga|America/Panama|America/Pangnirtung|America/Paramaribo|America/Phoenix|America/Port-au-Prince|America/Port_of_Spain|America/Porto_Acre|America/Porto_Velho|America/Puerto_Rico|America/Punta_Arenas|America/Rainy_River|America/Rankin_Inlet|America/Recife|America/Regina|America/Resolute|America/Rio_Branco|America/Rosario|America/Santa_Isabel|America/Santarem|America/Santiago|America/Santo_Domingo|America/Sao_Paulo|America/Scoresbysund|America/Shiprock|America/Sitka|America/St_Barthelemy|America/St_Johns|America/St_Kitts|America/St_Lucia|America/St_Thomas|America/St_Vincent|America/Swift_Current|America/Tegucigalpa|America/Thule|America/Thunder_Bay|America/Tijuana|America/Toronto|America/Tortola|America/Vancouver|America/Virgin|America/Whitehorse|America/Winnipeg|America/Yakutat|America/Yellowknife|Antarctica/Casey|Antarctica/Davis|Antarctica/DumontDUrville|Antarctica/Macquarie|Antarctica/Mawson|Antarctica/McMurdo|Antarctica/Palmer|Antarctica/Rothera|Antarctica/South_Pole|Antarctica/Syowa|Antarctica/Troll|Antarctica/Vostok|Arctic/Longyearbyen|Asia/Aden|Asia/Almaty|Asia/Amman|Asia/Anadyr|Asia/Aqtau|Asia/Aqtobe|Asia/Ashgabat|Asia/Ashkhabad|Asia/Atyrau|Asia/Baghdad|Asia/Bahrain|Asia/Baku|Asia/Bangkok|Asia/Barnaul|Asia/Beirut|Asia/Bishkek|Asia/Brunei|Asia/Calcutta|Asia/Chita|Asia/Choibalsan|Asia/Chongqing|Asia/Chungking|Asia/Colombo|Asia/Dacca|Asia/Damascus|Asia/Dhaka|Asia/Dili|Asia/Dubai|Asia/Dushanbe|Asia/Famagusta|Asia/Gaza|Asia/Harbin|Asia/Hebron|Asia/Ho_Chi_Minh|Asia/Hong_Kong|Asia/Hovd|Asia/Irkutsk|Asia/Istanbul|Asia/Jakarta|Asia/Jayapura|Asia/Jerusalem|Asia/Kabul|Asia/Kamchatka|Asia/Karachi|Asia/Kashgar|Asia/Kathmandu|Asia/Katmandu|Asia/Khandyga|Asia/Kolkata|Asia/Krasnoyarsk|Asia/Kuala_Lumpur|Asia/Kuching|Asia/Kuwait|Asia/Macao|Asia/Macau|Asia/Magadan|Asia/Makassar|Asia/Manila|Asia/Muscat|Asia/Nicosia|Asia/Novokuznetsk|Asia/Novosibirsk|Asia/Omsk|Asia/Oral|Asia/Phnom_Penh|Asia/Pontianak|Asia/Pyongyang|Asia/Qatar|Asia/Qostanay|Asia/Qyzylorda|Asia/Rangoon|Asia/Riyadh|Asia/Saigon|Asia/Sakhalin|Asia/Samarkand|Asia/Seoul|Asia/Shanghai|Asia/Singapore|Asia/Srednekolymsk|Asia/Taipei|Asia/Tashkent|Asia/Tbilisi|Asia/Tehran|Asia/Tel_Aviv|Asia/Thimbu|Asia/Thimphu|Asia/Tokyo|Asia/Tomsk|Asia/Ujung_Pandang|Asia/Ulaanbaatar|Asia/Ulan_Bator|Asia/Urumqi|Asia/Ust-Nera|Asia/Vientiane|Asia/Vladivostok|Asia/Yakutsk|Asia/Yangon|Asia/Yekaterinburg|Asia/Yerevan|Atlantic/Azores|Atlantic/Bermuda|Atlantic/Canary|Atlantic/Cape_Verde|Atlantic/Faeroe|Atlantic/Faroe|Atlantic/Jan_Mayen|Atlantic/Madeira|Atlantic/Reykjavik|Atlantic/South_Georgia|Atlantic/St_Helena|Atlantic/Stanley|Australia/ACT|Australia/Adelaide|Australia/Brisbane|Australia/Broken_Hill|Australia/Canberra|Australia/Currie|Australia/Darwin|Australia/Eucla|Australia/Hobart|Australia/LHI|Australia/Lindeman|Australia/Lord_Howe|Australia/Melbourne|Australia/NSW|Australia/North|Australia/Perth|Australia/Queensland|Australia/South|Australia/Sydney|Australia/Tasmania|Australia/Victoria|Australia/West|Australia/Yancowinna|Brazil/Acre|Brazil/DeNoronha|Brazil/East|Brazil/West|CET|CST6CDT|Canada/Atlantic|Canada/Central|Canada/Eastern|Canada/Mountain|Canada/Newfoundland|Canada/Pacific|Canada/Saskatchewan|Canada/Yukon|Chile/Continental|Chile/EasterIsland|Cuba|EET|EST|EST5EDT|Egypt|Eire|Etc/GMT|Etc/GMT\+0|Etc/GMT\+1|Etc/GMT\+10|Etc/GMT\+11|Etc/GMT\+12|Etc/GMT\+2|Etc/GMT\+3|Etc/GMT\+4|Etc/GMT\+5|Etc/GMT\+6|Etc/GMT\+7|Etc/GMT\+8|Etc/GMT\+9|Etc/GMT-0|Etc/GMT-1|Etc/GMT-10|Etc/GMT-11|Etc/GMT-12|Etc/GMT-13|Etc/GMT-14|Etc/GMT-2|Etc/GMT-3|Etc/GMT-4|Etc/GMT-5|Etc/GMT-6|Etc/GMT-7|Etc/GMT-8|Etc/GMT-9|Etc/GMT0|Etc/Greenwich|Etc/UCT|Etc/UTC|Etc/Universal|Etc/Zulu|Europe/Amsterdam|Europe/Andorra|Europe/Astrakhan|Europe/Athens|Europe/Belfast|Europe/Belgrade|Europe/Berlin|Europe/Bratislava|Europe/Brussels|Europe/Bucharest|Europe/Budapest|Europe/Busingen|Europe/Chisinau|Europe/Copenhagen|Europe/Dublin|Europe/Gibraltar|Europe/Guernsey|Europe/Helsinki|Europe/Isle_of_Man|Europe/Istanbul|Europe/Jersey|Europe/Kaliningrad|Europe/Kiev|Europe/Kirov|Europe/Kyiv|Europe/Lisbon|Europe/Ljubljana|Europe/London|Europe/Luxembourg|Europe/Madrid|Europe/Malta|Europe/Mariehamn|Europe/Minsk|Europe/Monaco|Europe/Moscow|Europe/Nicosia|Europe/Oslo|Europe/Paris|Europe/Podgorica|Europe/Prague|Europe/Riga|Europe/Rome|Europe/Samara|Europe/San_Marino|Europe/Sarajevo|Europe/Saratov|Europe/Simferopol|Europe/Skopje|Europe/Sofia|Europe/Stockholm|Europe/Tallinn|Europe/Tirane|Europe/Tiraspol|Europe/Ulyanovsk|Europe/Uzhgorod|Europe/Vaduz|Europe/Vatican|Europe/Vienna|Europe/Vilnius|Europe/Volgograd|Europe/Warsaw|Europe/Zagreb|Europe/Zaporozhye|Europe/Zurich|GB|GB-Eire|GMT|GMT\+0|GMT-0|GMT0|Greenwich|HST|Hongkong|Iceland|Indian/Antananarivo|Indian/Chagos|Indian/Christmas|Indian/Cocos|Indian/Comoro|Indian/Kerguelen|Indian/Mahe|Indian/Maldives|Indian/Mauritius|Indian/Mayotte|Indian/Reunion|Iran|Israel|Jamaica|Japan|Kwajalein|Libya|MET|MST|MST7MDT|Mexico/BajaNorte|Mexico/BajaSur|Mexico/General|NZ|NZ-CHAT|Navajo|PRC|PST8PDT|Pacific/Apia|Pacific/Auckland|Pacific/Bougainville|Pacific/Chatham|Pacific/Chuuk|Pacific/Easter|Pacific/Efate|Pacific/Enderbury|Pacific/Fakaofo|Pacific/Fiji|Pacific/Funafuti|Pacific/Galapagos|Pacific/Gambier|Pacific/Guadalcanal|Pacific/Guam|Pacific/Honolulu|Pacific/Johnston|Pacific/Kanton|Pacific/Kiritimati|Pacific/Kosrae|Pacific/Kwajalein|Pacific/Majuro|Pacific/Marquesas|Pacific/Midway|Pacific/Nauru|Pacific/Niue|Pacific/Norfolk|Pacific/Noumea|Pacific/Pago_Pago|Pacific/Palau|Pacific/Pitcairn|Pacific/Pohnpei|Pacific/Ponape|Pacific/Port_Moresby|Pacific/Rarotonga|Pacific/Saipan|Pacific/Samoa|Pacific/Tahiti|Pacific/Tarawa|Pacific/Tongatapu|Pacific/Truk|Pacific/Wake|Pacific/Wallis|Pacific/Yap|Poland|Portugal|ROC|ROK|Singapore|Turkey|UCT|US/Alaska|US/Aleutian|US/Arizona|US/Central|US/East-Indiana|US/Eastern|US/Hawaii|US/Indiana-Starke|US/Michigan|US/Mountain|US/Pacific|US/Samoa|UTC|Universal|W-SU|WET|Zulu)</code></pre>
<div class="sourceCode" id="cb1932"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># ISO 8601 formats</span></span>
<span><span class="va">ISO_DATE</span>          <span class="co"># %Y-%m-%d</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])</code></pre>
<div class="sourceCode" id="cb1934"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ISO_TIME</span>          <span class="co"># %H:%M:%S</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:[01][0-9]|2[0-3]):[0-5][0-9]:(?:[0-5][0-9]|6[01])</code></pre>
<div class="sourceCode" id="cb1936"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">ISO_DATETIME</span>      <span class="co"># ISO_DATE followed by ISO_TIME, separated by space or "T".</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [0-9]{4}-(?:0[1-9]|1[0-2])-(?:0[1-9]|[12][0-9]|3[01])(?:[ T](?:[01][0-9]|2[0-3]):[0-5][0-9]:(?:[0-5][0-9]|6[01]))?</code></pre>
<div class="sourceCode" id="cb1938"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Compound forms, separated by DTSEP</span></span>
<span><span class="va">YMD</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [0-9]{1,4}[-/.:,\ ]?(?:0[1-9]|1[0-2])[-/.:,\ ]?(?:0[1-9]|[12][0-9]|3[01])</code></pre>
<div class="sourceCode" id="cb1940"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">YDM</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [0-9]{1,4}[-/.:,\ ]?(?:0[1-9]|[12][0-9]|3[01])[-/.:,\ ]?(?:0[1-9]|1[0-2])</code></pre>
<div class="sourceCode" id="cb1942"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MYD</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:0[1-9]|1[0-2])[-/.:,\ ]?[0-9]{1,4}[-/.:,\ ]?(?:0[1-9]|[12][0-9]|3[01])</code></pre>
<div class="sourceCode" id="cb1944"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MDY</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:0[1-9]|1[0-2])[-/.:,\ ]?(?:0[1-9]|[12][0-9]|3[01])[-/.:,\ ]?[0-9]{1,4}</code></pre>
<div class="sourceCode" id="cb1946"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DYM</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:0[1-9]|[12][0-9]|3[01])[-/.:,\ ]?[0-9]{1,4}[-/.:,\ ]?(?:0[1-9]|1[0-2])</code></pre>
<div class="sourceCode" id="cb1948"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">DMY</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:0[1-9]|[12][0-9]|3[01])[-/.:,\ ]?(?:0[1-9]|1[0-2])[-/.:,\ ]?[0-9]{1,4}</code></pre>
<div class="sourceCode" id="cb1950"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HMS</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:[01][0-9]|2[0-3])[-/.:,\ ]?[0-5][0-9][-/.:,\ ]?(?:[0-5][0-9]|6[01])</code></pre>
<div class="sourceCode" id="cb1952"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">HM</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; (?:[01][0-9]|2[0-3])[-/.:,\ ]?[0-5][0-9]</code></pre>
<div class="sourceCode" id="cb1954"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">MS</span></span></code></pre></div>
<pre><code>## &lt;regex&gt; [0-5][0-9][-/.:,\ ]?(?:[0-5][0-9]|6[01])</code></pre>
<p>Example-19:</p>
<div class="sourceCode" id="cb1956"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># We have some dates - both valid and invalid</span></span>
<span><span class="va">some_dates</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"2000-13-01"</span>, <span class="st">"2025-08-09"</span>,<span class="st">"2000-01-32"</span>, <span class="st">"2000-00-01"</span>, <span class="st">"2000-01-00"</span>, <span class="st">"2020-05-20"</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">some_dates</span>, <span class="va">ISO_DATE</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [2] │ &lt;2025-08-09&gt;
## [6] │ &lt;2020-05-20&gt;</code></pre>
<div class="sourceCode" id="cb1958"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Similarly some time formats</span></span>
<span><span class="va">some_times</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"24:00:00"</span>, <span class="st">"23:60:59"</span>, <span class="st">"23:59:62"</span>, <span class="st">"23 59 59"</span>, <span class="st">"23:55:55"</span>, <span class="st">"00:00:00"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">some_times</span>, <span class="va">ISO_TIME</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [5] │ &lt;23:55:55&gt;
## [6] │ &lt;00:00:00&gt;</code></pre>
</div>
</div>
<div id="roman-numerals" class="section level2" number="30.9">
<h2>
<span class="header-section-number">30.9</span> Roman numerals<a class="anchor" aria-label="anchor" href="#roman-numerals"><i class="fas fa-link"></i></a>
</h2>
<p>To match Roman numerals we have a constant <code>ROMAN</code> as well as a function <code>roman(lo, hi)</code> in rebus.</p>
<p>Example-20:</p>
<div class="sourceCode" id="cb1960"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Some Roman numerals, both valid and invalid</span></span>
<span><span class="va">some_numbers</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"MMMDCCCXLVIII"</span>, <span class="st">"MMMCMDCCCXLVIIV"</span>, <span class="st">"MCD"</span>, <span class="st">"XIL"</span>, <span class="st">"LIX"</span>, <span class="st">"XL"</span><span class="op">)</span></span>
<span><span class="co"># Find valid roam numerals</span></span>
<span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_view.html">str_view</a></span><span class="op">(</span><span class="va">some_numbers</span>, <span class="fu"><a href="https://rdrr.io/pkg/rebus.base/man/Anchors.html">exactly</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/pkg/rebus.numbers/man/roman.html">roman</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] │ &lt;MMMDCCCXLVIII&gt;
## [3] │ &lt;MCD&gt;
## [5] │ &lt;LIX&gt;
## [6] │ &lt;XL&gt;</code></pre>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="regex---a-quick-introduction.html"><span class="header-section-number">29</span> Regex - A quick introduction</a></div>
<div class="next"><a href="factors.html"><span class="header-section-number">31</span> Factors</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#regex-in-human-readble-format-using-rebus"><span class="header-section-number">30</span> Regex in human readble format using rebus</a></li>
<li><a class="nav-link" href="#operators-for-concatenation-and-alternation"><span class="header-section-number">30.1</span> Operators for concatenation and alternation</a></li>
<li><a class="nav-link" href="#literal-characters-specvial-characters-and-case-sensitivity"><span class="header-section-number">30.2</span> Literal Characters, specvial characters and case sensitivity</a></li>
<li>
<a class="nav-link" href="#metacharacters-1"><span class="header-section-number">30.3</span> Metacharacters</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#character-classes"><span class="header-section-number">30.3.1</span> Character classes</a></li>
<li><a class="nav-link" href="#built-in-character-classes"><span class="header-section-number">30.3.2</span> Built-in Character classes</a></li>
<li><a class="nav-link" href="#word-boundaries"><span class="header-section-number">30.3.3</span> Word Boundaries</a></li>
</ul>
</li>
<li><a class="nav-link" href="#quantifiers-1"><span class="header-section-number">30.4</span> Quantifiers</a></li>
<li><a class="nav-link" href="#anchors-1"><span class="header-section-number">30.5</span> Anchors</a></li>
<li><a class="nav-link" href="#capture-groups-1"><span class="header-section-number">30.6</span> Capture Groups</a></li>
<li><a class="nav-link" href="#lookarounds-1"><span class="header-section-number">30.7</span> Lookarounds</a></li>
<li>
<a class="nav-link" href="#some-useful-regex-functions"><span class="header-section-number">30.8</span> Some useful regex functions</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#matching-valid-dates"><span class="header-section-number">30.8.1</span> Matching valid dates</a></li></ul>
</li>
<li><a class="nav-link" href="#roman-numerals"><span class="header-section-number">30.9</span> Roman numerals</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R for Audit Analytics</strong>" was written by Anil Goyal. It was last built on 2024-12-13.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
