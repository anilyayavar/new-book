<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>A Colors in R | R for Audit Analytics</title>

    <meta name="author" content="Anil Goyal" />
  
   <meta name="description" content="This book is intended for auditors performing exploratory data analytics using R programming language, mainly Base R and Tidyverse." />
   <meta name="generator" content="placeholder" />
  <meta property="og:title" content="A Colors in R | R for Audit Analytics" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://anilyayavar.github.io/new-book/" />
  <meta property="og:image" content="https://anilyayavar.github.io/new-book/images/cover.jpg" />
  <meta property="og:description" content="This book is intended for auditors performing exploratory data analytics using R programming language, mainly Base R and Tidyverse." />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="A Colors in R | R for Audit Analytics" />
  
  <meta name="twitter:description" content="This book is intended for auditors performing exploratory data analytics using R programming language, mainly Base R and Tidyverse." />
  <meta name="twitter:image" content="https://anilyayavar.github.io/new-book/images/cover.jpg" />
  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet" />
    <script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script>
    <script src="libs/bs3compat-0.8.0/transition.js"></script>
    <script src="libs/bs3compat-0.8.0/tabs.js"></script>
    <script src="libs/bs3compat-0.8.0/bs3compat.js"></script>
    <link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet" />
    <script src="libs/bs4_book-1.0.0/bs4_book.js"></script>
    <script src="libs/kePrint-0.0.1/kePrint.js"></script>
    <link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script>

  <!-- CSS -->
  <style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
    <style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
          margin-bottom: 0em;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
      <link rel="stylesheet" href="style.css" />
  
</head>

<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book">
    <a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R for Audit Analytics</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
      </form>

      <nav aria-label="Table of contents">
        <h2>Table of contents</h2>
        <div id="book-toc"></div>

        <div class="book-extra">
          <p><a id="book-repo" href="#">View book source <i class="fab fa-github"></i></a></li></p>
        </div>
      </nav>
    </div>
  </header>

  <main class="col-sm-12 col-md-9 col-lg-7" id="content">
<div id="COLORR" class="section level1" number="45">
<h1><span class="header-section-number">A</span> Colors in R</h1>
<p>What is a visualisation without colours? Colours are crucial in conveying meaning effectively, with some colours having specific psychological associations. For instance, red can represent emotions such as love and anger, but it is also often used to indicate declines or losses in data visualizations. In the context of data visualization, color sets the mood and emphasizes the message of the display. It creates a particular atmosphere and can turn a simple visualization into a compelling data narrative.</p>
<p>While tools like ggplot2 are excellent for crafting impactful data visualizations, the default color schemes may sometimes require customization. Carefully selected colors can make it easier and quicker for users to interpret the data and grasp the intended message.</p>
<p>The strategic use of colors can highlight critical data points, differentiate categories, and depict gradients in a way that text alone cannot achieve. Effective color choices make complex data more accessible and engaging, fostering better understanding and retention of information. See the following example (Figure <a href="COLORR.html#fig:colorex">A.1</a>), wherein mean highway mileage for each class of cars in <code>mpg</code> data-set has been shown. Color has been used to distinguish classes those having mileage greater than average mileage.</p>
<div class="sourceCode" id="cb2160"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2160-1"><a href="COLORR.html#cb2160-1" tabindex="-1"></a><span class="fu">library</span>(tidyverse, <span class="at">warn.conflicts =</span> <span class="cn">FALSE</span>, <span class="at">quietly =</span> <span class="cn">TRUE</span>)</span>
<span id="cb2160-2"><a href="COLORR.html#cb2160-2" tabindex="-1"></a>mpg <span class="sc">%&gt;%</span> </span>
<span id="cb2160-3"><a href="COLORR.html#cb2160-3" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">hwy =</span> <span class="fu">mean</span>(hwy), <span class="at">.by =</span> class) <span class="sc">%&gt;%</span> </span>
<span id="cb2160-4"><a href="COLORR.html#cb2160-4" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">class =</span> <span class="fu">fct_reorder</span>(class, hwy),</span>
<span id="cb2160-5"><a href="COLORR.html#cb2160-5" tabindex="-1"></a>         <span class="at">mean =</span> <span class="fu">mean</span>(hwy),</span>
<span id="cb2160-6"><a href="COLORR.html#cb2160-6" tabindex="-1"></a>         <span class="at">performance =</span> <span class="fu">ifelse</span>(hwy <span class="sc">&gt;=</span> mean, <span class="st">&quot;Above&quot;</span>, <span class="st">&quot;Below&quot;</span>)) <span class="sc">%&gt;%</span> </span>
<span id="cb2160-7"><a href="COLORR.html#cb2160-7" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> class, <span class="at">x =</span> hwy, <span class="at">fill =</span> performance)) <span class="sc">+</span></span>
<span id="cb2160-8"><a href="COLORR.html#cb2160-8" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb2160-9"><a href="COLORR.html#cb2160-9" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> mean), <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb2160-10"><a href="COLORR.html#cb2160-10" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb2160-11"><a href="COLORR.html#cb2160-11" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Class wise Mean Highway mileage of cars&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:colorex"></span>
<img src="DauR_files/figure-html/colorex-1.png" alt="Default colors in GGPLOT2" width="672" />
<p class="caption">
Figure A.1: Default colors in GGPLOT2
</p>
</div>
<p>We may notice that default color choice by R’s GGPLOT2 is not effective as it has picked negative shades for classes having good mileage.</p>
<p>In addition, it is crucial to consider color-blind friendly palettes to ensure that visualizations are accessible to all users. Approximately 8% of men and 0.5% of women globally experience some form of color blindness. By using color schemes that are distinguishable to those with color vision deficiencies, such as those provided by tools like <a href="https://en.wikipedia.org/wiki/ColorBrewer">ColorBrewer</a>, designers can create inclusive visualizations. This not only broadens the audience but also demonstrates a commitment to accessibility and inclusivity. Thoughtful color selection, including the use of color-blind friendly palettes, can significantly enhance the effectiveness and reach of data visualizations.</p>
<p>Readers who wish to learn more about usage of appropriate colors in data visualizations may <a href="https://blog.datawrapper.de/10-ways-to-use-fewer-colors-in-your-data-visualizations/">refer this blog post</a>. So let us learn how to tweak colors in data visualizations to make them convey the message clear and effective.</p>
<div id="choosing-colors-by-own-choice" class="section level2" number="45.1">
<h2><span class="header-section-number">A.1</span> Choosing colors by own choice</h2>
<p>We need different colors for making visualizations in R. In base R plots, colors are usually specified using “col” whereas in ggplot2 these are manipulated using ‘fill’ or ‘color’ aesthetics. There are 600+ built in colors in R. We can have a look on these using <code>colors()</code> function.</p>
<div class="sourceCode" id="cb2161"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2161-1"><a href="COLORR.html#cb2161-1" tabindex="-1"></a><span class="co"># See names of random 20 colors</span></span>
<span id="cb2161-2"><a href="COLORR.html#cb2161-2" tabindex="-1"></a><span class="fu">set.seed</span>(<span class="dv">123</span>)</span>
<span id="cb2161-3"><a href="COLORR.html#cb2161-3" tabindex="-1"></a><span class="fu">sample</span>(<span class="fu">colors</span>(), <span class="dv">20</span>)</span></code></pre></div>
<pre><code>##  [1] &quot;lightgoldenrodyellow&quot; &quot;mediumorchid1&quot;        &quot;gray26&quot;              
##  [4] &quot;palevioletred2&quot;       &quot;gray42&quot;               &quot;deeppink2&quot;           
##  [7] &quot;grey38&quot;               &quot;gray76&quot;               &quot;gray91&quot;              
## [10] &quot;azure1&quot;               &quot;indianred2&quot;           &quot;slategray3&quot;          
## [13] &quot;slategray4&quot;           &quot;darkorange1&quot;          &quot;grey87&quot;              
## [16] &quot;grey94&quot;               &quot;blue&quot;                 &quot;paleturquoise&quot;       
## [19] &quot;lightsalmon2&quot;         &quot;gray58&quot;</code></pre>
<p>As we can see that <code>colors()</code> function produces color names, we can use color names directly while plotting.</p>
<div class="sourceCode" id="cb2163"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2163-1"><a href="COLORR.html#cb2163-1" tabindex="-1"></a><span class="co"># In base R</span></span>
<span id="cb2163-2"><a href="COLORR.html#cb2163-2" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">c</span>(<span class="dv">5</span>,<span class="dv">4</span>,<span class="dv">3</span>,<span class="dv">2</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;lightgoldenrodyellow&quot;</span>, <span class="st">&quot;mediumorchid1&quot;</span>, <span class="st">&quot;indianred2&quot;</span>, <span class="st">&quot;paleturquoise&quot;</span>))</span></code></pre></div>
<p><img src="DauR_files/figure-html/unnamed-chunk-593-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>Or alternatively, we can use HEX color code values for these colors.</p>
<div class="sourceCode" id="cb2164"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2164-1"><a href="COLORR.html#cb2164-1" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>, <span class="dv">5</span>), <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;#fedcba&quot;</span>, <span class="st">&quot;#abcdef&quot;</span>, <span class="st">&quot;#123456&quot;</span>, <span class="st">&quot;#654321&quot;</span>))</span></code></pre></div>
<p><img src="DauR_files/figure-html/unnamed-chunk-594-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>In the following plot, readers may see random 100 colors printed from the <code>colors()</code> in R.</p>
<p><img src="DauR_files/figure-html/unnamed-chunk-595-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="colors-by-hex-values" class="section level2" number="45.2">
<h2><span class="header-section-number">A.2</span> Colors by hex values</h2>
<p>Colors in R can also be directly selected by entering the hex value of the color preceded by a <code>#</code> hash character. These hex values generally contain six hexadecimal digits, out of which-</p>
<ul>
<li>first two represent hex value of <code>red</code></li>
<li>next two represent <code>green</code></li>
<li>and last two represent <code>blue</code></li>
</ul>
<p>thus forming rgb/RGB value of a color. Readers may already know that there are sixteen hexadecimal digits, <code>0</code>, <code>1</code>, <code>2</code>, <code>3</code>, <code>4</code>, <code>5</code>, <code>6</code>, <code>7</code>, <code>8</code>, <code>9</code>, <code>a</code>, <code>b</code>, <code>c</code>, <code>d</code>, <code>e</code> and <code>f</code>. So two hexadecimal digits actually represent <span class="math inline">\(16{\times}16 = 256\)</span> values in base-10. Thus,</p>
<ul>
<li><code>#000000</code> represents perfect black (no color at all)</li>
<li><code>#ff0000</code> represents red color</li>
<li><code>#00ff00</code> represents green color</li>
<li><code>#0000ff</code> represents blue color</li>
<li><code>#ffffff</code> represents white color.</li>
</ul>
<p>See the following example.</p>
<div class="sourceCode" id="cb2165"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2165-1"><a href="COLORR.html#cb2165-1" tabindex="-1"></a><span class="fu">barplot</span>(<span class="dv">2</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">col =</span> <span class="fu">c</span>(<span class="st">&quot;#000000&quot;</span>, <span class="st">&quot;#ff0000&quot;</span>, <span class="st">&quot;#ffff00&quot;</span>, <span class="st">&quot;#00ffff&quot;</span>, <span class="st">&quot;#ff00ff&quot;</span>), <span class="at">main =</span> <span class="st">&quot;Some primary color Mixing&quot;</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/unnamed-chunk-596-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="color-palettes-in-base-r" class="section level2" number="45.3">
<h2><span class="header-section-number">A.3</span> Color palettes in Base R</h2>
<p>A color palette is a combination of colors used by UI designers when designing an interface. Base R has certain palettes that may be used in visualizations.</p>
<div class="sourceCode" id="cb2166"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2166-1"><a href="COLORR.html#cb2166-1" tabindex="-1"></a><span class="fu">heat.colors</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] &quot;#FF0000&quot; &quot;#FF5500&quot; &quot;#FFAA00&quot; &quot;#FFFF00&quot; &quot;#FFFF80&quot;</code></pre>
<div class="sourceCode" id="cb2168"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2168-1"><a href="COLORR.html#cb2168-1" tabindex="-1"></a><span class="fu">rainbow</span>(<span class="dv">7</span>)</span></code></pre></div>
<pre><code>## [1] &quot;#FF0000&quot; &quot;#FFDB00&quot; &quot;#49FF00&quot; &quot;#00FF92&quot; &quot;#0092FF&quot; &quot;#4900FF&quot; &quot;#FF00DB&quot;</code></pre>
<div class="sourceCode" id="cb2170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2170-1"><a href="COLORR.html#cb2170-1" tabindex="-1"></a><span class="fu">terrain.colors</span>(<span class="dv">6</span>)</span></code></pre></div>
<pre><code>## [1] &quot;#00A600&quot; &quot;#63C600&quot; &quot;#E6E600&quot; &quot;#EAB64E&quot; &quot;#EEB99F&quot; &quot;#F2F2F2&quot;</code></pre>
<div class="sourceCode" id="cb2172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2172-1"><a href="COLORR.html#cb2172-1" tabindex="-1"></a><span class="fu">topo.colors</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] &quot;#4C00FF&quot; &quot;#004CFF&quot; &quot;#00E5FF&quot; &quot;#00FF4D&quot; &quot;#FFFF00&quot;</code></pre>
<div class="sourceCode" id="cb2174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2174-1"><a href="COLORR.html#cb2174-1" tabindex="-1"></a><span class="fu">cm.colors</span>(<span class="dv">4</span>)</span></code></pre></div>
<pre><code>## [1] &quot;#80FFFF&quot; &quot;#BFFFFF&quot; &quot;#FFBFFF&quot; &quot;#FF80FF&quot;</code></pre>
<div class="sourceCode" id="cb2176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2176-1"><a href="COLORR.html#cb2176-1" tabindex="-1"></a><span class="fu">hcl.colors</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## [1] &quot;#4B0055&quot; &quot;#00588B&quot; &quot;#009B95&quot; &quot;#53CC67&quot; &quot;#FDE333&quot;</code></pre>
<p>See colors in action in the following plots</p>
<div class="sourceCode" id="cb2178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2178-1"><a href="COLORR.html#cb2178-1" tabindex="-1"></a><span class="fu">par</span>(<span class="at">mfrow =</span> <span class="fu">c</span>(<span class="dv">2</span>, <span class="dv">3</span>))</span>
<span id="cb2178-2"><a href="COLORR.html#cb2178-2" tabindex="-1"></a><span class="fu">barplot</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">col =</span> <span class="fu">heat.colors</span>(<span class="dv">5</span>), <span class="at">main =</span> <span class="st">&quot;Heat Colors&quot;</span>)</span>
<span id="cb2178-3"><a href="COLORR.html#cb2178-3" tabindex="-1"></a><span class="fu">barplot</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>, <span class="at">col =</span> <span class="fu">rainbow</span>(<span class="dv">7</span>), <span class="at">main =</span> <span class="st">&quot;Rainbow colors&quot;</span>)</span>
<span id="cb2178-4"><a href="COLORR.html#cb2178-4" tabindex="-1"></a><span class="fu">barplot</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>, <span class="at">col =</span> <span class="fu">terrain.colors</span>(<span class="dv">7</span>), <span class="at">main =</span> <span class="st">&quot;Terrain Colors&quot;</span>)</span>
<span id="cb2178-5"><a href="COLORR.html#cb2178-5" tabindex="-1"></a><span class="fu">barplot</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="at">col =</span> <span class="fu">topo.colors</span>(<span class="dv">5</span>), <span class="at">main =</span> <span class="st">&quot;Topgraphical Colors&quot;</span>)</span>
<span id="cb2178-6"><a href="COLORR.html#cb2178-6" tabindex="-1"></a><span class="fu">barplot</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>, <span class="at">col =</span> <span class="fu">cm.colors</span>(<span class="dv">6</span>), <span class="at">main =</span> <span class="st">&quot;CM colors&quot;</span>)</span>
<span id="cb2178-7"><a href="COLORR.html#cb2178-7" tabindex="-1"></a><span class="fu">barplot</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">7</span>, <span class="at">col =</span> <span class="fu">hcl.colors</span>(<span class="dv">7</span>), <span class="at">main =</span> <span class="st">&quot;HCL Colors&quot;</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/unnamed-chunk-598-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="color-brewer" class="section level2" number="45.4">
<h2><span class="header-section-number">A.4</span> Color Brewer</h2>
<p>There are some color palettes created specifically for the purpose and which let us choose best colors for story telling. <a href="https://en.wikipedia.org/wiki/Cynthia_Brewer">Cynthia Brewer</a> an American cartographer, who worked on visibility and color theory in cartography developed colorblind-friendly sets of colors, known as the Brewer palettes. <code>RColorBrewer</code> package in R presents us those palettes for use in our data visualizations.</p>
<p>Let us load the package and display all available palettes there.</p>
<div class="sourceCode" id="cb2179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2179-1"><a href="COLORR.html#cb2179-1" tabindex="-1"></a><span class="co">#install.packages(&quot;RColorBrewer&quot;)</span></span>
<span id="cb2179-2"><a href="COLORR.html#cb2179-2" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb2179-3"><a href="COLORR.html#cb2179-3" tabindex="-1"></a><span class="fu">display.brewer.all</span>()</span></code></pre></div>
<p><img src="images/brewer.png" width="600" style="display: block; margin: auto;" /></p>
<p>These are actually divided into three categories, namely-</p>
<ul>
<li><em>Sequential</em>: For use preferably with continuous scales;</li>
<li><em>Qualitative</em>: To be used for non-ordered categorical things – such as factor, like country or continent;</li>
<li><em>Diverging</em>: For use in continuous scales showing two diverging trends like positives and negatives, etc.</li>
</ul>
<p>To display a single palette, we can use <code>display.brewer.pal(n, name)</code> where <code>n</code> and <code>name</code> are arguments requiring number of colors and palette name respectively.</p>
<div class="sourceCode" id="cb2180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2180-1"><a href="COLORR.html#cb2180-1" tabindex="-1"></a><span class="co"># View a single RColorBrewer palette by specifying its name</span></span>
<span id="cb2180-2"><a href="COLORR.html#cb2180-2" tabindex="-1"></a><span class="fu">display.brewer.pal</span>(<span class="at">n =</span> <span class="dv">7</span>, <span class="at">name =</span> <span class="st">&#39;BrBG&#39;</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/unnamed-chunk-599-1.png" width="672" height="20%" style="display: block; margin: auto;" /></p>
<p>See the following examples showing us to pick color palette using</p>
<ul>
<li><code>scale_fill_brewer</code> or <code>scale_color_brewer</code> in ggplot2</li>
<li><code>brewer.pal</code> in base R plots.</li>
</ul>
<div class="sourceCode" id="cb2181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2181-1"><a href="COLORR.html#cb2181-1" tabindex="-1"></a><span class="fu">library</span>(RColorBrewer)</span>
<span id="cb2181-2"><a href="COLORR.html#cb2181-2" tabindex="-1"></a><span class="fu">ggplot</span>(mpg, <span class="fu">aes</span>(year, <span class="at">fill =</span> class)) <span class="sc">+</span></span>
<span id="cb2181-3"><a href="COLORR.html#cb2181-3" tabindex="-1"></a>  <span class="fu">geom_bar</span>() <span class="sc">+</span></span>
<span id="cb2181-4"><a href="COLORR.html#cb2181-4" tabindex="-1"></a>  <span class="fu">scale_fill_brewer</span>(<span class="at">palette =</span> <span class="st">&quot;Dark2&quot;</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/unnamed-chunk-600-1.png" width="672" style="display: block; margin: auto;" /></p>
<div class="sourceCode" id="cb2182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2182-1"><a href="COLORR.html#cb2182-1" tabindex="-1"></a><span class="co"># Bar-plot using RColorBrewer</span></span>
<span id="cb2182-2"><a href="COLORR.html#cb2182-2" tabindex="-1"></a><span class="fu">barplot</span>(<span class="fu">c</span>(<span class="dv">2</span>,<span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">7</span>, <span class="dv">3</span>), <span class="at">col =</span> <span class="fu">brewer.pal</span>(<span class="at">n =</span> <span class="dv">5</span>, <span class="at">name =</span> <span class="st">&quot;Accent&quot;</span>))</span></code></pre></div>
<p><img src="DauR_files/figure-html/unnamed-chunk-601-1.png" width="672" style="display: block; margin: auto;" /></p>
</div>
<div id="package-colorspace" class="section level2" number="45.5">
<h2><span class="header-section-number">A.5</span> Package <code>colorspace</code></h2>
<p>The colorspace package provides a broad toolbox for selecting individual colors or color palettes, manipulating these colors, and employing them in various kinds of visualizations.</p>
<p>The colorspace package provides three types of palettes based on the HCL model:</p>
<ul>
<li><strong>Qualitative</strong>: Designed for coding categorical information, i.e., where no particular ordering of categories is available and every color should receive the same perceptual weight. Function: <code>qualitative_hcl()</code>.</li>
<li><strong>Sequential</strong>: Designed for coding ordered/numeric information, i.e., where colors go from high to low (or vice versa). Function: <code>sequential_hcl()</code>.</li>
<li><strong>Diverging</strong>: Designed for coding ordered/numeric information around a central neutral value, i.e., where colors diverge from neutral to two extremes. Function: <code>diverging_hcl()</code>.</li>
</ul>
<p>A quick overview can be gained easily with the <code>hcl_palettes()</code> function:</p>
<div class="sourceCode" id="cb2183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2183-1"><a href="COLORR.html#cb2183-1" tabindex="-1"></a><span class="fu">library</span>(<span class="st">&quot;colorspace&quot;</span>)</span>
<span id="cb2183-2"><a href="COLORR.html#cb2183-2" tabindex="-1"></a><span class="fu">hcl_palettes</span>(<span class="at">plot =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/unnamed-chunk-602-1.png" width="672" style="display: block; margin: auto;" /></p>
<p>To provide access to the HCL color palettes from within <code>ggplot2</code> graphics suitable discrete and/or continuous ggplot2 color scales are provided. The scales are named via the scheme <code>scale_&lt;aesthetic&gt;_&lt;datatype&gt;_&lt;colorscale&gt;()</code>, where <code>&lt;aesthetic&gt;</code> is the name of the aesthetic (<code>fill</code>, <code>color</code>, <code>colour</code>), <code>&lt;datatype&gt;</code> is the type of the variable plotted (discrete or continuous) and <code>&lt;colorscale&gt;</code> sets the type of the color scale used (<code>qualitative</code>, <code>sequential</code>, <code>diverging</code>, <code>divergingx</code>).</p>
<p>To illustrate <code>diverging</code> color palette, we can plot figure <a href="COLORR.html#fig:colorex">A.1</a>, as</p>
<div class="sourceCode" id="cb2184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb2184-1"><a href="COLORR.html#cb2184-1" tabindex="-1"></a>mpg <span class="sc">%&gt;%</span></span>
<span id="cb2184-2"><a href="COLORR.html#cb2184-2" tabindex="-1"></a>  <span class="fu">summarise</span>(<span class="at">hwy =</span> <span class="fu">mean</span>(hwy), <span class="at">.by =</span> class) <span class="sc">%&gt;%</span></span>
<span id="cb2184-3"><a href="COLORR.html#cb2184-3" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">class =</span> <span class="fu">fct_reorder</span>(class, hwy)) <span class="sc">%&gt;%</span></span>
<span id="cb2184-4"><a href="COLORR.html#cb2184-4" tabindex="-1"></a>  <span class="fu">ggplot</span>(<span class="fu">aes</span>(<span class="at">y =</span> class, <span class="at">x =</span> hwy, <span class="at">fill =</span> hwy)) <span class="sc">+</span></span>
<span id="cb2184-5"><a href="COLORR.html#cb2184-5" tabindex="-1"></a>  <span class="fu">geom_col</span>() <span class="sc">+</span></span>
<span id="cb2184-6"><a href="COLORR.html#cb2184-6" tabindex="-1"></a>  <span class="fu">scale_fill_continuous_diverging</span>(<span class="at">palette =</span> <span class="st">&quot;Red-Green&quot;</span>, <span class="at">mid =</span> <span class="fu">mean</span>(mpg<span class="sc">$</span>hwy)) <span class="sc">+</span></span>
<span id="cb2184-7"><a href="COLORR.html#cb2184-7" tabindex="-1"></a>  <span class="fu">geom_vline</span>(<span class="fu">aes</span>(<span class="at">xintercept =</span> <span class="fu">mean</span>(mpg<span class="sc">$</span>hwy)), <span class="at">linetype =</span> <span class="st">&quot;dashed&quot;</span>, <span class="at">linewidth =</span> <span class="dv">1</span>) <span class="sc">+</span></span>
<span id="cb2184-8"><a href="COLORR.html#cb2184-8" tabindex="-1"></a>  <span class="fu">theme_bw</span>() <span class="sc">+</span></span>
<span id="cb2184-9"><a href="COLORR.html#cb2184-9" tabindex="-1"></a>  <span class="fu">ggtitle</span>(<span class="st">&quot;Class wise Mean Highway mileage of cars&quot;</span>)</span></code></pre></div>
<p><img src="DauR_files/figure-html/unnamed-chunk-603-1.png" width="672" style="display: block; margin: auto;" /></p>
<hr />

</div>
</div>
  </main>

  <div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page">
      <h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          <li><a id="book-source" href="#">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="#">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
      </div>
    </nav>
  </div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5">
  <div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R for Audit Analytics</strong>" was written by Anil Goyal. It was last built on 2024-11-29.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
<script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>

</html>
