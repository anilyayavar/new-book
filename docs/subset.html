<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 Subsetting R objects or accesing specific elements | R for Audit Analytics</title>
<meta name="author" content="Anil Goyal">
<meta name="description" content="There are multiple methods for sub-setting R objects (vectors, matrices, data frames, lists, etc.) and each have its own uses and benefits. We will discuss each one of them. Three operators [, [[...">
<meta name="generator" content="bookdown 0.40 with bs4_book()">
<meta property="og:title" content="Chapter 2 Subsetting R objects or accesing specific elements | R for Audit Analytics">
<meta property="og:type" content="book">
<meta property="og:url" content="https://anilyayavar.github.io/new-book/subset.html">
<meta property="og:image" content="https://anilyayavar.github.io/new-book/images/cover.jpg">
<meta property="og:description" content="There are multiple methods for sub-setting R objects (vectors, matrices, data frames, lists, etc.) and each have its own uses and benefits. We will discuss each one of them. Three operators [, [[...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 Subsetting R objects or accesing specific elements | R for Audit Analytics">
<meta name="twitter:description" content="There are multiple methods for sub-setting R objects (vectors, matrices, data frames, lists, etc.) and each have its own uses and benefits. We will discuss each one of them. Three operators [, [[...">
<meta name="twitter:image" content="https://anilyayavar.github.io/new-book/images/cover.jpg">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.7.0/transition.js"></script><script src="libs/bs3compat-0.7.0/tabs.js"></script><script src="libs/bs3compat-0.7.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><script src="libs/kePrint-0.0.1/kePrint.js"></script><link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R for Audit Analytics</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Welcome to R for Audit Analytics</a></li>
<li><a class="" href="preface.html">Preface</a></li>
<li><a class="" href="about-author.html">About author</a></li>
<li><a class="" href="gearing-up.html">Gearing up</a></li>
<li><a class="" href="part-i-basic-r-programming-concepts.html">Part-I: Basic R Programming Concepts</a></li>
<li><a class="" href="r-programming-language.html"><span class="header-section-number">1</span> R Programming Language</a></li>
<li><a class="active" href="subset.html"><span class="header-section-number">2</span> Subsetting R objects or accesing specific elements</a></li>
<li><a class="" href="func.html"><span class="header-section-number">3</span> Functions and operations in R</a></li>
<li><a class="" href="existing-and-useful-functions-in-base-r.html"><span class="header-section-number">4</span> Existing and useful functions in base R</a></li>
<li><a class="" href="pipes-in-r.html"><span class="header-section-number">5</span> Pipes in R</a></li>
<li><a class="" href="control-statements.html"><span class="header-section-number">6</span> Control statements</a></li>
<li><a class="" href="functional-programming.html"><span class="header-section-number">7</span> Functional Programming</a></li>
<li><a class="" href="file.html"><span class="header-section-number">8</span> File handling operations in R</a></li>
<li><a class="" href="read.html"><span class="header-section-number">9</span> Getting data in and out of R</a></li>
<li><a class="" href="data-cleaning-in-r.html"><span class="header-section-number">10</span> Data Cleaning in R</a></li>
<li><a class="" href="merging-large-number-of-similar-datasets-into-one.html"><span class="header-section-number">11</span> Merging large number of similar datasets into one</a></li>
<li><a class="" href="part-ii-exploratory-data-analysis.html">Part-II: Exploratory Data Analysis</a></li>
<li><a class="" href="visualisations-in-base-r.html"><span class="header-section-number">12</span> Visualisations in Base R</a></li>
<li><a class="" href="visualising-data-with-ggplot2.html"><span class="header-section-number">13</span> Visualising data with ggplot2</a></li>
<li><a class="" href="DPLYRR.html"><span class="header-section-number">14</span> Data Transformation in dplyr</a></li>
<li><a class="" href="combining-tablestabular-data.html"><span class="header-section-number">15</span> Combining Tables/tabular data</a></li>
<li><a class="" href="data-wrangling-in-tidyr.html"><span class="header-section-number">16</span> Data Wrangling in tidyr</a></li>
<li><a class="" href="generating-descriptive-statistics.html"><span class="header-section-number">17</span> Generating Descriptive statistics</a></li>
<li><a class="" href="part-iii-probability-and-sampling-in-r.html">Part-III: Probability and Sampling in R</a></li>
<li><a class="" href="probability-in-r.html"><span class="header-section-number">18</span> Probability in R</a></li>
<li><a class="" href="random-sampling-in-r.html"><span class="header-section-number">19</span> Random sampling in R</a></li>
<li><a class="" href="part-iv-machine-learning-in-r.html">Part-IV: Machine Learning in R</a></li>
<li><a class="" href="linear-regression.html"><span class="header-section-number">20</span> Linear Regression</a></li>
<li><a class="" href="principal-component-analysis-in-r.html"><span class="header-section-number">21</span> Principal Component Analysis in R</a></li>
<li><a class="" href="clustering-in-r-using-kmeans-algorithm.html"><span class="header-section-number">22</span> Clustering in R (Using Kmeans algorithm)</a></li>
<li><a class="" href="association-rule-mining-in-r-apriori.html"><span class="header-section-number">23</span> Association Rule Mining in R (Apriori)</a></li>
<li><a class="" href="part-v-time-series.html">Part-V: Time Series</a></li>
<li><a class="" href="lubridate.html"><span class="header-section-number">24</span> Date and Time calculations</a></li>
<li><a class="" href="time-series-analysis.html"><span class="header-section-number">25</span> Time Series Analysis</a></li>
<li><a class="" href="part-vi-network-analytics.html">Part VI: Network Analytics</a></li>
<li><a class="" href="network-analyticsgraph-theory-in-r.html"><span class="header-section-number">26</span> Network Analytics/Graph theory in R</a></li>
<li><a class="" href="applying-network-analysis-in-auditfraud-detection.html"><span class="header-section-number">27</span> Applying network analysis in audit/fraud detection</a></li>
<li><a class="" href="part-vii-text-analytics-in-r.html">Part-VII: Text Analytics in R</a></li>
<li><a class="" href="string-manipulation-in-stringr.html"><span class="header-section-number">28</span> String manipulation in stringr</a></li>
<li><a class="" href="regex---a-quick-introduction.html"><span class="header-section-number">29</span> Regex - A quick introduction</a></li>
<li><a class="" href="regex-in-human-readble-format-using-rebus.html"><span class="header-section-number">30</span> Regex in human readble format using rebus</a></li>
<li><a class="" href="factors.html"><span class="header-section-number">31</span> Factors</a></li>
<li><a class="" href="text-analytics-in-r.html"><span class="header-section-number">32</span> Text Analytics in R</a></li>
<li><a class="" href="sentiment-analysis.html"><span class="header-section-number">33</span> Sentiment Analysis</a></li>
<li><a class="" href="visualising-text-analytics-through-wordcloud-etc..html"><span class="header-section-number">34</span> Visualising Text analytics through Wordcloud, etc.</a></li>
<li><a class="" href="finding-string-similarity.html"><span class="header-section-number">35</span> Finding string similarity</a></li>
<li><a class="" href="part-viii-geo-computation-in-r.html">Part-VIII: Geo computation in R</a></li>
<li><a class="" href="maps-in-r.html"><span class="header-section-number">36</span> Maps in R</a></li>
<li><a class="" href="geo-coding-in-r.html"><span class="header-section-number">37</span> Geo-Coding in R</a></li>
<li><a class="" href="reverse-geo-coding.html"><span class="header-section-number">38</span> Reverse geo-coding</a></li>
<li><a class="" href="part-ix-identifying-anamolous-observations-for-audit.html">Part-IX: Identifying anamolous observations for audit</a></li>
<li><a class="" href="benford-testsanalysis.html"><span class="header-section-number">39</span> Benford Tests/Analysis</a></li>
<li><a class="" href="anomaly-detection.html"><span class="header-section-number">40</span> Anomaly Detection</a></li>
<li><a class="" href="finding-anamolous-outliers.html"><span class="header-section-number">41</span> Finding Anamolous Outliers</a></li>
<li><a class="" href="dup.html"><span class="header-section-number">42</span> Duplicate Detection</a></li>
<li><a class="" href="detecting-gaps-in-sequences.html"><span class="header-section-number">43</span> Detecting gaps in sequences</a></li>
<li><a class="" href="data-envelopment-analysis.html"><span class="header-section-number">44</span> Data Envelopment Analysis</a></li>
<li class="book-part">Appendix</li>
<li><a class="" href="COLORR.html"><span class="header-section-number">A</span> Colors in R</a></li>
<li><a class="" href="various-datasets-in-base-r-used-in-this-book.html"><span class="header-section-number">B</span> Various Datasets, in base R, used in this book</a></li>
<li><a class="" href="references.html">References</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="subset" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> Subsetting R objects or accesing specific elements<a class="anchor" aria-label="anchor" href="#subset"><i class="fas fa-link"></i></a>
</h1>
<p>There are multiple methods for sub-setting R objects (vectors, matrices, data frames, lists, etc.) and each have its own uses and benefits. We will discuss each one of them. Three operators <code>[</code>, <code>[[</code> &amp; <code>$</code> will be used.</p>
<div id="subsetting-vectors" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Subsetting vectors<a class="anchor" aria-label="anchor" href="#subsetting-vectors"><i class="fas fa-link"></i></a>
</h2>
<p>Let us first start sub-setting vectors, which is as we have learned, atomic object in R. To subset the vectors we will use <code>[</code>.
For this we will use following <code>x</code> vector, which has 6 elements (names) each starting with alphabets A to F.</p>
<div class="sourceCode" id="cb224"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'Andrew'</span>, <span class="st">'Bob'</span>, <span class="st">'Chris'</span>, <span class="st">'Danny'</span>, <span class="st">'Edmund'</span>, <span class="st">'Freddie'</span><span class="op">)</span></span></code></pre></div>
<div class="inline-figure"><img src="images/subset_vec.png"></div>
<div id="subsetting-through-a-vector-of-positive-integers" class="section level3" number="2.1.1">
<h3>
<span class="header-section-number">2.1.1</span> Subsetting through a vector of positive integers<a class="anchor" aria-label="anchor" href="#subsetting-through-a-vector-of-positive-integers"><i class="fas fa-link"></i></a>
</h3>
<p>Sub-setting through positive integers will give us elements at those given position (indices). See this</p>
<div class="sourceCode" id="cb225"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># fourth element</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">4</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "Danny"</code></pre>
<div class="sourceCode" id="cb227"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># third to fifth element</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "Chris"  "Danny"  "Edmund"</code></pre>
<div class="sourceCode" id="cb229"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># first and fifth element</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">3</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "Andrew" "Chris"</code></pre>
<p><em>Note: Check what happens when the integer vector has repeated integers.</em></p>
</div>
<div id="subsetting-through-a-vector-of-negative-integers" class="section level3" number="2.1.2">
<h3>
<span class="header-section-number">2.1.2</span> Subsetting through a vector of negative integers<a class="anchor" aria-label="anchor" href="#subsetting-through-a-vector-of-negative-integers"><i class="fas fa-link"></i></a>
</h3>
<p>Sub-setting through negative integers will give us all elements <strong>except</strong> those at given indices. See</p>
<div class="sourceCode" id="cb231"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># all elements except that at fourth</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="op">-</span><span class="fl">4</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "Andrew"  "Bob"     "Chris"   "Edmund"  "Freddie"</code></pre>
<div class="sourceCode" id="cb233"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># all elements except third to fifth</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="op">-</span><span class="op">(</span><span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "Andrew"  "Bob"     "Freddie"</code></pre>
<div class="sourceCode" id="cb235"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># all elements except first and fifth</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="op">-</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">5</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "Bob"     "Chris"   "Danny"   "Freddie"</code></pre>
<p><em>Note: Try mixing sub-setting with a vector having both positive and negative integers in your console and check what happens.</em></p>
</div>
<div id="subsetting-through-a-logical-vector" class="section level3" number="2.1.3">
<h3>
<span class="header-section-number">2.1.3</span> Subsetting through a logical vector<a class="anchor" aria-label="anchor" href="#subsetting-through-a-logical-vector"><i class="fas fa-link"></i></a>
</h3>
<p>We can also subset a given vector through another vector having <code>logical</code> values i.e. <code>TRUE</code> and <code>FALSE</code>. As you can understand output/result will have elements at places having <code>TRUE</code> only.</p>
<div class="sourceCode" id="cb237"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># First, third and fifth element only</span></span>
<span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">TRUE</span>, <span class="cn">TRUE</span>, <span class="cn">FALSE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "Andrew" "Chris"  "Danny"</code></pre>
<p><strong>Recycling</strong> is an important concept while sub-setting though a logical vector. It recycles the given logical vector up to the length of vector to be subset. Thus, <code>x[TRUE]</code> will give us original <code>x</code> only.</p>
<div class="sourceCode" id="cb239"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="cn">TRUE</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "Andrew"  "Bob"     "Chris"   "Danny"   "Edmund"  "Freddie"</code></pre>
<div class="sourceCode" id="cb241"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">]</span> <span class="co"># will give elements at odd indices</span></span></code></pre></div>
<pre><code>## [1] "Andrew" "Chris"  "Edmund"</code></pre>
<p><em>Note: Try to subset a vector through a logical vector having missing values i.e. <code>NA</code> along with <code>TRUE</code> and/or <code>FALSE</code> in your console and check what happens.</em></p>
<p><strong>Sub-setting through logical vector is most important and used sub-setting method as we will see it subsequent chapter/sections when we will filter a vector on the basis of some conditions.</strong></p>
</div>
<div id="subsetting-through-a-character-vector" class="section level3" number="2.1.4">
<h3>
<span class="header-section-number">2.1.4</span> Subsetting through a character vector<a class="anchor" aria-label="anchor" href="#subsetting-through-a-character-vector"><i class="fas fa-link"></i></a>
</h3>
<p>This method is used when the given vector is named. We can pass desired names inside <code>[]</code> to get/filter those desired elements. See this example.</p>
<div class="sourceCode" id="cb243"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># let us create a named vector `y`</span></span>
<span><span class="va">y</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/setNames.html">setNames</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span>, <span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">6</span><span class="op">]</span><span class="op">)</span></span>
<span><span class="co"># display `y`</span></span>
<span><span class="va">y</span></span></code></pre></div>
<pre><code>## A B C D E F 
## 1 2 3 4 5 6</code></pre>
<div class="sourceCode" id="cb245"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># subset elements named `A` and `C`</span></span>
<span><span class="va">y</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'A'</span>, <span class="st">'C'</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>## A C 
## 1 3</code></pre>
<p><em>Note that we have used quotes in above method of sub-setting.</em> We can use this method when we have names saved in another variable. See this</p>
<div class="sourceCode" id="cb247"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">var</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">'A'</span>, <span class="st">'C'</span>, <span class="st">'E'</span><span class="op">)</span></span>
<span><span class="co"># subset those elements from `y` which are named as per `var`</span></span>
<span><span class="va">y</span><span class="op">[</span><span class="va">var</span><span class="op">]</span> <span class="co"># notice that since `var` is a variable, we have not used quotes.</span></span></code></pre></div>
<pre><code>## A C E 
## 1 3 5</code></pre>
<p><em>Note: Similar to positive integer indexing we will get repeated values if character vector has repeated names.</em></p>
<div class="sourceCode" id="cb249"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">y</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"A"</span>, <span class="st">"A"</span>, <span class="st">"C"</span>, <span class="st">"A"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>## A A C A 
## 1 1 3 1</code></pre>
<p><strong>Other two methods of indexing will not be used frequently but are important to know for debugging the code as sometimes your subset vector may be <code>NULL</code> or <code>zero</code></strong></p>
</div>
<div id="subsetting-through-nothing" class="section level3" number="2.1.5">
<h3>
<span class="header-section-number">2.1.5</span> Subsetting through nothing<a class="anchor" aria-label="anchor" href="#subsetting-through-nothing"><i class="fas fa-link"></i></a>
</h3>
<p>Indexing through nothing i.e. simply with <code>[]</code> will give us original vector.</p>
<div class="sourceCode" id="cb251"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "Andrew"  "Bob"     "Chris"   "Danny"   "Edmund"  "Freddie"</code></pre>
</div>
<div id="subsetting-through-zero" class="section level3" number="2.1.6">
<h3>
<span class="header-section-number">2.1.6</span> Subsetting through Zero<a class="anchor" aria-label="anchor" href="#subsetting-through-zero"><i class="fas fa-link"></i></a>
</h3>
<p>Sub-setting through <code>NULL</code> or <code>0</code> will give us a zero length vector.</p>
<div class="sourceCode" id="cb253"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">x</span><span class="op">[</span><span class="cn">NULL</span><span class="op">]</span></span></code></pre></div>
<pre><code>## character(0)</code></pre>
<div class="sourceCode" id="cb255"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">y</span><span class="op">[</span><span class="fl">0</span><span class="op">]</span></span></code></pre></div>
<pre><code>## named integer(0)</code></pre>
<div class="sourceCode" id="cb257"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/NULL.html">is.null</a></span><span class="op">(</span><span class="va">x</span><span class="op">[</span><span class="cn">NULL</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<p>It is important and interesting to note here that subsetting through NULL is not NULL and is a zero length vector instead.</p>
</div>
</div>
<div id="subsetting-matrices-and-arrays" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Subsetting Matrices and arrays<a class="anchor" aria-label="anchor" href="#subsetting-matrices-and-arrays"><i class="fas fa-link"></i></a>
</h2>
<p>We can subset higher dimensional structures (Matrix - 2 dimensional and arrays - dimension greater than 2) using (i) multiple vectors, (ii) single vector and (iii) matrix.</p>
<p>Let us first create a 5x5 matrix say <code>mat</code> with elements named <span class="math inline">\(A_{mn}\)</span> where <code>m</code> will denote row number and <code>n</code> will denote column number.</p>
<pre><code>##      [,1]  [,2]  [,3]  [,4]  [,5] 
## [1,] "A11" "A12" "A13" "A14" "A15"
## [2,] "A21" "A22" "A23" "A24" "A25"
## [3,] "A31" "A32" "A33" "A34" "A35"
## [4,] "A41" "A42" "A43" "A44" "A45"
## [5,] "A51" "A52" "A53" "A54" "A55"</code></pre>
<div id="indexing-through-multiple-vectors" class="section level3" number="2.2.1">
<h3>
<span class="header-section-number">2.2.1</span> Indexing through Multiple vectors<a class="anchor" aria-label="anchor" href="#indexing-through-multiple-vectors"><i class="fas fa-link"></i></a>
</h3>
<p>This is extension of all sub-setting methods explained for a vector. In objects with higher dimensionality we will have to provide one vector for each dimension. Blank values, as you may understood (ref - sub-setting through nothing explained above) will do nothing and return that dimension complete.</p>
<div class="sourceCode" id="cb260"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># first and second row with third and fifth column</span></span>
<span><span class="va">mat</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">2</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>,<span class="fl">5</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>##      [,1]  [,2] 
## [1,] "A13" "A15"
## [2,] "A23" "A25"</code></pre>
<div class="sourceCode" id="cb262"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># third to fifth column, all rows</span></span>
<span><span class="va">mat</span><span class="op">[</span>,<span class="fl">3</span><span class="op">:</span><span class="fl">5</span><span class="op">]</span></span></code></pre></div>
<pre><code>##      [,1]  [,2]  [,3] 
## [1,] "A13" "A14" "A15"
## [2,] "A23" "A24" "A25"
## [3,] "A33" "A34" "A35"
## [4,] "A43" "A44" "A45"
## [5,] "A53" "A54" "A55"</code></pre>
<div class="sourceCode" id="cb264"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># all columns except third</span></span>
<span><span class="va">mat</span><span class="op">[</span>, <span class="op">-</span><span class="fl">3</span><span class="op">]</span></span></code></pre></div>
<pre><code>##      [,1]  [,2]  [,3]  [,4] 
## [1,] "A11" "A12" "A14" "A15"
## [2,] "A21" "A22" "A24" "A25"
## [3,] "A31" "A32" "A34" "A35"
## [4,] "A41" "A42" "A44" "A45"
## [5,] "A51" "A52" "A54" "A55"</code></pre>
<div class="sourceCode" id="cb266"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Odd rows, all columns</span></span>
<span><span class="va">mat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span>,<span class="op">]</span></span></code></pre></div>
<pre><code>##      [,1]  [,2]  [,3]  [,4]  [,5] 
## [1,] "A11" "A12" "A13" "A14" "A15"
## [2,] "A31" "A32" "A33" "A34" "A35"
## [3,] "A51" "A52" "A53" "A54" "A55"</code></pre>
<p>The idea can be extended to a named matrix also.</p>
<div class="sourceCode" id="cb268"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># First create a named matrix</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">rownames</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Row"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/colnames.html">colnames</a></span><span class="op">(</span><span class="va">mat</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">"Col"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">5</span><span class="op">)</span></span>
<span><span class="va">mat</span></span></code></pre></div>
<pre><code>##      Col1  Col2  Col3  Col4  Col5 
## Row1 "A11" "A12" "A13" "A14" "A15"
## Row2 "A21" "A22" "A23" "A24" "A25"
## Row3 "A31" "A32" "A33" "A34" "A35"
## Row4 "A41" "A42" "A43" "A44" "A45"
## Row5 "A51" "A52" "A53" "A54" "A55"</code></pre>
<div class="sourceCode" id="cb270"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># filter desired rows/columns</span></span>
<span><span class="va">mat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Row1"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Col2"</span>, <span class="st">"Col3"</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>##  Col2  Col3 
## "A12" "A13"</code></pre>
<p>In the above example you must have noticed that indexing objects with higher dimensionality may return the objects with lower dimensionality. E.g. sub-setting a matrix may return a vector. <strong>We can control the dimensionality reduction through the argument <code>drop=FALSE</code> which is by default TRUE and may thus introduce bugs in the code.</strong></p>
<div class="sourceCode" id="cb272"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Row1"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Col2"</span>, <span class="st">"Col3"</span><span class="op">)</span>, drop<span class="op">=</span><span class="cn">FALSE</span><span class="op">]</span></span></code></pre></div>
<pre><code>##      Col2  Col3 
## Row1 "A12" "A13"</code></pre>
<div class="sourceCode" id="cb274"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#check this</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">mat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Row1"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Col2"</span>, <span class="st">"Col3"</span><span class="op">)</span>, drop<span class="op">=</span><span class="cn">FALSE</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] 1 2</code></pre>
<div class="sourceCode" id="cb276"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#versus this</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/dim.html">dim</a></span><span class="op">(</span><span class="va">mat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Row1"</span><span class="op">)</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"Col2"</span>, <span class="st">"Col3"</span><span class="op">)</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code>## NULL</code></pre>
</div>
<div id="subsetting-through-one-vector" class="section level3" number="2.2.2">
<h3>
<span class="header-section-number">2.2.2</span> Subsetting through one vector<a class="anchor" aria-label="anchor" href="#subsetting-through-one-vector"><i class="fas fa-link"></i></a>
</h3>
<p>By now it should be clear that objects with higher dimensionality like matrices, array are actually vectors at the core of r, displayed and acting like objects having more than one dimension. So sub-setting with single vector on these objects coerce the behavior of these objects as vectors only and give output exactly as shown in previous section.</p>
<div class="sourceCode" id="cb278"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">10</span>, <span class="fl">15</span>, <span class="fl">25</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "A11" "A52" "A53" "A55"</code></pre>
<div class="sourceCode" id="cb280"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># OR</span></span>
<span><span class="va">mat</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="cn">TRUE</span>, <span class="cn">FALSE</span><span class="op">)</span><span class="op">]</span></span></code></pre></div>
<pre><code>##  [1] "A11" "A31" "A51" "A22" "A42" "A13" "A33" "A53" "A24" "A44" "A15" "A35"
## [13] "A55"</code></pre>
</div>
<div id="subsetting-through-a-matrix" class="section level3" number="2.2.3">
<h3>
<span class="header-section-number">2.2.3</span> Subsetting through a matrix<a class="anchor" aria-label="anchor" href="#subsetting-through-a-matrix"><i class="fas fa-link"></i></a>
</h3>
<p>We can also subset objects with higher dimensionality with integer matrix (having number of columns equal to dimensions). In other words, to subset a matrix (2D) with the help of other matrix we will need a 2 column matrix where first column will indicate row number and second column will indicate column number. See</p>
<div class="sourceCode" id="cb282"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">selection_matrix</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/matrix.html">matrix</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">1</span>, <span class="co"># Element at Row 1 Col 1</span></span>
<span>                             <span class="fl">2</span>,<span class="fl">2</span>, <span class="co"># Element at Row 2 Col 2</span></span>
<span>                             <span class="fl">3</span>,<span class="fl">3</span><span class="op">)</span>, <span class="co"># Element at Row 3 Col 3</span></span>
<span>                           ncol <span class="op">=</span> <span class="fl">2</span>, </span>
<span>                           byrow <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">mat</span><span class="op">[</span><span class="va">selection_matrix</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] "A11" "A22" "A33"</code></pre>
</div>
</div>
<div id="subsetting-lists" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> Subsetting lists<a class="anchor" aria-label="anchor" href="#subsetting-lists"><i class="fas fa-link"></i></a>
</h2>
<p>List sub-setting can be done using either <code>[]</code>, <code>[[]]</code> or <code>$</code>. To understand the difference between these, let us consider these one by one. As done earlier let us consider a list of 4 elements - one vector, one matrix, one list and one data frame. For now let us consider that list is unnamed.</p>
<div class="sourceCode" id="cb284"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span></span>
<span>  <span class="fl">11</span><span class="op">:</span><span class="fl">20</span>,                                                       <span class="co"># first element</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/outer.html">outer</a></span><span class="op">(</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span>, <span class="va">y</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="st">'B'</span>, <span class="va">x</span>, <span class="va">y</span><span class="op">)</span><span class="op">)</span>,     <span class="co"># second element</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/list.html">list</a></span><span class="op">(</span><span class="va">LETTERS</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">8</span><span class="op">]</span>, <span class="cn">TRUE</span><span class="op">)</span>,                                    <span class="co"># third element  </span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/data.frame.html">data.frame</a></span><span class="op">(</span>col1 <span class="op">=</span> <span class="va">letters</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span>, col2 <span class="op">=</span> <span class="fl">5</span><span class="op">:</span><span class="fl">8</span><span class="op">)</span>                  <span class="co"># fourth element</span></span>
<span><span class="op">)</span></span>
<span><span class="co"># display the list</span></span>
<span><span class="va">my_list</span></span></code></pre></div>
<pre><code>## [[1]]
##  [1] 11 12 13 14 15 16 17 18 19 20
## 
## [[2]]
##      [,1]  [,2]  [,3]  [,4] 
## [1,] "B11" "B12" "B13" "B14"
## [2,] "B21" "B22" "B23" "B24"
## [3,] "B31" "B32" "B33" "B34"
## [4,] "B41" "B42" "B43" "B44"
## 
## [[3]]
## [[3]][[1]]
## [1] "A" "B" "C" "D" "E" "F" "G" "H"
## 
## [[3]][[2]]
## [1] TRUE
## 
## 
## [[4]]
##   col1 col2
## 1    a    5
## 2    b    6
## 3    c    7
## 4    d    8</code></pre>
<div id="subsetting-lists-with" class="section level3" number="2.3.1">
<h3>
<span class="header-section-number">2.3.1</span> Subsetting lists with <code>[]</code><a class="anchor" aria-label="anchor" href="#subsetting-lists-with"><i class="fas fa-link"></i></a>
</h3>
<p>Sub-setting lists with <code>[]</code> will always result a list containing desired element(s).</p>
<div class="sourceCode" id="cb286"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_list</span><span class="op">[</span><span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [[1]]
##      [,1]  [,2]  [,3]  [,4] 
## [1,] "B11" "B12" "B13" "B14"
## [2,] "B21" "B22" "B23" "B24"
## [3,] "B31" "B32" "B33" "B34"
## [4,] "B41" "B42" "B43" "B44"</code></pre>
<div class="sourceCode" id="cb288"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">my_list</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] "list"</code></pre>
<p>We can apply other ideas of vector sub-setting as explained earlier with this list sub-setting. The output will also be list containing one or more items.</p>
</div>
<div id="subsetting-lists-with-1" class="section level3" number="2.3.2">
<h3>
<span class="header-section-number">2.3.2</span> Subsetting lists with <code>[[]]</code><a class="anchor" aria-label="anchor" href="#subsetting-lists-with-1"><i class="fas fa-link"></i></a>
</h3>
<p>Sub-setting list with <code>[[]]</code> will return that specific item (as per index given) but the output will be of type of that specific item.</p>
<div class="sourceCode" id="cb290"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_list</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<pre><code>##      [,1]  [,2]  [,3]  [,4] 
## [1,] "B11" "B12" "B13" "B14"
## [2,] "B21" "B22" "B23" "B24"
## [3,] "B31" "B32" "B33" "B34"
## [4,] "B41" "B42" "B43" "B44"</code></pre>
<div class="sourceCode" id="cb292"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html">class</a></span><span class="op">(</span><span class="va">my_list</span><span class="op">[[</span><span class="fl">4</span><span class="op">]</span><span class="op">]</span><span class="op">)</span></span></code></pre></div>
<pre><code>## [1] "data.frame"</code></pre>
<p><em>Notice the difference in outputs created with <code>my_list[2]</code> and <code>my_list[[2]]</code> in above 2 code blocks.</em></p>
<p><em>Needless to say, one cannot index/subset lists using multiple indices.</em> Check <code>my_list[[1:2]]</code> in your console as the results may not be as what you think.</p>
</div>
<div id="chaining-or-multiple-subsetting" class="section level3" number="2.3.3">
<h3>
<span class="header-section-number">2.3.3</span> Chaining or multiple subsetting<a class="anchor" aria-label="anchor" href="#chaining-or-multiple-subsetting"><i class="fas fa-link"></i></a>
</h3>
<p>We can further subset/index a vector/variable in R using <strong>chaining</strong> i.e. by combining one or methods as we have discussed here.</p>
<div class="sourceCode" id="cb294"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># third element of second element</span></span>
<span><span class="va">my_list</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">3</span><span class="op">]</span> <span class="co"># recall that by default matrix is by column</span></span></code></pre></div>
<pre><code>## [1] "B31"</code></pre>
<div class="sourceCode" id="cb296"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># or</span></span>
<span><span class="va">my_list</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">3</span>,<span class="fl">2</span><span class="op">:</span><span class="fl">4</span><span class="op">]</span></span></code></pre></div>
<pre><code>##      [,1]  [,2]  [,3] 
## [1,] "B12" "B13" "B14"
## [2,] "B22" "B23" "B24"
## [3,] "B32" "B33" "B34"</code></pre>
</div>
<div id="subsetting-with" class="section level3" number="2.3.4">
<h3>
<span class="header-section-number">2.3.4</span> Subsetting with <code>$</code><a class="anchor" aria-label="anchor" href="#subsetting-with"><i class="fas fa-link"></i></a>
</h3>
<p><code>$</code> is a shorthand operator: <code>x$y</code> is roughly equivalent to <code>x[["y"]]</code>. To check this let us assign our list some names.</p>
<div class="sourceCode" id="cb298"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/base/names.html">names</a></span><span class="op">(</span><span class="va">my_list</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"first"</span>, <span class="st">"second"</span>, <span class="st">"third"</span>, <span class="st">"fourth"</span><span class="op">)</span></span>
<span><span class="co"># Now see</span></span>
<span><span class="va">my_list</span><span class="op">$</span><span class="va">first</span></span></code></pre></div>
<pre><code>##  [1] 11 12 13 14 15 16 17 18 19 20</code></pre>
<div class="sourceCode" id="cb300"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_list</span><span class="op">$</span><span class="va">fourth</span><span class="op">$</span><span class="va">col2</span></span></code></pre></div>
<pre><code>## [1] 5 6 7 8</code></pre>
<p><em>Notice that rules for dimensionality reduction also applies with <code>$</code></em>.</p>
<p>Another difference between <code>[[</code> sub-setting versus <code>$</code> sub-setting is partial matching (<em>left to right only</em>), which is possible with <code>$</code> only and not with <code>[[</code>. See</p>
<div class="sourceCode" id="cb302"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_list</span><span class="op">$</span><span class="va">fir</span></span></code></pre></div>
<pre><code>##  [1] 11 12 13 14 15 16 17 18 19 20</code></pre>
<div class="sourceCode" id="cb304"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_list</span><span class="op">[[</span><span class="st">'fir'</span><span class="op">]</span><span class="op">]</span></span></code></pre></div>
<pre><code>## NULL</code></pre>
</div>
</div>
<div id="data-frames" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> Data frames<a class="anchor" aria-label="anchor" href="#data-frames"><i class="fas fa-link"></i></a>
</h2>
<p>As already explained data frames are basically lists with each element having equal length, rules for sub-setting lists all apply with data frames. One addition is that data frames can also be subset using rules for matrix sub-setting.</p>
<div class="sourceCode" id="cb306"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mtcars</span> <span class="co"># it is a default data frame in r</span></span></code></pre></div>
<pre><code>##                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
## Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
## Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
## Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
## Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
## Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
## Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
## Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
## Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
## Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
## Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
## Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
## Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
## Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
## Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
## Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
## Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
## Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
## AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
## Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
## Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
## Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
## Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
## Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
## Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
## Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
## Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
## Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2</code></pre>
<div class="sourceCode" id="cb308"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># list type sub-setting</span></span>
<span><span class="va">mtcars</span><span class="op">[[</span><span class="fl">2</span><span class="op">]</span><span class="op">]</span>  <span class="co"># second column </span></span></code></pre></div>
<pre><code>##  [1] 6 6 4 6 8 6 8 4 4 6 6 8 8 8 8 8 8 4 4 4 4 8 8 8 8 4 4 4 8 6 8 4</code></pre>
<div class="sourceCode" id="cb310"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># matrix type</span></span>
<span><span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span> <span class="co"># first four rows with second &amp; third columns</span></span></code></pre></div>
<pre><code>##                cyl disp
## Mazda RX4        6  160
## Mazda RX4 Wag    6  160
## Datsun 710       4  108
## Hornet 4 Drive   6  258</code></pre>
<p><strong>Remember</strong></p>
<ol style="list-style-type: decimal">
<li>If sub-setting data frames with single vector, data frame behave like lists, by default. If we have to get output as data.frame we will have use <code>drop= FALSE</code> argument.</li>
<li>If however, sub-setting data frame through two vectors, these behave like matrices.</li>
</ol>
<p>Examples</p>
<div class="sourceCode" id="cb312"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#Default</span></span>
<span><span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">2</span><span class="op">]</span></span></code></pre></div>
<pre><code>## [1] 6 6 4 6 8</code></pre>
<div class="sourceCode" id="cb314"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># using drop argument</span></span>
<span><span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">5</span>, <span class="fl">2</span>, drop <span class="op">=</span> <span class="cn">FALSE</span><span class="op">]</span></span></code></pre></div>
<pre><code>##                   cyl
## Mazda RX4           6
## Mazda RX4 Wag       6
## Datsun 710          4
## Hornet 4 Drive      6
## Hornet Sportabout   8</code></pre>
</div>
<div id="subsetting-and-assignment" class="section level2" number="2.5">
<h2>
<span class="header-section-number">2.5</span> Subsetting and assignment<a class="anchor" aria-label="anchor" href="#subsetting-and-assignment"><i class="fas fa-link"></i></a>
</h2>
<p>All the sub-setting that we have seen can be used for assignment as well.</p>
<div class="sourceCode" id="cb316"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">my_list</span><span class="op">$</span><span class="va">first</span> <span class="op">&lt;-</span> <span class="va">mtcars</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">4</span>, <span class="fl">2</span><span class="op">:</span><span class="fl">3</span><span class="op">]</span></span>
<span><span class="va">my_list</span></span></code></pre></div>
<pre><code>## $first
##                cyl disp
## Mazda RX4        6  160
## Mazda RX4 Wag    6  160
## Datsun 710       4  108
## Hornet 4 Drive   6  258
## 
## $second
##      [,1]  [,2]  [,3]  [,4] 
## [1,] "B11" "B12" "B13" "B14"
## [2,] "B21" "B22" "B23" "B24"
## [3,] "B31" "B32" "B33" "B34"
## [4,] "B41" "B42" "B43" "B44"
## 
## $third
## $third[[1]]
## [1] "A" "B" "C" "D" "E" "F" "G" "H"
## 
## $third[[2]]
## [1] TRUE
## 
## 
## $fourth
##   col1 col2
## 1    a    5
## 2    b    6
## 3    c    7
## 4    d    8</code></pre>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="r-programming-language.html"><span class="header-section-number">1</span> R Programming Language</a></div>
<div class="next"><a href="func.html"><span class="header-section-number">3</span> Functions and operations in R</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#subset"><span class="header-section-number">2</span> Subsetting R objects or accesing specific elements</a></li>
<li>
<a class="nav-link" href="#subsetting-vectors"><span class="header-section-number">2.1</span> Subsetting vectors</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#subsetting-through-a-vector-of-positive-integers"><span class="header-section-number">2.1.1</span> Subsetting through a vector of positive integers</a></li>
<li><a class="nav-link" href="#subsetting-through-a-vector-of-negative-integers"><span class="header-section-number">2.1.2</span> Subsetting through a vector of negative integers</a></li>
<li><a class="nav-link" href="#subsetting-through-a-logical-vector"><span class="header-section-number">2.1.3</span> Subsetting through a logical vector</a></li>
<li><a class="nav-link" href="#subsetting-through-a-character-vector"><span class="header-section-number">2.1.4</span> Subsetting through a character vector</a></li>
<li><a class="nav-link" href="#subsetting-through-nothing"><span class="header-section-number">2.1.5</span> Subsetting through nothing</a></li>
<li><a class="nav-link" href="#subsetting-through-zero"><span class="header-section-number">2.1.6</span> Subsetting through Zero</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#subsetting-matrices-and-arrays"><span class="header-section-number">2.2</span> Subsetting Matrices and arrays</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#indexing-through-multiple-vectors"><span class="header-section-number">2.2.1</span> Indexing through Multiple vectors</a></li>
<li><a class="nav-link" href="#subsetting-through-one-vector"><span class="header-section-number">2.2.2</span> Subsetting through one vector</a></li>
<li><a class="nav-link" href="#subsetting-through-a-matrix"><span class="header-section-number">2.2.3</span> Subsetting through a matrix</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#subsetting-lists"><span class="header-section-number">2.3</span> Subsetting lists</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#subsetting-lists-with"><span class="header-section-number">2.3.1</span> Subsetting lists with []</a></li>
<li><a class="nav-link" href="#subsetting-lists-with-1"><span class="header-section-number">2.3.2</span> Subsetting lists with [[]]</a></li>
<li><a class="nav-link" href="#chaining-or-multiple-subsetting"><span class="header-section-number">2.3.3</span> Chaining or multiple subsetting</a></li>
<li><a class="nav-link" href="#subsetting-with"><span class="header-section-number">2.3.4</span> Subsetting with $</a></li>
</ul>
</li>
<li><a class="nav-link" href="#data-frames"><span class="header-section-number">2.4</span> Data frames</a></li>
<li><a class="nav-link" href="#subsetting-and-assignment"><span class="header-section-number">2.5</span> Subsetting and assignment</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R for Audit Analytics</strong>" was written by Anil Goyal. It was last built on 2024-08-29.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
