<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <title>Chapter 8 File handling operations in R | R for Audit Analytics</title>

    <meta name="author" content="Anil Goyal" />
  
   <meta name="description" content="This book is intended for auditors performing exploratory data analytics using R programming language, mainly Base R and Tidyverse." />
   <meta name="generator" content="placeholder" />
  <meta property="og:title" content="Chapter 8 File handling operations in R | R for Audit Analytics" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://anilyayavar.github.io/new-book/" />
  <meta property="og:image" content="https://anilyayavar.github.io/new-book/images/cover.jpg" />
  <meta property="og:description" content="This book is intended for auditors performing exploratory data analytics using R programming language, mainly Base R and Tidyverse." />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 File handling operations in R | R for Audit Analytics" />
  
  <meta name="twitter:description" content="This book is intended for auditors performing exploratory data analytics using R programming language, mainly Base R and Tidyverse." />
  <meta name="twitter:image" content="https://anilyayavar.github.io/new-book/images/cover.jpg" />
  <!-- JS -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script>
  <script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script>
    <script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet" />
    <script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script>
    <script src="libs/bs3compat-0.8.0/transition.js"></script>
    <script src="libs/bs3compat-0.8.0/tabs.js"></script>
    <script src="libs/bs3compat-0.8.0/bs3compat.js"></script>
    <link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet" />
    <script src="libs/bs4_book-1.0.0/bs4_book.js"></script>
    <script src="libs/kePrint-0.0.1/kePrint.js"></script>
    <link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script>

  <!-- CSS -->
  <style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
    <style type="text/css">
    /* Used with Pandoc 2.11+ new --citeproc when CSL is used */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
          margin-bottom: 0em;
        }
    .hanging div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }
  </style>
      <link rel="stylesheet" href="style.css" />
  
</head>

<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book">
    <a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="">R for Audit Analytics</a>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
      </form>

      <nav aria-label="Table of contents">
        <h2>Table of contents</h2>
        <div id="book-toc"></div>

        <div class="book-extra">
          <p><a id="book-repo" href="#">View book source <i class="fab fa-github"></i></a></li></p>
        </div>
      </nav>
    </div>
  </header>

  <main class="col-sm-12 col-md-9 col-lg-7" id="content">
<div id="file" class="section level1" number="8">
<h1><span class="header-section-number">Chapter 8</span> File handling operations in R</h1>
<p>In chapter <a href="read.html#read">9</a> we have already learned about reading and writing data from/to files. In this section, we will learn about some other functions that are useful while reading and writing data, such as - changing directory, creating a file, renaming a file, check the existence of the file, listing all files in the working directory, copying files and creating directories.</p>
<div id="handling-files" class="section level2" number="8.1">
<h2><span class="header-section-number">8.1</span> Handling files</h2>
<div id="creating-a-file-within-r-using-file.create" class="section level3" number="8.1.1">
<h3><span class="header-section-number">8.1.1</span> Creating a file within R, using <code>file.create()</code></h3>
<p>Using <code>file.create()</code> function, we can create a new file from console. If the file already exists it truncates. The function returns a <code>TRUE</code> logical value if file is created otherwise, returns <code>FALSE</code>.</p>
<p>Example - The following command will create a blank text file in the current working directory.</p>
<div class="sourceCode" id="cb677"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb677-1"><a href="file.html#cb677-1" tabindex="-1"></a><span class="fu">file.create</span>(<span class="st">&quot;my_new_text_file.txt&quot;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="checking-whether-a-file-exists-using-file.exists" class="section level3" number="8.1.2">
<h3><span class="header-section-number">8.1.2</span> Checking whether a file exists, using <code>file.exists()</code></h3>
<p>Similar to above, we can check whether a file with given name exists, using function <code>file.exists()</code>. Example-</p>
<div class="sourceCode" id="cb679"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb679-1"><a href="file.html#cb679-1" tabindex="-1"></a><span class="fu">file.exists</span>(<span class="st">&quot;my_new_text_file.txt&quot;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="renaming-file-with-file.rename" class="section level3" number="8.1.3">
<h3><span class="header-section-number">8.1.3</span> Renaming file with <code>file.rename()</code></h3>
<p>The file name can be changed within the R console using, function <code>file.rename()</code>. Basic syntax is <code>file.rename(from = "old_name", to = "new_name")</code>. The function will return <code>TRUE</code> or <code>FALSE</code> depending upon the successful execution. See example</p>
<div class="sourceCode" id="cb681"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb681-1"><a href="file.html#cb681-1" tabindex="-1"></a><span class="fu">file.rename</span>(<span class="at">from =</span> <span class="st">&quot;my_new_text_file.txt&quot;</span>, <span class="at">to =</span> <span class="st">&quot;my_renamed_file.csv&quot;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb683"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb683-1"><a href="file.html#cb683-1" tabindex="-1"></a><span class="co"># Check whether old file exists</span></span>
<span id="cb683-2"><a href="file.html#cb683-2" tabindex="-1"></a><span class="fu">file.exists</span>(<span class="st">&quot;my_new_text_file.txt&quot;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</div>
<div id="copying-file-with-file.copy-function" class="section level3" number="8.1.4">
<h3><span class="header-section-number">8.1.4</span> Copying file with <code>file.copy()</code> function</h3>
<p>Using <code>file.copy(from = "old_path", to = "new_path")</code> syntax files can be copied from one directory to another.</p>
</div>
<div id="deleting-file-with-file.remove" class="section level3" number="8.1.5">
<h3><span class="header-section-number">8.1.5</span> Deleting file with <code>file.remove()</code></h3>
<p>The syntax for function, that removes a file with given name, is also very simple. Example-</p>
<div class="sourceCode" id="cb685"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb685-1"><a href="file.html#cb685-1" tabindex="-1"></a><span class="fu">file.remove</span>(<span class="st">&quot;my_renamed_file.csv&quot;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>Check whether the file has been really deleted.</p>
<div class="sourceCode" id="cb687"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb687-1"><a href="file.html#cb687-1" tabindex="-1"></a><span class="fu">file.exists</span>(<span class="st">&quot;my_renamed_file.csv&quot;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</div>
</div>
<div id="handling-directories" class="section level2" number="8.2">
<h2><span class="header-section-number">8.2</span> Handling directories</h2>
<div id="getset-path-of-current-working-directory-using-getwd-setwd" class="section level3" number="8.2.1">
<h3><span class="header-section-number">8.2.1</span> Get/Set path of current working directory using <code>getwd()</code>/ <code>setwd()</code></h3>
<p>We can check/get the path of current working directory (wd in short) as a character vector, using <code>getwd()</code> function.</p>
<div class="sourceCode" id="cb689"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb689-1"><a href="file.html#cb689-1" tabindex="-1"></a><span class="fu">getwd</span>()</span></code></pre></div>
<pre><code>## [1] &quot;G:/OneDrive - A c GeM CAG of INDIA (1)/new book&quot;</code></pre>
<p>Similarly, using <code>setwd("given\\path\\here")</code> we can change the current working directory.</p>
<blockquote>
<p>Two things to be noted here - Either the path is to be given using forward slash <code>/</code> or if backslash <code>\</code> is used these need to be escaped, using an extra <code>\</code> as <code>\</code> is itself an escape character in R.</p>
</blockquote>
</div>
<div id="create-new-directory-using-dir.create-and-other-operations" class="section level3" number="8.2.2">
<h3><span class="header-section-number">8.2.2</span> Create new directory using <code>dir.create()</code> and other operations</h3>
<p>A new directory can be created using function <code>dir.create()</code>. Example- the command below will create a new directory named ‘new_dir’ in the current working directory. If <code>TRUE</code> is returned, directory with given name is created.</p>
<div class="sourceCode" id="cb691"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb691-1"><a href="file.html#cb691-1" tabindex="-1"></a><span class="fu">dir.create</span>(<span class="st">&quot;new_dir&quot;</span>)</span></code></pre></div>
<p>We can check whether any directory named ‘new_dir’ exists in current working directory, using function <code>dir.exists()</code> function. Function will return either <code>TRUE</code> or <code>FALSE</code>.</p>
<div class="sourceCode" id="cb692"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb692-1"><a href="file.html#cb692-1" tabindex="-1"></a><span class="fu">dir.exists</span>(<span class="st">&quot;new_dir&quot;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>We can also check all files that exists in current working directory/any other directory using <code>list.files()</code> function.</p>
<div class="sourceCode" id="cb694"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb694-1"><a href="file.html#cb694-1" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">list.files</span>() <span class="sc">==</span> <span class="st">&#39;new_dir&#39;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<p>A given directory can be removed using <code>unlink()</code> function be specifically setting argument <code>recursive</code> to <code>TRUE</code>. Example</p>
<div class="sourceCode" id="cb696"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb696-1"><a href="file.html#cb696-1" tabindex="-1"></a><span class="fu">unlink</span>(<span class="st">&quot;new_dir&quot;</span>, <span class="at">recursive =</span> <span class="cn">TRUE</span>)</span>
<span id="cb696-2"><a href="file.html#cb696-2" tabindex="-1"></a><span class="fu">dir.exists</span>(<span class="st">&quot;new_dir&quot;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
</div>
</div>
<div id="an-important-function-for-opening-a-dialog-box-for-selecting-files-and-folder" class="section level2" number="8.3">
<h2><span class="header-section-number">8.3</span> An important function for opening a dialog box for selecting files and folder</h2>
<p>We may use either of <code>choose.dir()</code> or <code>file.choose()</code>, to let the user select directory or file of her/his choice respectively.</p>
<p>Try these in your console</p>
<pre><code>list.files(choose.dir())
file.copy(from = file.choose(), to = &quot;new_name&quot;)</code></pre>
</div>
<div id="other-useful-functions-for-listingremoving-variables" class="section level2" number="8.4">
<h2><span class="header-section-number">8.4</span> Other useful functions for listing/removing variables</h2>
<p>We can list all the variables available in current environment using function <code>ls()</code>. Another function <code>rm()</code> will remove the given variables. So a command like <code>rm(lm())</code> will remove all the available variables from the environment(Use this will caution as it will erase all the saved variables/data).</p>
</div>
<div id="using-save-to-save-objectscollection-of-objects" class="section level2" number="8.5">
<h2><span class="header-section-number">8.5</span> Using <code>save()</code> to save objects/collection of objects</h2>
<p>We can save objects using function <code>save()</code> which saves the objects on disk for later usage. The saved objects can be retrieved using <code>load()</code> function. See this example-</p>
<div class="sourceCode" id="cb699"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb699-1"><a href="file.html#cb699-1" tabindex="-1"></a>h <span class="ot">&lt;-</span> <span class="fu">hist</span>(Nile)</span></code></pre></div>
<div class="sourceCode" id="cb700"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb700-1"><a href="file.html#cb700-1" tabindex="-1"></a><span class="fu">save</span>(h, <span class="at">file=</span><span class="st">&quot;nile_hist&quot;</span>)</span>
<span id="cb700-2"><a href="file.html#cb700-2" tabindex="-1"></a><span class="fu">rm</span>(h)</span>
<span id="cb700-3"><a href="file.html#cb700-3" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">ls</span>() <span class="sc">==</span> <span class="st">&#39;h&#39;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb702"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb702-1"><a href="file.html#cb702-1" tabindex="-1"></a><span class="fu">load</span>(<span class="st">&quot;nile_hist&quot;</span>)</span>
<span id="cb702-2"><a href="file.html#cb702-2" tabindex="-1"></a><span class="fu">any</span>(<span class="fu">ls</span>() <span class="sc">==</span> <span class="st">&#39;h&#39;</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
</div>
<div id="working-with-projects-in-rstudio" class="section level2" number="8.6">
<h2><span class="header-section-number">8.6</span> Working with Projects in <code>RStudio</code></h2>
<p>While working on a project, often a requirement is to keep all scripts, data, results, charts, figures, etc. at a single place. R studio has thus, a concept of working in projects, which associates a specific directory with a specific project and creates a specific file with extension <code>.Rproj</code>, which can reopen the complete scripts/ data/ etc. associated with that project.</p>
<p>To open a new project in Rstudio, click <code>file</code> menu then <code>New Project</code>. Check the screenshot in Figure <a href="file.html#fig:proj1">8.1</a>.</p>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:proj1"></span>
<img src="images/Rproj1.png" alt="Creating Projects in R Studio" width="49%" height="49%" /><img src="images/Rproj2.png" alt="Creating Projects in R Studio" width="49%" height="49%" />
<p class="caption">
Figure 8.1: Creating Projects in R Studio
</p>
</div>
<p>After Creating the projects you will notice that a file with an extension <code>.Rproj</code> has been created by R Studio in the selected directory/location of project.</p>
<p>To resume working in the same project directory, either double click the file, or open the project using file menu i.e. <code>file</code> <span class="math inline">\(-&gt;\)</span> <code>Open Project</code>.</p>
<p>In R Studio, we can create a project -</p>
<ul>
<li>In a new directory (first option in Figure <a href="file.html#fig:proj1">8.1</a>)</li>
<li>In an Existing Directory (second option in Figure <a href="file.html#fig:proj1">8.1</a>)</li>
<li>By cloning a Version Control (like Git, etc.) as shown in third option in Figure <a href="file.html#fig:proj1">8.1</a>.</li>
</ul>
<p>Working in projects, one for each data analytics projects, has many benefits apart from streamlining the workflow, leading to improved productivity and focus on the analysis tasks, as against working directly using r scripts in RStudio-</p>
<ul>
<li>Can get rid of hassles of setting/finding the working directory after starting any session of RStudio.</li>
<li>All the paths are now relative to that project directory. This again saves us from a lot of hassles of finding path to the directory where our scripts and data as well as outputs (data, plots, etc.) are saved.</li>
<li>All our code and related outputs are now having a better reproducibility.</li>
<li>Each project can have its own R environment, preventing conflicts between packages and dependencies.</li>
<li>Working in projects also ensures a consistent setup across different machines or for different team members.</li>
<li>This also allows for project-specific settings and configurations, enhancing the user experience.</li>
</ul>

</div>
</div>
  </main>

  <div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page">
      <h2>On this page</h2>
      <div id="book-on-this-page"></div>

      <div class="book-extra">
        <ul class="list-unstyled">
          <li><a id="book-source" href="#">View source <i class="fab fa-github"></i></a></li>
          <li><a id="book-edit" href="#">Edit this page <i class="fab fa-github"></i></a></li>
        </ul>
      </div>
    </nav>
  </div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5">
  <div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>R for Audit Analytics</strong>" was written by Anil Goyal. It was last built on 2024-11-29.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer>


<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
<script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>

</html>
